<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>补题 | HoppzBlog</title><meta name="keywords" content="ACM"><meta name="author" content="Hoppz,Hoppz520@163.com"><meta name="copyright" content="Hoppz"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="**1____**前言  2020&#x2F;9&#x2F;15开始制作此板子，用于ACM比赛，节省记忆模板时间，便于过模板题，以及对高深的算法的记录  每日一遍，我真的好菜时间复杂度（渐近时间复杂度的严格定义，NP问题，时间复杂度的分析方法，主定理） 排序算法（平方排序算法的应用，Shell排序，快速排序，归并排序，时间复杂度下界，三种线性时间排序，外部排序） 数论（整除，集合论，关系，素数，进位制，辗转相除，扩展">
<meta property="og:type" content="article">
<meta property="og:title" content="补题">
<meta property="og:url" content="https://hoppz.github.io/2020/12/10/Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="HoppzBlog">
<meta property="og:description" content="**1____**前言  2020&#x2F;9&#x2F;15开始制作此板子，用于ACM比赛，节省记忆模板时间，便于过模板题，以及对高深的算法的记录  每日一遍，我真的好菜时间复杂度（渐近时间复杂度的严格定义，NP问题，时间复杂度的分析方法，主定理） 排序算法（平方排序算法的应用，Shell排序，快速排序，归并排序，时间复杂度下界，三种线性时间排序，外部排序） 数论（整除，集合论，关系，素数，进位制，辗转相除，扩展">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/08/03/kZaRI3WNvuLfyKc.png">
<meta property="article:published_time" content="2020-12-09T16:00:00.000Z">
<meta property="article:modified_time" content="2021-08-02T16:00:00.000Z">
<meta property="article:author" content="Hoppz">
<meta property="article:tag" content="ACM">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/08/03/kZaRI3WNvuLfyKc.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://hoppz.github.io/2020/12/10/Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '补题',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2021-08-03 00:00:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/hoppz.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="HoppzBlog" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/08/03/53R7bOPxWH1EdXJ.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">2</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/timeline/"><i class="fa-fw fa fa-bell"></i><span> 日志</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.loli.net/2021/08/03/kZaRI3WNvuLfyKc.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">HoppzBlog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/timeline/"><i class="fa-fw fa fa-bell"></i><span> 日志</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">补题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-12-09T16:00:00.000Z" title="发表于 2020-12-10 00:00:00">2020-12-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-08-02T16:00:00.000Z" title="更新于 2021-08-03 00:00:00">2021-08-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/ACM/">ACM</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="补题"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="1-前言"><a href="#1-前言" class="headerlink" title="**1____**前言"></a>**1____**前言</h1><hr>
<blockquote>
<p>2020/9/15<code>开始制作此板子</code>，用于ACM比赛，节省记忆模板时间，便于过模板题，以及对高深的算法的记录</p>
</blockquote>
<h2 id="每日一遍，我真的好菜"><a href="#每日一遍，我真的好菜" class="headerlink" title="每日一遍，我真的好菜"></a><strong>每日一遍，我真的好菜</strong></h2><p>时间复杂度（渐近时间复杂度的严格定义，NP问题，时间复杂度的分析方法，主定理）</p>
<p>排序算法（平方排序算法的应用，Shell排序，快速排序，归并排序，时间复杂度下界，三种线性时间排序，外部排序）</p>
<p>数论（整除，集合论，关系，素数，进位制，辗转相除，扩展的辗转相除，同余运算，解线性同余方程，中国剩余定理）</p>
<p>指针（<del>链表</del>，搜索判重，邻接表，开散列，<del>二叉树的表示</del>，多叉树的表示）</p>
<p>按位运算（and，or，xor，shl，shr，一些应用）</p>
<p>图论（图论模型的建立，平面图，欧拉公式与五色定理，求强连通分量，求割点和桥，欧拉回路，AOV问题，AOE问题，最小生成树的三种算法，最短路的三种算法，标号法，差分约束系统，验证二分图，Konig定理，匈牙利算法，KM算法，稳定婚姻系统，最大流算法，最小割最大流定理，最小费用最大流算法）</p>
<p>计算几何（平面解几及其应用，向量，点积及其应用，叉积及其应用，半平面相交，求点集的凸包，最近点对问题，凸多边形的交，离散化与扫描）</p>
<p>数据结构（<del>广度优先搜索</del>，验证括号匹配，表达式计算，递归的编译，Hash表，分段Hash，<del>并查集</del>，Tarjan算法，二叉堆，左偏树，二斜堆，二项堆，<del>二叉查找树</del>，红黑树，<del>AVL平衡树</del>，Treap，Splay，静态二叉查找树，2-d树，<del>线段树</del>，二维线段树，矩形树，Trie树，块状链表）</p>
<p>组合数学（排列与组合，鸽笼原理，容斥原理，递推，Fibonacci数列，Catalan数列，Stirling数，差分序列，生成函数，置换，Polya原理）</p>
<p>概率论 （简单概率，条件概率，Bayes定理，期望值）</p>
<p>矩阵（矩阵的概念和运算，二分求解线性递推方程，多米诺骨牌棋盘覆盖方案数，高斯消元）</p>
<p>字符串处理（<del>KMP</del>，后缀树，有限状态自动机，<del>Huffman编码</del>，简单密码学）</p>
<p>动态规划（单调队列，凸完全单调性，树型动规，多叉转二叉，状态压缩类动规，四边形不等式）</p>
<p>博奕论（Nim取子游戏，博弈树，Shannon开关游戏）</p>
<p>搜索（A<em>，ID，IDA</em>，随机调整，遗传算法）</p>
<p>微积分初步（极限思想，导数，积分，定积分，立体解析几何）</p>
<p>海岛blog icpc</p>
<p>[toc]</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/tigerisland45/article/details/52071939?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522160413384619215646547908%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=160413384619215646547908&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_v2~rank_v28-4-52071939.pc_search_result_cache&utm_term=icpc&spm=1018.2118.3001.4449">https://blog.csdn.net/tigerisland45/article/details/52071939?ops_request_misc=%7B%22request%5Fid%22%3A%22160413384619215646547908%22%2C%22scm%22%3A%2220140713.130102334.pc%5Fall.%22%7D&amp;request_id=160413384619215646547908&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2<del>all</del>first_rank_v2~rank_v28-4-52071939.pc_search_result_cache&amp;utm_term=icpc&amp;spm=1018.2118.3001.4449</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/sjf0115/article/details/8664562">https://blog.csdn.net/sjf0115/article/details/8664562</a></p>
<h2 id="1-2-基础注意事项"><a href="#1-2-基础注意事项" class="headerlink" title="1.2____基础注意事项"></a><em>1.2</em>____基础注意事项</h2><hr>
<h3 id="1-2-1-关于cin解绑cout加速"><a href="#1-2-1-关于cin解绑cout加速" class="headerlink" title="*1.2.1____*关于cin解绑cout加速"></a>*1.2.1____*关于cin解绑cout加速</h3><p>c语言中的printf，scanf与c++中的cin，cout有所不同。cin、cout是输入输出流，<code>效率较低</code>，但是便于书写，易懂。C++中，cin和cout要与stdio同步，中间会有一个<code>缓冲</code>，所以导致cin，cout语句输入输出缓慢，这时就可以用第一个语句，取消cin，cout与stdio的同步，说白了就是提速，效率基本与scanf和printf一致。然后就可放心的使用cin，cout了。</p>
<p>另外第一个语句取消的是cin，cout单独与std的绑定，实际上cin与cout也是绑定的，所以第二条语句就是取消cin与cout的绑定</p>
<p>在这两个绑定都取消后，io流输入效率与print和scanf相同</p>
<p><code>ios::sync_with_stdio(false);     cin.tie(0);</code></p>
<p><code>cin</code> 与 <code>scanf</code> 不要混着用，有问题！</p>
<h3 id="1-2-2-关于宏定义，typedef与引用（每次都要记错…-）"><a href="#1-2-2-关于宏定义，typedef与引用（每次都要记错…-）" class="headerlink" title="1.2.2____关于宏定义，typedef与引用（每次都要记错….）"></a><em>1.2.2</em>____关于宏定义，typedef与引用（每次都要记错….）</h3><p><code>#define &lt;宏名&gt; &lt;字符串&gt;</code> </p>
<p>#define PI 3.14</p>
<blockquote>
<p>宏定义注意事项</p>
</blockquote>
<p>在&lt;字符串&gt;中的式子定义之后<code>不会运算</code>，仅做字符串存储</p>
<p>例如：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 2+2</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">int</span> a=N*N;</span><br><span class="line">   <span class="built_in">printf</span>(“%d”,a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//8</span></span><br></pre></td></tr></table></figure>

<p>宏N代表的字符串是2+2，正常计算N*N结果为16，但是最终输出为8</p>
<p>原因：计算的式子为 <code>a =2 + 2*2 + 2</code> 直接替换了N的式子</p>
<p>解决办法在<code>定义式子时用“（）”定义</code></p>
<hr>
<p><code>#typedef &lt;数据类型&gt; &lt;标识符&gt;</code></p>
<p>#typedef long long ll</p>
<blockquote>
<p>进阶用法</p>
</blockquote>
<p>c++创始人写的<the design and evolution of cpp>中的下面这个例子</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="keyword">int</span> <span class="title">P</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="keyword">int</span> <span class="title">Q</span><span class="params">()</span></span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span> &#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="title">P</span><span class="params">(Q)</span></span>; <span class="comment">// 等价于`static int Q()`, Q在此作用域中不再是一个类型</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="title">Q</span><span class="params">(P)</span></span>; <span class="comment">// 等价于`static int Q(int ())`, 定义了一个名为Q的function</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>作用定义一个函数P( )用来表示定义一个int类型</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*** 整形 ***/</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> x;</span><br><span class="line">x a = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*** 结构体 ***/</span></span><br><span class="line"><span class="keyword">typedef</span> node&#123;</span><br><span class="line">	<span class="keyword">int</span> far; </span><br><span class="line">	<span class="keyword">int</span> rank;</span><br><span class="line">&#125;*Ptree , Tree , Trees[<span class="number">3</span>];</span><br><span class="line">Tree a1;</span><br><span class="line">Trees args;</span><br><span class="line">*Ptree = &amp;a1;</span><br><span class="line"><span class="comment">//*Ptree直接定义一个指向node的指针，Tree定义一个node结构，Trees定义一个层数为3的数组</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*** 指针 ***/</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> *p;</span><br><span class="line">p pa;</span><br><span class="line"><span class="comment">//定义一个指向int类型的指针</span></span><br></pre></td></tr></table></figure>

<hr>
<blockquote>
<p>引用——函数传参</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> &amp;a, <span class="keyword">int</span> &amp;b)</span></span>&#123;</span><br><span class="line">    a = a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>  x, y;</span><br><span class="line">    cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">    <span class="built_in">f</span>(x,y);</span><br><span class="line">    cout &lt;&lt; x &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;<span class="comment">//cin &gt;&gt;5 &gt;&gt;6 | cout &lt;&lt; 11</span></span><br></pre></td></tr></table></figure>

<p>用&amp;（引用符）传参，可直接使值直接改变到实参上</p>
<h3 id="1-2-3-一些测试方法"><a href="#1-2-3-一些测试方法" class="headerlink" title="1.2.3____一些测试方法"></a><em>1.2.3</em>____一些测试方法</h3><hr>
<blockquote>
<p>本地读入测试数据</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">file</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">ifdef</span> ONLINE_JUDGE</span></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">        <span class="built_in">freopen</span>( <span class="string">&quot;d:/workProgram/test.txt&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin );</span><br><span class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">file</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>测试算法运行的时间</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">clock_t</span> start,stop;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    start = <span class="built_in">clock</span>();    <span class="comment">///开始时间</span></span><br><span class="line">		<span class="comment">///...算法</span></span><br><span class="line">    stop = <span class="built_in">clock</span>();     <span class="comment">///结束时间</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;the time spend : &quot;</span> &lt;&lt; (<span class="keyword">double</span>)(stop - start) / CLK_TCK;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>随机数</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">srand</span>((<span class="keyword">unsigned</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>));<span class="comment">//让每次生成的随机数不一样</span></span><br><span class="line">	cout &lt;&lt; <span class="built_in">rand</span>() % <span class="number">5</span> &lt;&lt; endl; <span class="comment">///生成 0 - 4 之间的随机数</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-3-特殊函数归纳"><a href="#1-3-特殊函数归纳" class="headerlink" title="1.3____特殊函数归纳"></a><em>1.3</em>____特殊函数归纳</h2><hr>
<ul>
<li><p><strong>__gcd( x , y )</strong>                                                                                 求最大公倍数</p>
<p>  x,y必须是相同类型（int，ll，但<code>不能是浮点数</code>，）</p>
</li>
<li><p><strong>swap( x , y )</strong></p>
<p>  不用担心交换变量精度的缺失，无需构造临时变量，不会增加空间复杂度</p>
</li>
<li><p><strong>reverse( beg , end )                                                  反转数组从beg位置到end</strong></p>
<p>  <strong>reverse_copy(beg , end , b)                                                  反转后到新的数组</strong></p>
<p>  <code>数组</code>：reverse( a , a + 10 );</p>
<p>  <code>vector</code> ：reverse( v.begin() , v.end() );</p>
<p>  <code>string</code>：reverse( str.begin() , str.end() )；</p>
<p>  <code>字符数组</code> ：reverse( a , a + strlen(a) );</p>
</li>
<li><p><strong>find(a.begin() , b.begin(), val)                                                      容器查找元素</strong></p>
<p>  运用<code>指针</code>在<code>数组</code>中实现find</p>
  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">5</span>] = &#123;<span class="number">1</span>,<span class="number">23</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line">  <span class="keyword">int</span> *i = <span class="built_in">find</span>(a,a+<span class="number">5</span>,<span class="number">3</span>);              <span class="comment">///非常重要</span></span><br><span class="line">  <span class="keyword">int</span> *end = a + <span class="number">5</span>;                    <span class="comment">///非常重要</span></span><br><span class="line">  <span class="keyword">if</span>( i == end)&#123;</span><br><span class="line">      cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">      cout &lt;&lt; i - &amp;a[<span class="number">0</span>] &lt;&lt;endl;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>sscanf()</p>
<p>  <a target="_blank" rel="noopener" href="https://blog.csdn.net/TheWaySoFar/article/details/51879481?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522160033252119195162106054%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=160033252119195162106054&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-4-51879481.pc_search_result_cache&utm_term=sscanf&spm=1018.2118.3001.4187">https://blog.csdn.net/TheWaySoFar/article/details/51879481?ops_request_misc=%7B%22request%5Fid%22%3A%22160033252119195162106054%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=160033252119195162106054&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2<del>all</del>top_click~default-4-51879481.pc_search_result_cache&amp;utm_term=sscanf&amp;spm=1018.2118.3001.4187</a></p>
</li>
<li><p>memcpy( a,b,sizeof(int )*k )</p>
<p>  将a数组<code>复制</code>到b数组，k为复制的大小，（int）是数组的类型，如果是直接复制整个数组就去掉*k</p>
</li>
</ul>
<h2 id="1-4-动态内存分配"><a href="#1-4-动态内存分配" class="headerlink" title="*1.4____*动态内存分配"></a>*1.4____*动态内存分配</h2><hr>
<blockquote>
<p>每场比赛，基本上都要用</p>
</blockquote>
<p>动态内存分配，越界验证</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> date;</span><br><span class="line">    node* left_son;</span><br><span class="line">    node* right_son;</span><br><span class="line">&#125;Node;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(Node* &amp;L,<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    L = (Node *)<span class="built_in">malloc</span>( <span class="built_in"><span class="keyword">sizeof</span></span>(Node) * n);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    Node* L;</span><br><span class="line">    <span class="built_in">init</span>(L,n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        L[i].date = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        cout &lt;&lt; L[i].date  &lt;&lt; L[i].date &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,L[<span class="number">2</span>].date);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>,&amp;L[n + <span class="number">1</span>].date,L[n].date);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-5-加强for循环"><a href="#1-5-加强for循环" class="headerlink" title="*1.5____*加强for循环"></a>*1.5____*加强for循环</h2><hr>
<p><code>for(auto 元素 : 数据集合)</code></p>
<p><code>优点</code>：在迭代一些容器时很方便，不用写迭代器</p>
<p><code>缺点</code> ：不能在增强循环里动态的删除集合内容、不能获取下标等。普通for循环可以没有遍历的目标，而增强for循环一定要有遍历的目标。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> item : array)&#123;</span><br><span class="line">		cout &lt;&lt; item &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-6-STL概述"><a href="#1-6-STL概述" class="headerlink" title="1.6____STL概述"></a><em>1.6</em>____STL概述</h2><hr>
<p>stl中包含的头文件</p>
<ul>
<li><p><strong>三大类</strong></p>
<p>  <code>container容器</code> </p>
<p>  <code>algorithm算法</code> </p>
  <algorithm>

  <numeric>

  <functional>

<p>  <code>iterator迭代器</code></p>
  <utility>

  <iterator>

  <memory></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span>                     双端队列</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span>                     队列</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;priority_queue&gt;</span>            优先队列</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span>                    向量</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span>                      链表</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span>                       映射</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;multimap&gt;</span>                  多重映射</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span>                       集合</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;multiset&gt;</span>                  多重集合</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span>                     栈</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fucntional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"></span><br><span class="line">vector, 变长数组，倍增的思想</span><br><span class="line">    <span class="built_in">size</span>()  返回元素个数</span><br><span class="line">    <span class="built_in">empty</span>()  返回是否为空</span><br><span class="line">    <span class="built_in">clear</span>()  清空</span><br><span class="line">    <span class="built_in">front</span>()/<span class="built_in">back</span>()</span><br><span class="line">    <span class="built_in">push_back</span>()/<span class="built_in">pop_back</span>()</span><br><span class="line">    <span class="built_in">begin</span>()/<span class="built_in">end</span>()</span><br><span class="line">    []</span><br><span class="line">    支持比较运算，按字典序</span><br><span class="line"></span><br><span class="line">pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;</span><br><span class="line">    first, 第一个元素</span><br><span class="line">    second, 第二个元素</span><br><span class="line">    支持比较运算，以first为第一关键字，以second为第二关键字（字典序）</span><br><span class="line"></span><br><span class="line">string，字符串</span><br><span class="line">    <span class="built_in">size</span>()/<span class="built_in">length</span>()  返回字符串长度</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">clear</span>()</span><br><span class="line">    <span class="built_in">substr</span>(起始下标，(子串长度))  返回子串</span><br><span class="line">    <span class="built_in">c_str</span>()  返回字符串所在字符数组的起始地址</span><br><span class="line"></span><br><span class="line">queue, 队列</span><br><span class="line">    <span class="built_in">size</span>()</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">push</span>()  向队尾插入一个元素</span><br><span class="line">    <span class="built_in">front</span>()  返回队头元素</span><br><span class="line">    <span class="built_in">back</span>()  返回队尾元素</span><br><span class="line">    <span class="built_in">pop</span>()  弹出队头元素</span><br><span class="line"></span><br><span class="line">priority_queue, 优先队列，默认是大根堆</span><br><span class="line">    <span class="built_in">size</span>()</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">push</span>()  插入一个元素</span><br><span class="line">    <span class="built_in">top</span>()  返回堆顶元素</span><br><span class="line">    <span class="built_in">pop</span>()  弹出堆顶元素</span><br><span class="line">    定义成小根堆的方式：priority_queue&lt;<span class="keyword">int</span>, vector&lt;<span class="keyword">int</span>&gt;, greater&lt;<span class="keyword">int</span>&gt;&gt; q;</span><br><span class="line"></span><br><span class="line">stack, 栈</span><br><span class="line">    <span class="built_in">size</span>()</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">push</span>()  向栈顶插入一个元素</span><br><span class="line">    <span class="built_in">top</span>()  返回栈顶元素</span><br><span class="line">    <span class="built_in">pop</span>()  弹出栈顶元素</span><br><span class="line"></span><br><span class="line">deque, 双端队列</span><br><span class="line">    <span class="built_in">size</span>()</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">clear</span>()</span><br><span class="line">    <span class="built_in">front</span>()/<span class="built_in">back</span>()</span><br><span class="line">    <span class="built_in">push_back</span>()/<span class="built_in">pop_back</span>()</span><br><span class="line">    <span class="built_in">push_front</span>()/<span class="built_in">pop_front</span>()</span><br><span class="line">    <span class="built_in">begin</span>()/<span class="built_in">end</span>()</span><br><span class="line">    []</span><br><span class="line"></span><br><span class="line">set, map, multiset, multimap, 基于平衡二叉树（红黑树），动态维护有序序列</span><br><span class="line">    <span class="built_in">size</span>()</span><br><span class="line">    <span class="built_in">empty</span>()</span><br><span class="line">    <span class="built_in">clear</span>()</span><br><span class="line">    <span class="built_in">begin</span>()/<span class="built_in">end</span>()</span><br><span class="line">    ++, -- 返回前驱和后继，时间复杂度 <span class="built_in">O</span>(logn)</span><br><span class="line"></span><br><span class="line">    set/<span class="function">multiset</span></span><br><span class="line"><span class="function">        <span class="title">insert</span><span class="params">()</span>  插入一个数</span></span><br><span class="line"><span class="function">        <span class="title">find</span><span class="params">()</span>  查找一个数</span></span><br><span class="line"><span class="function">        <span class="title">count</span><span class="params">()</span>  返回某一个数的个数</span></span><br><span class="line"><span class="function">        <span class="title">erase</span><span class="params">()</span></span></span><br><span class="line"><span class="function">            <span class="params">(<span class="number">1</span>)</span> 输入是一个数x，删除所有x   <span class="title">O</span><span class="params">(k + logn)</span></span></span><br><span class="line"><span class="function">            <span class="params">(<span class="number">2</span>)</span> 输入一个迭代器，删除这个迭代器</span></span><br><span class="line"><span class="function">        <span class="title">lower_bound</span><span class="params">()</span>/<span class="title">upper_bound</span><span class="params">()</span></span></span><br><span class="line"><span class="function">            <span class="title">lower_bound</span><span class="params">(x)</span>  返回大于等于x的最小的数的迭代器</span></span><br><span class="line"><span class="function">            <span class="title">upper_bound</span><span class="params">(x)</span>  返回大于x的最小的数的迭代器</span></span><br><span class="line"><span class="function">    map/multimap</span></span><br><span class="line"><span class="function">        <span class="title">insert</span><span class="params">()</span>  插入的数是一个pair</span></span><br><span class="line"><span class="function">        <span class="title">erase</span><span class="params">()</span>  输入的参数是pair或者迭代器</span></span><br><span class="line"><span class="function">        <span class="title">find</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        []  注意multimap不支持此操作。 时间复杂度是 <span class="title">O</span><span class="params">(logn)</span></span></span><br><span class="line"><span class="function">        <span class="title">lower_bound</span><span class="params">()</span>/<span class="title">upper_bound</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">unordered_set, unordered_map, unordered_multiset, unordered_multimap, 哈希表</span></span><br><span class="line"><span class="function">    和上面类似，增删改查的时间复杂度是 <span class="title">O</span><span class="params">(<span class="number">1</span>)</span></span></span><br><span class="line"><span class="function">    不支持 <span class="title">lower_bound</span><span class="params">()</span>/<span class="title">upper_bound</span><span class="params">()</span>， 迭代器的++，--</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">bitset, 圧位</span></span><br><span class="line"><span class="function">    bitset&lt;10000&gt; s</span>;</span><br><span class="line">    ~, &amp;, |, ^</span><br><span class="line">    &gt;&gt;, &lt;&lt;</span><br><span class="line">    ==, !=</span><br><span class="line">    []</span><br><span class="line"></span><br><span class="line">    <span class="built_in">count</span>()  返回有多少个<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">any</span>()  判断是否至少有一个<span class="number">1</span></span><br><span class="line">    <span class="built_in">none</span>()  判断是否全为<span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">set</span>()  把所有位置成<span class="number">1</span></span><br><span class="line">    <span class="built_in">set</span>(k, v)  将第k位变成v</span><br><span class="line">    <span class="built_in">reset</span>()  把所有位变成<span class="number">0</span></span><br><span class="line">    <span class="built_in">flip</span>()  等价于~</span><br><span class="line">    <span class="built_in">flip</span>(k) 把第k位取反</span><br><span class="line"></span><br><span class="line"><span class="comment">///一些常用的函数 </span></span><br><span class="line"></span><br><span class="line">**查找数组最小值，最大值** </span><br><span class="line"></span><br><span class="line">*<span class="built_in">min_elemant</span>(a,a+n);</span><br><span class="line">*<span class="built_in">max_elemant</span>(a,a+n);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="1-7-快读快输"><a href="#1-7-快读快输" class="headerlink" title="1.7____快读快输"></a><em>1.7</em>____快读快输</h2><hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> x=<span class="number">0</span>,f=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">char</span> ch=<span class="built_in">getchar</span>();</span><br><span class="line"><span class="keyword">while</span>(ch&lt;<span class="string">&#x27;0&#x27;</span>||ch&gt;<span class="string">&#x27;9&#x27;</span>)&#123; <span class="comment">//等待数字输⼊</span></span><br><span class="line"><span class="keyword">if</span>(ch==<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">f=<span class="number">-1</span>;</span><br><span class="line">ch=<span class="built_in">getchar</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(ch&gt;=<span class="string">&#x27;0&#x27;</span>&amp;&amp;ch&lt;=<span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">x=(x&lt;&lt;<span class="number">1</span>)+(x&lt;&lt;<span class="number">3</span>)+(ch^<span class="number">48</span>); <span class="comment">//x=x*10+ch-&#x27;0&#x27;</span></span><br><span class="line">ch=<span class="built_in">getchar</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> x*f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> X)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(X&lt;<span class="number">0</span>) &#123;<span class="built_in">putchar</span>(<span class="string">&#x27;-&#x27;</span>); X=~(X<span class="number">-1</span>);&#125; <span class="comment">//如果为负 减⼀取反为正数</span></span><br><span class="line"><span class="keyword">int</span> s[<span class="number">20</span>],top=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(X) &#123;s[++top]=X%<span class="number">10</span>; X/=<span class="number">10</span>;&#125; <span class="comment">//直到X为0 将每⼀位给s</span></span><br><span class="line"><span class="keyword">if</span>(!top) s[++top]=<span class="number">0</span>; <span class="comment">//特判</span></span><br><span class="line"><span class="keyword">while</span>(top) <span class="built_in">putchar</span>(s[top--]+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-8-关于取模"><a href="#1-8-关于取模" class="headerlink" title="1.8____关于取模"></a><em>1.8</em>____关于取模</h2><hr>
<ul>
<li>在大数相加中，如果只是求后N位，在每次相加后取1eN的模对结果无影响</li>
</ul>
<h2 id="1-9-bitset基本操作"><a href="#1-9-bitset基本操作" class="headerlink" title="1.9____bitset基本操作"></a><em>1.9</em>____bitset基本操作</h2><hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">   bitset&lt;8&gt; n;</span><br><span class="line">   n = <span class="number">2</span>;</span><br><span class="line">   cout &lt;&lt; n &lt;&lt; endl;          <span class="comment">///1.用二级制输出</span></span><br><span class="line">   cout &lt;&lt; n[<span class="number">1</span>] &lt;&lt; endl;       <span class="comment">///2.输出n中第i位</span></span><br><span class="line">   cout &lt;&lt; n.<span class="built_in">count</span>() &lt;&lt; endl;  <span class="comment">///3.计算该二进制中1的个数</span></span><br><span class="line">   cout &lt;&lt; n.<span class="built_in">size</span>() &lt;&lt; endl;   <span class="comment">///4.输出二进制的位数</span></span><br><span class="line">   cout &lt;&lt; n.<span class="built_in">set</span>(<span class="number">2</span>) &lt;&lt;endl;    <span class="comment">///5.将n的第2位设置位1，下同</span></span><br><span class="line">   n[<span class="number">3</span>] = <span class="number">1</span>;</span><br><span class="line">   cout &lt;&lt; n &lt;&lt; endl;          <span class="comment">///6.直接赋值</span></span><br><span class="line">   n[<span class="number">3</span>] = <span class="number">0</span>;                   <span class="comment">///7.直接赋值</span></span><br><span class="line">   cout &lt;&lt; n &lt;&lt; endl;</span><br><span class="line">   cout &lt;&lt; n.<span class="built_in">reset</span>(<span class="number">1</span>) &lt;&lt; endl; <span class="comment">///8.直接赋值0，同上</span></span><br><span class="line"></span><br><span class="line">   cout &lt;&lt; n.<span class="built_in">set</span>() &lt;&lt; endl;    <span class="comment">///9.将n的所有值设置为1</span></span><br><span class="line">   cout &lt;&lt; n.<span class="built_in">reset</span>() &lt;&lt; endl;  <span class="comment">///10.将n的所有值设置为0</span></span><br><span class="line">   cout &lt;&lt; <span class="string">&quot;/////////&quot;</span> &lt;&lt; endl;</span><br><span class="line">   cout &lt;&lt; n.<span class="built_in">flip</span>() &lt;&lt; endl;</span><br><span class="line">   cout &lt;&lt; n[<span class="number">2</span>].<span class="built_in">flip</span>() &lt;&lt; endl;</span><br><span class="line">   n.<span class="built_in">flip</span>(<span class="number">2</span>);                  <span class="comment">///这个好像不管用。。。</span></span><br><span class="line">   cout &lt;&lt; n &lt;&lt; endl;          <span class="comment">///11.全部按位取反，单个按位取反</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">///12.把bitset类转换到c的数据类型ulong</span></span><br><span class="line">   <span class="keyword">unsigned</span> <span class="keyword">long</span> nb = n.<span class="built_in">to_ulong</span>();</span><br><span class="line">   cout &lt;&lt; nb &lt;&lt; endl;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//bitset的方法</span></span><br><span class="line"><span class="comment">//any()方法如果有一位为1，则返回1</span></span><br><span class="line">cout&lt;&lt;<span class="string">&quot;bs1.any() = &quot;</span>&lt;&lt;bs1.<span class="built_in">any</span>()&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">//none()方法，如果有一个为1none则返回0，如果全为0则返回1</span></span><br><span class="line">bitset&lt;3&gt; bsNone;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;bsNone.none() = &quot;</span> &lt;&lt;bsNone.<span class="built_in">none</span>()&lt;&lt;endl;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="1-10-关于floor对小数的向下取整"><a href="#1-10-关于floor对小数的向下取整" class="headerlink" title="1.10____关于floor对小数的向下取整"></a><em>1.10</em>____关于floor对小数的向下取整</h2><p>floor()函数不管是对int型还是double型变量向下取整后都是整数</p>
<ul>
<li><p>对于double型的小数部分就直接丢失了</p>
<p>  double x = 1.233</p>
<p>  所以就要用 <code>floor( x * 100) / 100</code>   的方式来保留小数 <code>→ 1.23</code></p>
</li>
</ul>
<p>ceil同理</p>
<h2 id="1-11-关于stl中end-begin-rbegin-rend"><a href="#1-11-关于stl中end-begin-rbegin-rend" class="headerlink" title="1.11____关于stl中end(),begin(),rbegin(),rend()"></a><em>1.11</em>____关于stl中end(),begin(),rbegin(),rend()</h2><hr>
<h2 id="1-12-关于取模"><a href="#1-12-关于取模" class="headerlink" title="1.12____关于取模"></a><em>1.12</em>____关于取模</h2><hr>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled.png"></p>
<h2 id="1-13-String-与-char-读入"><a href="#1-13-String-与-char-读入" class="headerlink" title="1.13____String 与 char[ ] 读入"></a><em>1.13</em>____String 与 char[ ] 读入</h2><hr>
<p><code>对于string</code> ：</p>
<p><strong>可输入空格的一行读入</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string s;</span><br><span class="line"><span class="built_in">getline</span>(cin.s);</span><br></pre></td></tr></table></figure>

<p><strong>直接读入不可输入空格</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string s;</span><br><span class="line">cin &gt;&gt; s;</span><br></pre></td></tr></table></figure>

<p><code>对于char[ ]</code> ：</p>
<p><strong>限定大小的输入（ 不能读入String ）</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line">cin.<span class="built_in">get</span>(a,n);</span><br><span class="line">cin.<span class="built_in">getline</span>(a,n);</span><br></pre></td></tr></table></figure>

<p><strong>可输入空格一行读入</strong> </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="built_in">gets</span>(s);</span><br></pre></td></tr></table></figure>

<h2 id="1-14-String-与-char-的函数"><a href="#1-14-String-与-char-的函数" class="headerlink" title="1.14____String 与 char[ ] 的函数"></a><em>1.14</em>____String 与 char[ ] 的函数</h2><hr>
<h3 id="关于-string的知识点"><a href="#关于-string的知识点" class="headerlink" title="关于 string的知识点"></a>关于 string的知识点</h3><hr>
<ol>
<li><p>可以使用 “ = “进行赋值，使用 “ == “进行等值比较，使用 “ + ”做串联 </p>
</li>
<li><p>string类支持 cin ， getline( cin , s ) 两种输入方式 </p>
</li>
<li><p>string可用 <code>s.max_size()</code> 输出最大容量 </p>
<p> <img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%201.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%201.png"></p>
</li>
<li></li>
</ol>
<h3 id="C艹的String接口与函数"><a href="#C艹的String接口与函数" class="headerlink" title="C艹的String接口与函数"></a>C艹的String接口与函数</h3><hr>
<blockquote>
<p>string的所有成员函数</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.notion.so/591c6c2895bd4f6dbd02eaab2f61e953">String</a></p>
<hr>
<h3 id="string的其他函数"><a href="#string的其他函数" class="headerlink" title="string的其他函数"></a>string的其他函数</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">///大小写转换</span></span><br><span class="line">  <span class="built_in">transform</span>(str.<span class="built_in">begin</span>(), str.<span class="built_in">end</span>(), str.<span class="built_in">begin</span>(), ::tolower);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;转小写: &quot;</span> &lt;&lt; str &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">transform</span>(str.<span class="built_in">begin</span>(), str.<span class="built_in">end</span>(), str.<span class="built_in">begin</span>(), ::toupper);</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;转大写: &quot;</span> &lt;&lt; str &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">///int 转 string</span></span><br><span class="line"><span class="keyword">int</span> a = <span class="number">123</span>;</span><br><span class="line">string num = <span class="built_in">to_string</span>(a);</span><br><span class="line"></span><br><span class="line"><span class="comment">///string 转 int</span></span><br><span class="line">string num = <span class="string">&quot;123124&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> a = <span class="built_in">stoi</span>(num);</span><br></pre></td></tr></table></figure>

<h3 id="char-转-int"><a href="#char-转-int" class="headerlink" title="char 转 int"></a>char 转 int</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">///char* || char[] 转 int </span></span><br><span class="line"><span class="keyword">char</span> *str = <span class="string">&quot;1231245&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> a = <span class="built_in">atoi</span>(str);</span><br><span class="line"></span><br><span class="line"><span class="comment">///int zh换 char[] || char*</span></span><br><span class="line"><span class="keyword">char</span> num[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">213</span>;</span><br><span class="line"><span class="built_in">sprintf</span>(num,<span class="string">&quot;%d&quot;</span>,a);</span><br></pre></td></tr></table></figure>

<h2 id="1-15-任意进制转换"><a href="#1-15-任意进制转换" class="headerlink" title="1.15____任意进制转换"></a><em>1.15</em>____任意进制转换</h2><hr>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> int maxn = <span class="number">200</span>;</span><br><span class="line">int num[maxn];</span><br><span class="line">char s[maxn],ans[<span class="number">2000</span>],te[<span class="number">2000</span>];</span><br><span class="line"></span><br><span class="line">int x ,y;</span><br><span class="line"></span><br><span class="line"><span class="comment">///s为输入，ans为输出，te为每一轮更新的答案</span></span><br><span class="line">int <span class="function"><span class="title">getnum</span>(<span class="params">char c</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>( c &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;9&#x27;</span> ) <span class="keyword">return</span> c - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( c &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;Z&#x27;</span> ) <span class="keyword">return</span> c + <span class="number">10</span> - <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( c &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;z&#x27;</span> ) <span class="keyword">return</span> c + <span class="number">36</span> - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">char <span class="function"><span class="title">getchar</span>(<span class="params">int c</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>( c &gt;= <span class="number">0</span> &amp;&amp; c &lt;= <span class="number">9</span> ) <span class="keyword">return</span> c + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( c &gt;= <span class="number">10</span> &amp;&amp; c &lt;= <span class="number">35</span> ) <span class="keyword">return</span> c - <span class="number">10</span> + <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( c &gt;= <span class="number">36</span> &amp;&amp; c &lt;= <span class="number">61</span> ) <span class="keyword">return</span> c - <span class="number">36</span> + <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="function"><span class="title">trans</span>(<span class="params"></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    int len = strlen( s );</span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; len ; i++) num[i] = getnum( s[i] );</span><br><span class="line"></span><br><span class="line">    int k = -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>( int j = <span class="number">0</span>; j &lt;len ; )&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">///每一轮得到一个余数，添加到答案里</span></span><br><span class="line">        <span class="keyword">for</span>(int i = j ; i &lt; len - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">///一个一个的除，余数进的下一位</span></span><br><span class="line">            num[i + <span class="number">1</span>] += num[i] % y * x;</span><br><span class="line">            <span class="comment">///本位的值为商</span></span><br><span class="line">            num[i] /= y;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">///在末尾的到这次的余数</span></span><br><span class="line">        te[++k] = num[len - <span class="number">1</span>] % y;</span><br><span class="line">        num[len - <span class="number">1</span>] /= y;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>( j &lt; len &amp;&amp; !num[j] ) j++;</span><br><span class="line">        <span class="comment">///答案序列全部更新（倒序的）</span></span><br><span class="line">        <span class="keyword">for</span>(int i = <span class="number">0</span> ; i &lt;= k ; i++) ans[i] = getchar( te[k - i] );</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; x &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    printf(<span class="string">&quot;%s\n&quot;</span>,s);</span><br><span class="line">    cout &lt;&lt; y &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt;= k ; i++)&#123;</span><br><span class="line">        cout &lt;&lt; ans[i];</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span>(<span class="params"></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    int t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        memset(s,<span class="number">0</span>,sizeof s);</span><br><span class="line">        memset(num,<span class="number">0</span>,sizeof num);</span><br><span class="line">        memset(ans,<span class="number">0</span>,sizeof ans);</span><br><span class="line">        memset(te,<span class="number">0</span>,sizeof te);</span><br><span class="line">        cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">        cin &gt;&gt; s;</span><br><span class="line">        trans();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-16-数据范围"><a href="#1-16-数据范围" class="headerlink" title="1.16____数据范围"></a>1.16____数据范围</h2><hr>
<p><strong>一般ACM或者笔试题的时间限制是1秒或2秒。<br>在这种情况下，C++代码中的操作次数控制在 $10^6$∼$10^8$ $10^7$∼$10^8$ 为最佳。</strong></p>
<p>下面给出在不同数据范围下，代码的时间复杂度和算法该如何选择：</p>
<p>n≤30n≤30, 指数级别, dfs+剪枝，状态压缩dp<br>n≤100n≤100 =&gt; O(n3)O(n3)，floyd，dp，高斯消元<br>n≤1000n≤1000 =&gt; O(n2)O(n2)，O(n2logn)O(n2logn)，dp，二分，朴素版Dijkstra、朴素版Prim、Bellman-Ford<br>n≤10000n≤10000 =&gt; O(n∗n√)O(n∗n)，块状链表、分块、莫队<br>n≤100000n≤100000 =&gt; O(nlogn)O(nlogn) =&gt; 各种sort，线段树、树状数组、set/map、heap、拓扑排序、dijkstra+heap、prim+heap、spfa、求凸包、求半平面交、二分、CDQ分治、整体二分<br>n≤1000000n≤1000000 =&gt; O(n)O(n), 以及常数较小的 O(nlogn)O(nlogn) 算法 =&gt; 单调队列、 hash、双指针扫描、并查集，kmp、AC自动机，常数比较小的 O(nlogn)O(nlogn) 的做法：sort、树状数组、heap、dijkstra、spfa<br>n≤10000000n≤10000000 =&gt; O(n)O(n)，双指针扫描、kmp、AC自动机、线性筛素数<br>n≤109n≤109 =&gt; O(n√)O(n)，判断质数<br>n≤1018n≤1018 =&gt; O(logn)O(logn)，最大公约数，快速幂<br>n≤101000n≤101000 =&gt; O((logn)2)O((logn)2)，高精度加减乘除<br>n≤10100000n≤10100000 =&gt; O(logk×loglogk)，k表示位数O(logk×loglogk)，k表示位数，高精度加减、FFT/NTT</p>
<h2 id="1-17-cin格式化输出"><a href="#1-17-cin格式化输出" class="headerlink" title="1.17____cin格式化输出"></a>1.17____cin格式化输出</h2><h2 id="1-18-cout格式化输出"><a href="#1-18-cout格式化输出" class="headerlink" title="1.18____cout格式化输出"></a>1.18____cout格式化输出</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">///非科学计数法输出 </span></span><br><span class="line">cout.<span class="built_in">setf</span>(ios::fixed);</span><br><span class="line"><span class="comment">///设置输出小数点 </span></span><br><span class="line">cout &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">4</span>) &lt;&lt; x &lt;&lt;endl;</span><br></pre></td></tr></table></figure>

<h2 id="1-19-count-if-函数"><a href="#1-19-count-if-函数" class="headerlink" title="1.19____ count_if()函数"></a>1.19____ <code>count_if()</code>函数</h2><p>返回满足 第三个参数这个函数的数量</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">f3</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123; <span class="keyword">return</span> x % <span class="number">3</span>== <span class="number">0</span>; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; vec = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">9</span>,<span class="number">6</span>,<span class="number">23</span>,<span class="number">21</span>,<span class="number">23</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">33</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="built_in">count_if</span>( vec.<span class="built_in">begin</span>(), vec.<span class="built_in">end</span>() , f3 );</span><br><span class="line">    cout &lt;&lt;cnt &lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/07/24/f35LulW6IgoCKUT.png" alt="image-20210724204042486"></p>
<h2 id="1-20-generate-函数"><a href="#1-20-generate-函数" class="headerlink" title="1.20____generate() 函数"></a>1.20____<code>generate()</code> 函数</h2><p>以第三个参数给区间赋值，第三个参数是不接受任何参数的函数对象</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">f3</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123; <span class="keyword">return</span> x % <span class="number">3</span>== <span class="number">0</span>; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">srand</span>((<span class="keyword">unsigned</span>)<span class="built_in">time</span>(<span class="number">0</span>));</span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; vec = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">9</span>,<span class="number">6</span>,<span class="number">23</span>,<span class="number">21</span>,<span class="number">23</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">33</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">auto</span> it = vec.<span class="built_in">begin</span>() ;it != vec.<span class="built_in">end</span>() ; it++ )&#123;</span><br><span class="line">        cout &lt;&lt; *it &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">generate</span>(vec.<span class="built_in">begin</span>() , vec.<span class="built_in">end</span>(), std::rand);</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">auto</span> it = vec.<span class="built_in">begin</span>() ;it != vec.<span class="built_in">end</span>() ; it++ )&#123;</span><br><span class="line">        cout &lt;&lt; *it &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-21-lambda表达式"><a href="#1-21-lambda表达式" class="headerlink" title="1.21____lambda表达式"></a>1.21____<code>lambda</code>表达式</h2><p>​    <code>labmda</code>表达式这个系统让你能够使用匿名函数——即无需给函数命名。在<code>C++11</code> 中对于接受函数指针或函数符的函数，可使用匿名函数定义（lambda）作为参数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[] (<span class="keyword">int</span> x) &#123; <span class="keyword">return</span> x % <span class="number">3</span> == <span class="number">0</span>;&#125;</span><br></pre></td></tr></table></figure>

<p>​    上面<code>count_if</code>的函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">f3</span> <span class="params">(<span class="keyword">int</span> x )</span> </span>&#123; <span class="keyword">return</span> x%<span class="number">3</span> ==<span class="number">0</span>; &#125;</span><br></pre></td></tr></table></figure>

<p>​    两者的区别就是将<code>bool f3</code> （返回值类型以及函数名）替换为了<code>[]</code> （这就是匿名的由来）;没有声明返回值类型。返回类型相当于使用 <code>decltyp</code> 根据推断得到的，这里为<code>bool</code>。</p>
<p><strong>一段简单的Code</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">int</span> b = <span class="number">2</span>;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">auto</span> func = [=, &amp;b](<span class="keyword">int</span> c)-&gt;<span class="keyword">int</span> &#123;<span class="keyword">return</span> b += a + c;&#125;;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当我第一次看到这段代码时，我直接凌乱了，直接看不懂啊。上面这段代码，如果你看懂了，下面的内容就当时复习了；如果看不懂了，就接着和我一起总结吧。</p>
<p><strong>基本语法</strong></p>
<p>简单来说，Lambda函数也就是一个函数，它的语法定义如下：</p>
<p><code>[capture](parameters) mutable -&gt;return-type&#123;statement&#125;</code></p>
<p>1.[capture]：捕捉列表。捕捉列表总是出现在Lambda函数的开始处。实际上，[]是Lambda引出符。编译器根据该引出符判断接下来的代码是否是Lambda函数。捕捉列表能够捕捉上下文中的变量以供Lambda函数使用;</p>
<p>2.(parameters)：参数列表。与普通函数的参数列表一致。如果不需要参数传递，则可以连同括号“()”一起省略;</p>
<p>3.mutable：mutable修饰符。默认情况下，Lambda函数总是一个const函数，mutable可以取消其常量性。在使用该修饰符时，参数列表不可省略（即使参数为空）;</p>
<p>4.-&gt;return-type：返回类型。用追踪返回类型形式声明函数的返回类型。我们可以在不需要返回值的时候也可以连同符号”-&gt;”一起省略。此外，在返回类型明确的情况下，也可以省略该部分，让编译器对返回类型进行推导;</p>
<p>5.{statement}：函数体。内容与普通函数一样，不过除了可以使用参数之外，还可以使用所有捕获的变量。</p>
<p>与普通函数最大的区别是，除了可以使用参数以外，Lambda函数还可以通过捕获列表访问一些上下文中的数据。具体地，捕捉列表描述了上下文中哪些数据可以被Lambda使用，以及使用方式（以值传递的方式或引用传递的方式）。语法上，在“[]”包括起来的是捕捉列表，捕捉列表由多个捕捉项组成，并以逗号分隔。捕捉列表有以下几种形式：</p>
<p>1.[var]表示值传递方式捕捉变量var；<br>2.[=]表示值传递方式捕捉所有父作用域的变量（包括this）；<br>3.[&amp;var]表示引用传递捕捉变量var；<br>4.[&amp;]表示引用传递方式捕捉所有父作用域的变量（包括this）；<br>5.[this]表示值传递方式捕捉当前的this指针。</p>
<p>上面提到了一个父作用域，也就是包含Lambda函数的语句块，说通俗点就是包含Lambda的“{}”代码块。上面的捕捉列表还可以进行组合，例如：</p>
<p>1.[=,&amp;a,&amp;b]表示以引用传递的方式捕捉变量a和b，以值传递方式捕捉其它所有变量;<br>2.[&amp;,a,this]表示以值传递的方式捕捉变量a和this，引用传递方式捕捉其它所有变量。</p>
<p>不过值得注意的是，捕捉列表不允许变量重复传递。下面一些例子就是典型的重复，会导致编译时期的错误。例如：</p>
<p>3.[=,a]这里已经以值传递方式捕捉了所有变量，但是重复捕捉a了，会报错的;<br>4.[&amp;,&amp;this]这里&amp;已经以引用传递方式捕捉了所有变量，再捕捉this也是一种重复。</p>
<p><strong>Lambda的使用</strong></p>
<p>对于Lambda的使用，说实话，我没有什么多说的，个人理解，在没有Lambda之前的C++ , 我们也是那样好好的使用，并没有对缺少Lambda的C++有什么抱怨，而现在有了Lambda表达式，只是更多的方便了我们去写代码。不知道大家是否记得C++ STL库中的仿函数对象，仿函数想对于普通函数来说，仿函数可以拥有初始化状态，而这些初始化状态是在声明仿函数对象时，通过参数指定的，一般都是保存在仿函数对象的私有变量中;在C++中，对于要求具有状态的函数，我们一般都是使用仿函数来实现，比如以下代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    add = <span class="number">0</span>,</span><br><span class="line">    sub,</span><br><span class="line">    mul,</span><br><span class="line">    divi</span><br><span class="line">&#125; type;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calc</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Calc</span>(<span class="keyword">int</span> x, <span class="keyword">int</span> y):<span class="built_in">m_x</span>(x), <span class="built_in">m_y</span>(y) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">operator</span><span class="params">()</span><span class="params">(type i)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in"><span class="keyword">switch</span></span> (i)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> add:</span><br><span class="line">            <span class="keyword">return</span> m_x + m_y;</span><br><span class="line">        <span class="keyword">case</span> sub:</span><br><span class="line">            <span class="keyword">return</span> m_x - m_y;</span><br><span class="line">        <span class="keyword">case</span> mul:</span><br><span class="line">            <span class="keyword">return</span> m_x * m_y;</span><br><span class="line">        <span class="keyword">case</span> divi:</span><br><span class="line">            <span class="keyword">return</span> m_x / m_y;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_x;</span><br><span class="line">    <span class="keyword">int</span> m_y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Calc <span class="title">addObj</span><span class="params">(<span class="number">10</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">addObj</span>(add)&lt;&lt;endl; <span class="comment">// 发现C++11中，enum类型的使用也变了，更“强”了</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>现在我们有了Lambda这个利器，那是不是可以重写上面的实现呢？看代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">\<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span></span></span><br><span class="line"><span class="class">&#123;</span>   </span><br><span class="line">  add = <span class="number">0</span>,</span><br><span class="line">  sub,</span><br><span class="line">  mul,</span><br><span class="line">  divi</span><br><span class="line">&#125;type;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">  <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">auto</span> func = [=](type i)-&gt;<span class="keyword">int</span> &#123;</span><br><span class="line">    <span class="built_in"><span class="keyword">switch</span></span> (i)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">case</span> add:</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">      <span class="keyword">case</span> sub:</span><br><span class="line">        <span class="keyword">return</span> a - b;</span><br><span class="line">      <span class="keyword">case</span> mul:</span><br><span class="line">        <span class="keyword">return</span> a * b;</span><br><span class="line">      <span class="keyword">case</span> divi:</span><br><span class="line">        <span class="keyword">return</span> a / b;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  cout&lt;&lt;<span class="built_in">func</span>(add)&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>显而易见的效果，代码简单了，你也少写了一些代码，也去试一试C++中的Lambda表达式吧。</p>
<p><strong>关于Lambda那些奇葩的东西</strong></p>
<p>看以下一段代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span>     </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;    </span><br><span class="line">              </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>         </span></span><br><span class="line"><span class="function"></span>&#123;             </span><br><span class="line">  <span class="keyword">int</span> j = <span class="number">10</span>;      </span><br><span class="line">  <span class="keyword">auto</span> by_val_lambda = [=]&#123; <span class="keyword">return</span> j + <span class="number">1</span>; &#125;;</span><br><span class="line">  <span class="keyword">auto</span> by_ref_lambda = [&amp;]&#123; <span class="keyword">return</span> j + <span class="number">1</span>; &#125;;</span><br><span class="line">  cout&lt;&lt;<span class="string">&quot;by_val_lambda: &quot;</span>&lt;&lt;<span class="built_in">by_val_lambda</span>()&lt;&lt;endl;</span><br><span class="line">  cout&lt;&lt;<span class="string">&quot;by_ref_lambda: &quot;</span>&lt;&lt;<span class="built_in">by_ref_lambda</span>()&lt;&lt;endl;</span><br><span class="line">              </span><br><span class="line">  ++j;          </span><br><span class="line">  cout&lt;&lt;<span class="string">&quot;by_val_lambda: &quot;</span>&lt;&lt;<span class="built_in">by_val_lambda</span>()&lt;&lt;endl;</span><br><span class="line">  cout&lt;&lt;<span class="string">&quot;by_ref_lambda: &quot;</span>&lt;&lt;<span class="built_in">by_ref_lambda</span>()&lt;&lt;endl;</span><br><span class="line">              </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;       </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>程序输出结果如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">by_val_lambda: <span class="number">11</span></span><br><span class="line">by_ref_lambda: <span class="number">11</span></span><br><span class="line">by_val_lambda: <span class="number">11</span></span><br><span class="line">by_ref_lambda: <span class="number">12</span>你想到了么？？？那这又是为什么呢？为什么第三个输出不是<span class="number">12</span>呢？</span><br></pre></td></tr></table></figure>

<p>在by_val_lambda中，j被视为一个常量，一旦初始化后不会再改变（可以认为之后只是一个跟父作用域中j同名的常量），而在by_ref_lambda中，j仍然在使用父作用域中的值。所以，在使用Lambda函数的时候，如果需要捕捉的值成为Lambda函数的常量，我们通常会使用按值传递的方式捕捉；相反的，如果需要捕捉的值成成为Lambda函数运行时的变量，则应该采用按引用方式进行捕捉。</p>
<p>再来一段更晕的代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span>         </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;        </span><br><span class="line">                  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>             </span></span><br><span class="line"><span class="function"></span>&#123;                  </span><br><span class="line">  <span class="keyword">int</span> val = <span class="number">0</span>;                  </span><br><span class="line">  <span class="comment">// auto const_val_lambda = [=]()&#123; val = 3; &#125;; wrong!!!</span></span><br><span class="line">                  </span><br><span class="line">  <span class="keyword">auto</span> mutable_val_lambda = [=]() <span class="keyword">mutable</span>&#123; val = <span class="number">3</span>; &#125;;</span><br><span class="line">  <span class="built_in">mutable_val_lambda</span>();      </span><br><span class="line">  cout&lt;&lt;val&lt;&lt;endl; <span class="comment">// 0</span></span><br><span class="line">                  </span><br><span class="line">  <span class="keyword">auto</span> const_ref_lambda = [&amp;]() &#123; val = <span class="number">4</span>; &#125;;</span><br><span class="line">  <span class="built_in">const_ref_lambda</span>();       </span><br><span class="line">  cout&lt;&lt;val&lt;&lt;endl; <span class="comment">// 4</span></span><br><span class="line">                  </span><br><span class="line">  <span class="keyword">auto</span> mutable_ref_lambda = [&amp;]() <span class="keyword">mutable</span>&#123; val = <span class="number">5</span>; &#125;;</span><br><span class="line">  <span class="built_in">mutable_ref_lambda</span>();      </span><br><span class="line">  cout&lt;&lt;val&lt;&lt;endl; <span class="comment">// 5</span></span><br><span class="line">                  </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这段代码主要是用来理解Lambda表达式中的mutable关键字的。默认情况下，Lambda函数总是一个const函数，mutable可以取消其常量性。按照规定，一个const的成员函数是不能在函数体内修改非静态成员变量的值。例如上面的Lambda表达式可以看成以下仿函数代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">const_val_lambda</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="built_in">const_val_lambda</span>(<span class="keyword">int</span> v) : <span class="built_in">val</span>(v) &#123;&#125;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; val = <span class="number">3</span>; &#125; <span class="comment">// 常量成员函数</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="keyword">int</span> val;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>对于const的成员函数，修改非静态的成员变量，所以就出错了。而对于引用的传递方式，并不会改变引用本身，而只会改变引用的值，因此就不会报错了。都是一些纠结的规则。慢慢理解吧。</p>
<p><strong>总结</strong></p>
<p>对于Lambda这种东西，有的人用的非常爽，而有的人看着都不爽。仁者见仁，智者见智。不管怎么样，作为程序员的你，都要会的。这篇文章就是用来弥补自己对C++ Lambda表达式的认知不足的过错，以免以后在别人的代码中看到了Lambda，还看不懂这种东西，那就丢大人了。</p>
<h2 id="1-22-再谈二进制"><a href="#1-22-再谈二进制" class="headerlink" title="1.22____再谈二进制"></a>1.22____再谈二进制</h2><h4 id="1-22-1-输出一个数的二进制"><a href="#1-22-1-输出一个数的二进制" class="headerlink" title="1.22.1____输出一个数的二进制"></a>1.22.1____输出一个数的二进制</h4><p>假定是一个32位int的数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> te = <span class="number">1287361963</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">31</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">        cout &lt;&lt; ((te&gt;&gt;i)&amp;<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/07/29/aMLYRV2jAX1E8hv.png" alt="image-20210729144710885"></p>
<h4 id="1-22-2-判断奇数，偶数"><a href="#1-22-2-判断奇数，偶数" class="headerlink" title="1.22.2____判断奇数，偶数"></a>1.22.2____判断奇数，偶数</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( x &amp; <span class="number">1</span> )&#123;</span><br><span class="line">	<span class="comment">/// 为奇数</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>( !(x&amp;<span class="number">1</span>) )&#123;</span><br><span class="line">	<span class="comment">/// 为偶数</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="2-算法"><a href="#2-算法" class="headerlink" title="2____算法"></a><em>2</em>____算法</h1><hr>
<h2 id="2-1-哈夫曼树"><a href="#2-1-哈夫曼树" class="headerlink" title="2.1____哈夫曼树"></a>2.1____哈夫曼树</h2><hr>
<blockquote>
<p>哈夫曼树，又名最优二叉树</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n,a;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    priority_queue&lt;<span class="keyword">int</span>, vector&lt;<span class="keyword">int</span>&gt;, greater&lt;<span class="keyword">int</span>&gt; &gt;q;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a);</span><br><span class="line">        q.<span class="built_in">push</span>(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(q.<span class="built_in">size</span>()&gt;<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> l1,l2;</span><br><span class="line">        l1 = q.<span class="built_in">top</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        l2 = q.<span class="built_in">top</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line"> </span><br><span class="line">        ans += (l1 + l2);</span><br><span class="line">        q.<span class="built_in">push</span>(l1+l2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,ans);</span><br></pre></td></tr></table></figure>

<h2 id="2-2-全排列"><a href="#2-2-全排列" class="headerlink" title="2.2____ 全排列"></a><em>2.2____</em> 全排列</h2><hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> p[maxn];<span class="comment">///储存选中的数</span></span><br><span class="line"><span class="keyword">int</span> Hash[maxn] = &#123;<span class="literal">false</span>&#125;;<span class="comment">///标记选中的数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> index)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(index == n + <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            cout &lt;&lt; p[i];</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> x = <span class="number">1</span>; x &lt;= n ; x++)&#123;</span><br><span class="line">        <span class="keyword">if</span>( Hash[x] == <span class="literal">false</span> )&#123;</span><br><span class="line">            p[x] = index;</span><br><span class="line">            Hash[x] = <span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">f</span>(index + <span class="number">1</span>);</span><br><span class="line">            Hash[x] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="built_in">f</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>next_permutation()</p>
</blockquote>
<hr>
<p><strong>对一个升序的序列进行全排列</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>prev_permutation()</p>
</blockquote>
<hr>
<p><strong>对一个降序的序列进行全排列</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">10</span>],ans[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,str);</span><br><span class="line"></span><br><span class="line">    len = <span class="built_in">strlen</span>(str);</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>( <span class="built_in">prev_permutation</span>(str,str + len) );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-3-快速幂"><a href="#2-3-快速幂" class="headerlink" title="2.3____快速幂"></a>2.3____快速幂</h2><hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"></span><br><span class="line"><span class="comment">///递归版</span></span><br><span class="line"><span class="built_in">LLpow</span>(LL a, LL b,LL m)&#123;</span><br><span class="line">	<span class="keyword">if</span>(b == <span class="number">0</span>)&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>( b%<span class="number">2</span> == <span class="number">0</span> )<span class="keyword">return</span> a*<span class="built_in">LLpow</span>(a, b<span class="number">-1</span> ,m) % m;</span><br><span class="line">	<span class="keyword">else</span>&#123;</span><br><span class="line">			LL mul = <span class="built_in">LLpow</span>(a, b/<span class="number">2</span> ,m);</span><br><span class="line">			<span class="keyword">return</span> mul*mul % <span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">///简易版</span></span><br><span class="line"><span class="function">LL <span class="title">qmi</span><span class="params">(LL a, LL b, LL p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LL res = <span class="number">1</span> % p;</span><br><span class="line">    <span class="keyword">while</span> (b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (b &amp; <span class="number">1</span>) res = (LL)res * a % p;</span><br><span class="line">        a = (LL)a * a % p;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="2-4-大斐波那契数列（1e9）"><a href="#2-4-大斐波那契数列（1e9）" class="headerlink" title="2.4____大斐波那契数列（1e9）"></a><em>2.4</em>____大斐波那契数列（1e9）</h2><hr>
<p>首先斐波那契通项式</p>
<ul>
<li><p><strong>求前4项对数法【HDU -1568】 ()</strong></p>
  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">double</span> cnt=(<span class="number">1</span>+<span class="built_in">sqrt</span>(<span class="number">5</span>))/<span class="number">2</span>;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">21</span>]=&#123;<span class="number">0</span>,<span class="number">1</span>&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n,i;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">2</span>;i&lt;<span class="number">21</span>;++i)</span><br><span class="line">		a[i]=a[i<span class="number">-1</span>]+a[i<span class="number">-2</span>];</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n)!=EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(n&lt;<span class="number">21</span>)</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,a[n]);</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">double</span> ans=<span class="number">-0.5</span>*<span class="built_in">log10</span>(<span class="number">5.0</span>)+n*<span class="built_in">log10</span>(cnt);</span><br><span class="line">			ans=ans-<span class="built_in">floor</span>(ans);<span class="comment">//取到小数部分 </span></span><br><span class="line">			ans=<span class="built_in">pow</span>(<span class="number">10</span>,ans); </span><br><span class="line">			ans=<span class="built_in">floor</span>(ans*<span class="number">1000</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%.0f\n&quot;</span>,ans);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-5-二进制枚举"><a href="#2-5-二进制枚举" class="headerlink" title="2.5____二进制枚举"></a><em>2.5</em>____二进制枚举</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    bitset&lt;4&gt; a;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n[<span class="number">8</span>]= &#123;<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">1</span> &lt;&lt; <span class="number">5</span>; i++)&#123;</span><br><span class="line">        a = i;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= <span class="number">3</span> ; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[j] == <span class="number">1</span>)&#123;</span><br><span class="line">                sum += n[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; sum &lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/description/833/">https://www.acwing.com/problem/content/description/833/</a></p>
<h2 id="2-6-离散化"><a href="#2-6-离散化" class="headerlink" title="2.6____离散化"></a><em>2.6</em>____离散化</h2><hr>
<h3 id="include-哈希表"><a href="#include-哈希表" class="headerlink" title="#include  ///哈希表"></a>#include <unordered_map> ///哈希表</h3><p>一个序列0….4…6….13213….1e</p>
<p>虽然这个序列的数值非常大，但是选取的值非常</p>
<hr>
<blockquote>
<p>将大的数映射mapping到从0开始的自然数</p>
</blockquote>
<p>这个过程就叫做离散化</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="keyword">int</span>&gt; alls; <span class="comment">// 存储所有待离散化的值</span></span><br><span class="line"><span class="built_in">sort</span>(alls.<span class="built_in">begin</span>(), alls.<span class="built_in">end</span>()); <span class="comment">// 将所有值排序</span></span><br><span class="line">alls.<span class="built_in">erase</span>(<span class="built_in">unique</span>(alls.<span class="built_in">begin</span>(), alls.<span class="built_in">end</span>()), alls.<span class="built_in">end</span>());   <span class="comment">// 去掉重复元素</span></span><br><span class="line"><span class="comment">//unique把重复元素放在最后，并且返回重复元素的起始位置的迭代器</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 二分求出x对应的离散化的值</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span> <span class="comment">// 找到第一个大于等于x的位置</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = alls.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>( a[mid] &lt; x  ) l = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> r = mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r + <span class="number">1</span>; <span class="comment">// 映射到1, 2, ...n</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="2-7-前缀和"><a href="#2-7-前缀和" class="headerlink" title="2.7____前缀和"></a><em>2.7</em>____前缀和</h2><hr>
<blockquote>
<p>有个序列a1,a2,a3,a4,a5…..</p>
</blockquote>
<p><code>定义</code>                               <code>同时</code></p>
<ul>
<li>s1 = a1;</li>
<li>s2 = a1 + a2;             s2 = s1 + <strong>a2</strong>;</li>
<li>s3 = a1 + a2 +a3;      s3 = s2 + <strong>a3</strong>;</li>
<li>…..</li>
</ul>
<p>我们把s序列称为a序列的前缀和 </p>
<blockquote>
<p>作用</p>
</blockquote>
<h3 id="一、求前i个数的和"><a href="#一、求前i个数的和" class="headerlink" title="一、求前i个数的和"></a>一、求前i个数的和</h3><p>Sn = S1 + S2 +…. Sn-1 + Sn</p>
<p>查询时间复杂度为O(1);</p>
<h3 id="二、求-l-r-区间的和"><a href="#二、求-l-r-区间的和" class="headerlink" title="二、求[ l , r ]区间的和"></a>二、求[ l , r ]区间的和</h3><p>公式： <strong>S[l ,r] = Sr - S(l - 1);</strong></p>
<p>Sr = <del>a1 + a2 + … +</del>  al +…  + ar</p>
<p>S(l -1) = <del>a1 +… a(l-1)</del>;</p>
<p><strong>从1开始统计前缀和 —— 便于处理边界问题</strong></p>
<blockquote>
<p>二维前缀和</p>
</blockquote>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%205.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%205.png"></p>
<ul>
<li><p>计算子矩阵的和公式：</p>
<p>  公式：  <strong>S= S[ x2 ][ y2 ] - S[ x1 - 1 ,y2 ] - S[ x2 , y1 - 1 ] + S[ x1 - 1, y1 - 1 ]</strong> </p>
<p>  <img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%206.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%206.png"></p>
</li>
<li><p>计算S[ i , j ]公式：（之前的几行已经都计算完了）（建立前缀矩阵）(就是绿色的那个点，应该等于多少)</p>
<p>  公式： <strong>S[i,j] = S[ i - 1, j ] + S[ i , j - 1 ] - S[ i - 1, j -1 ] + a[ i , j ];</strong></p>
</li>
</ul>
<p>前缀数组</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1000</span> +<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> n,m,t;</span><br><span class="line"><span class="keyword">int</span> a[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> pre[maxn][maxn];<span class="comment">///前缀数组</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; t;</span><br><span class="line">    <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(a));</span><br><span class="line">    <span class="built_in">memset</span>(pre,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(pre));</span><br><span class="line">    <span class="comment">///计算每个区间的值</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)&#123;</span><br><span class="line">            cin &gt;&gt; a[i][j] ;    </span><br><span class="line">                pre[i][j] = pre[ i <span class="number">-1</span> ][j] + pre[i][ j - <span class="number">1</span> ] - pre[ i - <span class="number">1</span> ][j - <span class="number">1</span>] + a[i][j];  </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///处理查询的值</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i =  <span class="number">0</span> ; i &lt; t; i ++)&#123;</span><br><span class="line">        <span class="keyword">int</span> x1,y1,x2,y2;</span><br><span class="line">        cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;</span><br><span class="line">        cout &lt;&lt; pre[ x2 ][ y2 ] - pre[ x1 - <span class="number">1</span>][y2 ] - pre[ x2 ][ y1 - <span class="number">1</span> ] + pre[ x1 - <span class="number">1</span>][ y1 - <span class="number">1</span> ] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-8-差分"><a href="#2-8-差分" class="headerlink" title="2.8____差分"></a><em>2.8</em>____差分</h2><hr>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%207.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%207.png"></p>
<p>差分数组las[][]（或者b[][]）的一个点增，减值是对后面的元素产生影响，所有是在右下矩阵进行操作（而前缀数组影响的是前面的值，所以修改的是左上角的矩阵），且每一个点，代表一整个a数组的子矩阵，所以只需要对单个点进行修改即可。</p>
<p>在初始化差分数组的时候也是用相同的方法把a[i][j]的元素插入进入，之后的改变值就是插入c</p>
<ul>
<li><p>差分核心公式：(c为改变的量)</p>
<p>  b[x1][y1] += c;</p>
<p>  b[x1][y2 + 1]  -= c;</p>
<p>  b[x2 + 1][y1] -= c;</p>
<p>  b[x2][y2]  += c;</p>
</li>
</ul>
<p>差分数组</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n,m,t;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e4</span> +<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> las[maxn][maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> x1,<span class="keyword">int</span> y1,<span class="keyword">int</span> x2,<span class="keyword">int</span> y2,<span class="keyword">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    las[x1][y1] += c;</span><br><span class="line">    las[x1][y2 + <span class="number">1</span>] -= c;</span><br><span class="line">    las[x2 + <span class="number">1</span>][y1] -= c;</span><br><span class="line">    las[x2 + <span class="number">1</span>][y2 + <span class="number">1</span>] += c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;n,&amp;m,&amp;t);</span><br><span class="line">		<span class="comment">///读入原始数组</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++ )&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">		<span class="comment">///插入差分数组，差分数组初始化</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n ; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>;j &lt;= m ; j ++)&#123;</span><br><span class="line">            <span class="built_in">insert</span>(i,j,i,j,a[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">		<span class="comment">///修改区间的值</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; t; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> x1,x2,y1,y2,c;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%d%d&quot;</span>,&amp;x1,&amp;y1,&amp;x2,&amp;y2,&amp;c);</span><br><span class="line">        <span class="built_in">insert</span>(x1, y1, x2, y2, c);</span><br><span class="line">    &#125;</span><br><span class="line">		<span class="comment">///改变原数组的值，并输出</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)&#123;</span><br><span class="line">            a[i][j] = a[ i <span class="number">-1</span> ][j] + a[i][ j - <span class="number">1</span> ] - a[ i - <span class="number">1</span> ][j - <span class="number">1</span>] + las[i][j];</span><br><span class="line">            cout &lt;&lt; a[i][j];</span><br><span class="line">            <span class="keyword">if</span>(j != m) cout &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-9-二分"><a href="#2-9-二分" class="headerlink" title="2.9____二分"></a><em>2.9</em>____二分</h2><hr>
<blockquote>
<p>lower_bound</p>
</blockquote>
<p>int a[maxn];    loc = lower_bound(a,a+n,x) - a</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> l = <span class="number">0</span>, r = n - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (a[mid] &lt; x)  l = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span>    r = mid;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>upper_bound</p>
</blockquote>
<p>int a[maxn];    loc = upper_bound(a,a+n,x) - a <strong>-1</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> l = <span class="number">0</span>, r = n - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = l + r + <span class="number">1</span> &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (a[mid] &lt;= x)  l = mid;</span><br><span class="line">            <span class="keyword">else</span>    r = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>浮点二分</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> l,r;</span><br><span class="line">    l = <span class="number">0</span>;</span><br><span class="line">    r = <span class="number">1e9</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>( r - l &gt; <span class="number">1e-4</span> )&#123;</span><br><span class="line">        <span class="keyword">double</span> mid = ( l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>( <span class="built_in">f</span>(mid) ) l = mid;</span><br><span class="line">        <span class="keyword">else</span> r = mid;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>二分不光可以查找值</p>
</blockquote>
<hr>
<h3 id="1-最大化最小值"><a href="#1-最大化最小值" class="headerlink" title="1.最大化最小值"></a>1.最大化最小值</h3><blockquote>
<p>upper_bound</p>
</blockquote>
<p>POJ 3258</p>
<p>枚举的是当最短的距离为多少事，移除的石头刚好为m</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">5e5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> l, n , m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> p = <span class="number">0</span>;<span class="comment">//如果</span></span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;<span class="comment">//移除的石头的数量</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n + <span class="number">1</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>( a[i] - a[p] &lt; x )cnt ++;</span><br><span class="line">        <span class="keyword">else</span> p = i;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt &lt;= m;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; l &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= n; i ++ )&#123;</span><br><span class="line"></span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    a[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    a[n + <span class="number">1</span>] = l;</span><br><span class="line">    <span class="built_in">sort</span>(a, a +n+<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> le = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> re = INF;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (le &lt; re) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = le + re + <span class="number">1</span> &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> ( <span class="built_in">f</span>(mid) )  le = mid;</span><br><span class="line">            <span class="keyword">else</span>    re = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; le  &lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-最大化平均值"><a href="#2-最大化平均值" class="headerlink" title="2.最大化平均值"></a>2.最大化平均值</h3><h2 id="2-1-10-尺取法，Two-Pointer-，双指针算法"><a href="#2-1-10-尺取法，Two-Pointer-，双指针算法" class="headerlink" title="2.1.10____尺取法，Two-Pointer ，双指针算法"></a>2.1.10____尺取法，Two-Pointer ，双指针算法</h2><hr>
<p>对于O（ n^2 ）的算法</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ;i &lt; n ; i++)</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">			<span class="comment">///</span></span><br></pre></td></tr></table></figure>

<p><strong>如果利用双指针遍历，会是 O ( n ) 的</strong></p>
<p>所以当有两重for循环的O ( n )算法可以考虑用双指针 </p>
<h2 id="2-1-11-三分"><a href="#2-1-11-三分" class="headerlink" title="2.1.11____三分"></a><em>2.1.11</em>____三分</h2><hr>
<h2 id="2-1-12-枚举"><a href="#2-1-12-枚举" class="headerlink" title="2.1.12____枚举"></a><em>2.1.12</em>____枚举</h2><hr>
<blockquote>
<p><strong>一维状态枚举( 翻硬币 )</strong></p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/1210/">https://www.acwing.com/problem/content/1210/</a></p>
<blockquote>
<p><strong>二维状态枚举( 熄灯问题 )</strong></p>
</blockquote>
<h2 id="2-1-13-日期题"><a href="#2-1-13-日期题" class="headerlink" title="2.1.13____日期题"></a>2.1.13____日期题</h2><hr>
<blockquote>
<p><strong>基母拉尔森公式</strong></p>
</blockquote>
<p>计算是某天是星期几的公式</p>
<p>$W= (d+2*m+3(m+1)/5+y+y/4-y/100+y/400+1)%7$</p>
<p>在公式中d表示日期中的日数，m表示月份数，y表示年数。</p>
<p>注意:在公式中有个与其他公式不同的地方:</p>
<p>把一月和二月看成是上一年的十三月和十四月，例:如果是2004-1-10则换算成:2003-13-10来代入公式计算。<br>输入年月日到公式，返回当天的星期数。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">week</span><span class="params">(<span class="keyword">int</span> y, <span class="keyword">int</span> m, <span class="keyword">int</span> d)</span>**<span class="comment">///注意a[0]  为星期天，a[1]为星期一外国人的公式，安外国人的算的**</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (m == <span class="number">1</span> || m == <span class="number">2</span>)</span><br><span class="line">        m = m + <span class="number">12</span>, y--;</span><br><span class="line">    <span class="keyword">return</span> (d + <span class="number">2</span> * m + <span class="number">3</span> * (m + <span class="number">1</span>) / <span class="number">5</span> + y + y / <span class="number">4</span> - y / <span class="number">100</span> + y / <span class="number">400</span> + <span class="number">1</span>) % <span class="number">7</span>;<span class="comment">//公式</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<h2 id="时分秒计算"><a href="#时分秒计算" class="headerlink" title="时分秒计算"></a>时分秒计算</h2></blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_time</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h1,h2,m1,m2,s1,s2;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d:%d:%d %d:%d:%d&quot;</span>,&amp;h1,&amp;m1,&amp;s1,&amp;h2,&amp;m2,&amp;s2); <span class="comment">//读时间</span></span><br><span class="line">    <span class="keyword">int</span> day = <span class="number">0</span>;                          <span class="comment">//处理跨天</span></span><br><span class="line">    <span class="keyword">if</span>((<span class="built_in">getchar</span>())!=<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">         <span class="built_in">scanf</span>(<span class="string">&quot;(+%d)&quot;</span>,&amp;day);</span><br><span class="line">    <span class="keyword">int</span> S = h1*<span class="number">3600</span> + m1*<span class="number">60</span> + s1;   <span class="comment">//起飞时间：转为秒</span></span><br><span class="line">    <span class="keyword">int</span> E = h2*<span class="number">3600</span> + m2*<span class="number">60</span> + s2;   <span class="comment">//到达时间：转为秒</span></span><br><span class="line">    <span class="keyword">return</span> E - S + day*<span class="number">24</span>*<span class="number">3600</span>;     <span class="comment">//返回秒</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;    </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">while</span>(n--)&#123;</span><br><span class="line">        <span class="keyword">int</span> ans =(<span class="built_in">get_time</span>() + <span class="built_in">get_time</span>())/<span class="number">2</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%02d:%02d:%02d\n&quot;</span>,ans/<span class="number">3600</span>,ans/<span class="number">60</span>%<span class="number">60</span>,ans%<span class="number">60</span>); <span class="comment">//时:分:秒</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="2-1-13-模拟退火"><a href="#2-1-13-模拟退火" class="headerlink" title="2.1.13____模拟退火"></a>2.1.13____模拟退火</h2><hr>
<p><strong>模拟退火是求最优化的算法。</strong></p>
<p>用于求函数最值问题，TSP旅行商问题，最小园覆盖问题，最小球覆盖问题等。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">double</span> x,y;</span><br><span class="line">&#125;p[<span class="number">105</span>];</span><br><span class="line"><span class="keyword">double</span> eps = <span class="number">1e-8</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">fun</span><span class="params">(Point tep)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> teans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        teans += <span class="built_in">hypot</span>( tep.x - p[i].x , tep.y - p[i].y );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> teans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> T = <span class="number">10000</span>;</span><br><span class="line">    <span class="keyword">double</span> delta = <span class="number">0.97</span>;</span><br><span class="line">    Point nowp;</span><br><span class="line">    nowp.x = <span class="number">5000</span>,nowp.y = <span class="number">5000</span>;</span><br><span class="line">    <span class="keyword">double</span> now = <span class="built_in">fun</span>(nowp);</span><br><span class="line">    <span class="keyword">double</span> ans = now;</span><br><span class="line">    <span class="keyword">while</span>( T &gt; eps )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> f[<span class="number">2</span>] = &#123;<span class="number">1</span>,<span class="number">-1</span>&#125;;</span><br><span class="line">        Point newp = &#123;nowp.x + f[<span class="built_in">rand</span>()%<span class="number">2</span>] * T , nowp.y + f[<span class="built_in">rand</span>()%<span class="number">2</span>] * T &#125;;</span><br><span class="line">        <span class="keyword">if</span>( newp.x &gt;= <span class="number">0</span> &amp;&amp; newp.x &lt;= <span class="number">10000</span> &amp;&amp; newp.y &gt;= <span class="number">0</span> &amp;&amp; newp.y &lt;= <span class="number">10000</span> )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">double</span> next = <span class="built_in">fun</span>(newp);</span><br><span class="line">            <span class="comment">// printf(&quot;%.4lf   %.4lf    %.4lf\n&quot;,ans,newx,next);</span></span><br><span class="line">            ans = <span class="built_in">min</span>(ans,next);</span><br><span class="line">            <span class="keyword">if</span>( now - next  &gt; eps) &#123; nowp = newp , now = next; &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        T *= delta;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">srand</span>((<span class="keyword">unsigned</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lf%lf&quot;</span>,&amp;p[i].x ,&amp;p[i].y);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">double</span> an = <span class="built_in">solve</span>();</span><br><span class="line">    an +=<span class="number">0.5</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,(<span class="keyword">int</span>)an );</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="3-数据结构"><a href="#3-数据结构" class="headerlink" title="3____数据结构"></a><em>3</em>____数据结构</h1><hr>
<h2 id="3-1-单链表"><a href="#3-1-单链表" class="headerlink" title="3.1____单链表"></a><em>3.1</em>____单链表</h2><blockquote>
<p>应用于后面图与树的存储</p>
</blockquote>
<p>头节点（根节点）head</p>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%208.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%208.png"></p>
<p>e[N]表示这个节点的值，ne[N]表示下一个节点的位置</p>
<h2 id="3-2-树的遍历与建树"><a href="#3-2-树的遍历与建树" class="headerlink" title="*3.2____*树的遍历与建树"></a>*3.2____*树的遍历与建树</h2><hr>
<blockquote>
<h2 id="后序-中序建树-先序-中序建树"><a href="#后序-中序建树-先序-中序建树" class="headerlink" title="后序+中序建树  || 先序+中序建树"></a><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/1499/">后序+中序建树</a>  || <a target="_blank" rel="noopener" href="https://vjudge.net/problem/HDU-1710">先序+中序建树</a></h2></blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">55</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> date;</span><br><span class="line">    node* left_son;</span><br><span class="line">    node* right_son;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> pre[maxn],in[maxn],post[maxn];<span class="comment">///先序，中序，后序</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;<span class="comment">///节点数</span></span><br><span class="line"><span class="comment">///递归建树</span></span><br><span class="line"><span class="function">node* <span class="title">create</span><span class="params">(<span class="keyword">int</span> postL,<span class="keyword">int</span> postR,<span class="keyword">int</span> inL,<span class="keyword">int</span> inR)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(postL &gt; postR)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    node* root = <span class="keyword">new</span> node;<span class="comment">///新建节点</span></span><br><span class="line">    root -&gt; date = post[postR];<span class="comment">///</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    <span class="keyword">for</span>( k = inL; k &lt;= inR; k++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(in[k] == post[postR])&#123;<span class="comment">///在中序中定位根节点</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> numLeft = k - inL; <span class="comment">///左子树的数量</span></span><br><span class="line">    root -&gt; left_son = <span class="built_in">create</span>(postL, postL + numLeft - <span class="number">1</span>, inL, k - <span class="number">1</span>);</span><br><span class="line">    root -&gt; right_son = <span class="built_in">create</span>(postL + numLeft, postR - <span class="number">1</span>, k + <span class="number">1</span>, inR);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">(node* root)</span></span>&#123;<span class="comment">///层序排列</span></span><br><span class="line">    queue&lt;node*&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(root);</span><br><span class="line">    <span class="keyword">while</span>( !q.<span class="built_in">empty</span>() )&#123;</span><br><span class="line">        node* qt = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        cout &lt;&lt; qt -&gt; date ;</span><br><span class="line">        <span class="keyword">if</span>(num &lt; n)cout &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        num++;</span><br><span class="line">        <span class="keyword">if</span>(qt -&gt; left_son != <span class="literal">NULL</span>)&#123;</span><br><span class="line">            q.<span class="built_in">push</span>(qt -&gt; left_son);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(qt -&gt; right_son != <span class="literal">NULL</span>)&#123;</span><br><span class="line">            q.<span class="built_in">push</span>(qt -&gt; right_son);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="3-3-并查集"><a href="#3-3-并查集" class="headerlink" title="3.3____并查集"></a><em>3.3</em>____并查集</h2><hr>
<blockquote>
<p>种类并查集（k倍数组）</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">50000</span> + <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[MAX*<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n*<span class="number">3</span>; i++)&#123;</span><br><span class="line">        a[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Find</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a[x] == x)&#123;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> a[x] = <span class="built_in">Find</span>(a[x]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">marge</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    x = <span class="built_in">Find</span>(x);</span><br><span class="line">    y = <span class="built_in">Find</span>(y);</span><br><span class="line">	  <span class="keyword">if</span>( x== y) <span class="keyword">return</span> ;</span><br><span class="line">    a[x] = y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>  <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n,m;<span class="comment">///n个人，m组输入</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="built_in">init</span>(n);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> t,x,y;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;t,&amp;x,&amp;y);</span><br><span class="line">        <span class="keyword">if</span>(x &gt; n || y &gt; n)&#123;</span><br><span class="line">            ans++;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(x == y &amp;&amp; t == <span class="number">2</span>)&#123;</span><br><span class="line">            ans++;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(t == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>( <span class="built_in">Find</span>(y)==<span class="built_in">Find</span>(x+<span class="number">2</span>*n)||<span class="built_in">Find</span>(x)==<span class="number">3F</span>ind(y+<span class="number">2</span>*n))&#123;ans++;<span class="keyword">continue</span>;&#125;</span><br><span class="line">            <span class="built_in">marge</span>(x,y);</span><br><span class="line">            <span class="built_in">marge</span>(x+n,y+n);</span><br><span class="line">            <span class="built_in">marge</span>(x+<span class="number">2</span>*n,y+<span class="number">2</span>*n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">Find</span>(x)==<span class="built_in">Find</span>(y)||<span class="built_in">Find</span>(x)==<span class="built_in">Find</span>(y+<span class="number">2</span>*n))&#123;ans++;<span class="keyword">continue</span>;&#125;</span><br><span class="line">            <span class="built_in">marge</span>(x+<span class="number">2</span>*n,y);</span><br><span class="line">            <span class="built_in">marge</span>(x+n,y+<span class="number">2</span>*n);</span><br><span class="line">            <span class="built_in">marge</span>(x,y+n);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-4-线段树"><a href="#3-4-线段树" class="headerlink" title="3.4____线段树"></a><em>3.4</em>____线段树</h2><hr>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43956340/article/details/106078939?biz_id=102&utm_term=treek.l">参考博客</a> ，<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45799835/article/details/110069469">狂兵专题题解</a></p>
<blockquote>
<p>可能的书写错误</p>
</blockquote>
<ol>
<li><code>[rt  &gt;&gt; 1]</code> 写成<code>[rt &lt;&lt; 1]</code></li>
<li>忘记<code>build()</code></li>
<li><code>==</code> 与 <code>=</code></li>
</ol>
<p>线段树是一颗完美二叉树，我们最开始输入的时候直接输入到数组</p>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/1130_6e4bab5cb6-_2019_08_04_21_53_05_755.gif" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/1130_6e4bab5cb6-_2019_08_04_21_53_05_755.gif"></p>
<h3 id="单点更新，区间查询"><a href="#单点更新，区间查询" class="headerlink" title="单点更新，区间查询"></a>单点更新，区间查询</h3><blockquote>
<p>建树</p>
</blockquote>
<hr>
<p>首先将左右节点的值初始化了之后，再去初始化根节点，<code>递归的建树</code></p>
<p>开始我没有用struct结构来做线段树的题，但是做了更多的题之后，我发现，单纯的数组格式有很多的限制，元素与元素的传参很复杂，当指标过多的时候无法传递，所有还是改为了struct来存</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">///verson_单点更新</span></span><br><span class="line"><span class="keyword">int</span> A[N];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l,r;</span><br><span class="line">    <span class="keyword">int</span> sum;</span><br><span class="line">&#125;tree[N*<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_up</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tree[rt].sum = tree[rt &lt;&lt; <span class="number">1</span>].sum + tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt ,<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tree[rt].l = l,tree[rt].r = r;</span><br><span class="line">    <span class="keyword">if</span>(l == r)</span><br><span class="line">    &#123;</span><br><span class="line">        tree[rt].sum = A[r];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">build</span>(rt &lt;&lt; <span class="number">1</span>, l ,mid);</span><br><span class="line">        <span class="built_in">build</span>(rt &lt;&lt;<span class="number">1</span>|<span class="number">1</span> ,mid + <span class="number">1</span>, r);</span><br><span class="line">        <span class="built_in">push_up</span>(rt);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">///build(1,1,N);</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>单点修改</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">///verson_单点更新</span></span><br><span class="line"><span class="comment">///将A[pos]的值修改为val</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span><span class="params">(<span class="keyword">int</span> rt ,<span class="keyword">int</span> pos , <span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( tree[rt].l == tree[rt].r )</span><br><span class="line">    &#123;</span><br><span class="line">        A[pos] += val;</span><br><span class="line">        tree[rt].sum += val;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = ( tree[rt].l + tree[rt].r ) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>( pos &lt;= mid ) <span class="built_in">Update</span>(rt &lt;&lt; <span class="number">1</span>, pos,val);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">Update</span>( rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span> , pos ,val );</span><br><span class="line">        <span class="built_in">push_up</span>(rt);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">///update(1,2,5) 将A[2] = 5</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>区间求和</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Query</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">///如果当前区间都在查询范围内</span></span><br><span class="line">    <span class="comment">///如果不在范围内</span></span><br><span class="line">    <span class="comment">///否则，查询左右儿子</span></span><br><span class="line">    <span class="keyword">if</span>( l &lt;= tree[rt].l &amp;&amp; r &gt;= tree[rt].r ) <span class="keyword">return</span> tree[rt].sum;</span><br><span class="line">    <span class="keyword">if</span>( tree[rt].l &gt; r || tree[rt].r &lt; l ) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (tree[rt].l + tree[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> sum_l ,sum_r;</span><br><span class="line">        sum_l = sum_r = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>( l &lt;= mid )sum_l = <span class="built_in">Query</span>(rt &lt;&lt; <span class="number">1</span>, l , r);</span><br><span class="line">        <span class="keyword">if</span>( r &gt; mid ) sum_r = <span class="built_in">Query</span>(rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>, l,r );</span><br><span class="line">        <span class="keyword">return</span> sum_l + sum_r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="区间更新，区间查询"><a href="#区间更新，区间查询" class="headerlink" title="区间更新，区间查询"></a>区间更新，区间查询</h3><p>区间更新的<code>建树</code>过程和单点更新一样</p>
<blockquote>
<p>区间更新与lazy标记下传</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_down</span><span class="params">(<span class="keyword">int</span> rt ,<span class="keyword">int</span> l ,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( tree[rt].lazy != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> lazy = tree[rt].lazy;</span><br><span class="line">        <span class="keyword">int</span> mid = ( l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">///  tree存储的是当前节点区间和，所以将tag传递给孩子节点时</span></span><br><span class="line">        <span class="comment">///    孩子节点的值要加上区间长度乘以tag值</span></span><br><span class="line">        <span class="comment">///  tag信息传递给孩子之后，父节点的tag信息就清空了</span></span><br><span class="line">        </span><br><span class="line">        tree[rt &lt;&lt; <span class="number">1</span>].sum += ( mid - l + <span class="number">1</span> ) * lazy;</span><br><span class="line">        tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].sum += ( r - mid ) * lazy;</span><br><span class="line">        tree[rt &lt;&lt; <span class="number">1</span>].lazy += lazy;</span><br><span class="line">        tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].lazy += lazy;</span><br><span class="line">        tree[rt].lazy = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">///  将区间[start,end]的值都加上val</span></span><br><span class="line"><span class="comment">///  如果当前区间[l,r]是[start,end]的真子集</span></span><br><span class="line"><span class="comment">///     那么直接修改当前节点对应的区间不用递归向下修改了</span></span><br><span class="line"></span><br><span class="line"><span class="comment">///  记住，我们修改的值包括区间和(tree数组)和延迟标记(tag数组)</span></span><br><span class="line"><span class="comment">///  否则我们需要递归查找当前节点rt的左右孩子，在进行递归查找之前我们</span></span><br><span class="line"><span class="comment">///      需要先将当前节点已经存在的延迟标记传下去(push_down函数)。</span></span><br><span class="line"><span class="comment">///  然后再根据左,右子树是否有目标区间的元素进行递归修改。</span></span><br><span class="line"><span class="comment">///  最后不要忘记更新当前节点的值</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rangeUpdate</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> l ,<span class="keyword">int</span> r,<span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( l &lt;= tree[rt].l &amp;&amp; tree[rt].r &lt;= r )</span><br><span class="line">    &#123;</span><br><span class="line">        tree[rt].sum += val * ( tree[rt].r - tree[rt].l + <span class="number">1</span> );</span><br><span class="line">        tree[rt].lazy += val;</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="built_in">push_down</span>(rt,tree[rt].l,tree[rt].r);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> mid = ( tree[rt].l + tree[rt].r ) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>( l &lt;= mid ) <span class="built_in">rangeUpdate</span>(rt &lt;&lt; <span class="number">1</span>,l ,r ,val);</span><br><span class="line">        <span class="keyword">if</span>( r &gt;= mid + <span class="number">1</span>) <span class="built_in">rangeUpdate</span>(rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>,l,r,val );</span><br><span class="line">        <span class="built_in">push_up</span>(rt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>带lazy下传的区间查询</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ll <span class="title">rangeQuery</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( l &lt;= tree[rt].l &amp;&amp; tree[rt].r &lt;= r )  <span class="keyword">return</span> tree[rt].sum;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">push_down</span>(rt,tree[rt].l,tree[rt].r);</span><br><span class="line">        <span class="keyword">int</span> mid = (tree[rt].l + tree[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> l_son,r_son;</span><br><span class="line">        l_son = r_son = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>( l &lt;= mid ) l_son = <span class="built_in">rangeQuery</span>( rt &lt;&lt; <span class="number">1</span>,l ,r );</span><br><span class="line">        <span class="keyword">if</span>( r &gt; mid ) r_son = <span class="built_in">rangeQuery</span>(rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span> , l ,r);</span><br><span class="line">        <span class="keyword">return</span> l_son + r_son;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-4-1-区间染色问题"><a href="#3-4-1-区间染色问题" class="headerlink" title="3.4.1____区间染色问题"></a><em>3.4.1</em>____区间染色问题</h3><hr>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://vjudge.net/problem/ZOJ-1610">Count the Colors</a></p>
</blockquote>
<hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">8005</span>;</span><br><span class="line"><span class="keyword">int</span> A[N];</span><br><span class="line"><span class="keyword">int</span> cnt[N];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l,r;</span><br><span class="line">    <span class="keyword">int</span> date = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">int</span> lazy = - <span class="number">1</span>;</span><br><span class="line">&#125;tree[N*<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> maxn = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_up</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// -2是很多颜色，-1是没有颜色,</span></span><br><span class="line">    <span class="keyword">if</span>( tree[rt &lt;&lt; <span class="number">1</span>].date == <span class="number">-2</span> || tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].date == <span class="number">-2</span> ) tree[rt].date = <span class="number">-2</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( tree[rt &lt;&lt; <span class="number">1</span>].date == tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].date &amp;&amp; tree[rt &lt;&lt; <span class="number">1</span>].date == <span class="number">-1</span> ) tree[rt].date = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( tree[rt &lt;&lt; <span class="number">1</span>].date == <span class="number">-1</span>  &amp;&amp; tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].date != <span class="number">-1</span> ) tree[rt].date = tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].date;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( tree[rt &lt;&lt; <span class="number">1</span>].date != <span class="number">-1</span> &amp;&amp; tree[rt &lt;&lt;<span class="number">1</span>|<span class="number">1</span>].date == <span class="number">-1</span>) tree[rt].date = tree[rt &lt;&lt; <span class="number">1</span>].date;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tree[rt].l = l , tree[rt].r = r;</span><br><span class="line">    <span class="keyword">if</span>( l == r )</span><br><span class="line">    &#123;</span><br><span class="line">        tree[rt].lazy = tree[rt].date = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid= (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build</span>(rt &lt;&lt; <span class="number">1</span>, l ,mid);</span><br><span class="line">    <span class="built_in">build</span>(rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>,mid +<span class="number">1</span> ,r);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_down</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> l ,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( tree[rt].lazy != <span class="number">-1</span> )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> lazy = tree[rt].lazy;</span><br><span class="line">        tree[rt &lt;&lt; <span class="number">1</span>].date = lazy;</span><br><span class="line">        tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].date = lazy;</span><br><span class="line">        tree[rt &lt;&lt;<span class="number">1</span>|<span class="number">1</span>].lazy = lazy;</span><br><span class="line">        tree[rt &lt;&lt; <span class="number">1</span>].lazy = lazy;</span><br><span class="line">        tree[rt].lazy = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rangeUpdate</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//cout &lt;&lt;tree[rt].l &lt;&lt; &#x27; &#x27;  &lt;&lt; tree[rt].r &lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span>( l &lt;= tree[rt].l &amp;&amp; r &gt;= tree[rt].r )</span><br><span class="line">    &#123;</span><br><span class="line">        tree[rt].date = val;</span><br><span class="line">        tree[rt].lazy = val;</span><br><span class="line">        <span class="comment">//cout &lt;&lt; tree[rt].date &lt;&lt; &#x27; &#x27; &lt;&lt;val &lt;&lt;&#x27; &#x27; &lt;&lt;tree[rt].l &lt;&lt; &#x27; &#x27; &lt;&lt; tree[rt].r &lt;&lt; &#x27; &#x27; &lt;&lt;rt &lt;&lt;endl;</span></span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( tree[rt].l &gt; r || tree[rt].r &lt; l ) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = ( tree[rt].l +tree[rt].r ) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">push_down</span>(rt,tree[rt].l,tree[rt].r);</span><br><span class="line">        <span class="keyword">if</span>(l &lt;= mid) <span class="built_in">rangeUpdate</span>( rt&lt;&lt; <span class="number">1</span>,l ,r,val );</span><br><span class="line">        <span class="keyword">if</span>( r &gt; mid ) <span class="built_in">rangeUpdate</span>( rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span> , l, r,val );</span><br><span class="line">        <span class="comment">//push_up(rt);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Query</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l ,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="keyword">if</span>( tree[rt].l == tree[rt].r )   <span class="keyword">return</span> tree[rt].date;</span><br><span class="line">     <span class="keyword">else</span> <span class="keyword">if</span>( tree[rt].l &gt; r || tree[rt].r &lt; l ) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">     &#123;</span><br><span class="line">         <span class="built_in">push_down</span>(rt,tree[rt].l,tree[rt].r);</span><br><span class="line">         <span class="keyword">int</span> mid = ( tree[rt].l + tree[rt].r ) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">         <span class="keyword">if</span>( l &lt;= mid ) <span class="keyword">return</span> <span class="built_in">Query</span>( rt &lt;&lt; <span class="number">1</span>, l ,r );</span><br><span class="line">         <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">Query</span>( rt &lt;&lt;<span class="number">1</span>|<span class="number">1</span>,l,r );</span><br><span class="line"></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ans</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> las = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= maxn ; i++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> no = <span class="built_in">Query</span>(<span class="number">1</span>,i,i);</span><br><span class="line">        <span class="comment">//cout &lt;&lt; no &lt;&lt;endl;</span></span><br><span class="line">        <span class="keyword">if</span>( no == las)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( no != las)</span><br><span class="line">        &#123;</span><br><span class="line">            cnt[no]++;</span><br><span class="line">        &#125;</span><br><span class="line">        las = no;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt;= <span class="number">8000</span> ; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>( cnt[i] != <span class="number">0</span> )</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; cnt[i] &lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(cin &gt;&gt; n)</span><br><span class="line">    &#123;</span><br><span class="line">        maxn = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(cnt,<span class="number">0</span>,<span class="keyword">sizeof</span> cnt);</span><br><span class="line">        <span class="keyword">int</span> x,y,z;</span><br><span class="line">        <span class="built_in">build</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">8001</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;n ; i++)&#123;</span><br><span class="line">            cin &gt;&gt;x &gt;&gt; y &gt;&gt; z;</span><br><span class="line">            <span class="comment">///把区间，变成格子</span></span><br><span class="line">            maxn = <span class="built_in">max</span>(x,<span class="built_in">max</span>(y,maxn) );</span><br><span class="line">            <span class="built_in">rangeUpdate</span>(<span class="number">1</span>,x+<span class="number">1</span>,y,z);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">ans</span>();</span><br><span class="line">        <span class="comment">//for(int i = 7990; i &lt;= 320000 ; i++)cout &lt;&lt; tree[i].date &lt;&lt; endl;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-4-3-扫描线"><a href="#3-4-3-扫描线" class="headerlink" title="3.4.3____扫描线"></a>3.4.3____扫描线</h3><hr>
<h3 id="3-4-5-最大连续区间-与区间最大子段和差不多"><a href="#3-4-5-最大连续区间-与区间最大子段和差不多" class="headerlink" title="3.4.5____最大连续区间( 与区间最大子段和差不多 )"></a>3.4.5____最大连续区间( 与区间最大子段和差不多 )</h3><hr>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://vjudge.net/problem/HDU-1540">Tunnel Warfare</a></p>
</blockquote>
<p>题意：</p>
<p>1 - n 单点删除（ 可以逐渐修复，从最后一个被删除的点开始修复 ）, 问包含该点的最大连续子区间有多大</p>
<ul>
<li>STL做法</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>( cin &gt;&gt; n )</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; m;</span><br><span class="line">        set&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line">        stack&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">        s.<span class="built_in">insert</span>(<span class="number">0</span>);</span><br><span class="line">        s.<span class="built_in">insert</span>(n + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m ; i++)&#123;</span><br><span class="line">            <span class="keyword">char</span> cmd;</span><br><span class="line">            <span class="keyword">int</span> x;</span><br><span class="line">            cin &gt;&gt;cmd;</span><br><span class="line">            <span class="keyword">if</span>( cmd == <span class="string">&#x27;Q&#x27;</span> )</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>( s.<span class="built_in">empty</span>() ) cout &lt;&lt; n &lt;&lt;endl;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    cin &gt;&gt; x;</span><br><span class="line">                    <span class="comment">//int l_son = 0,r_son = 0;</span></span><br><span class="line">                    <span class="comment">//cout &lt;&lt; *( s.upper_bound(x) )  &lt;&lt; &#x27; &#x27; &lt;&lt;  *(--s.lower_bound(x) ) &lt;&lt; endl;</span></span><br><span class="line">                    <span class="keyword">if</span>( s.<span class="built_in">find</span>( x ) != s.<span class="built_in">end</span>() ) cout &lt;&lt; <span class="number">0</span> &lt;&lt;endl;</span><br><span class="line">                    <span class="keyword">else</span> cout &lt;&lt; *( s.<span class="built_in">upper_bound</span>(x) ) - *(--s.<span class="built_in">lower_bound</span>(x) ) - <span class="number">1</span> &lt;&lt;endl;</span><br><span class="line">                 &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cmd == <span class="string">&#x27;D&#x27;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                cin &gt;&gt; x;</span><br><span class="line">                s.<span class="built_in">insert</span>(x);</span><br><span class="line">                q.<span class="built_in">push</span>(x);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                s.<span class="built_in">erase</span>(  q.<span class="built_in">top</span>() );</span><br><span class="line">                q.<span class="built_in">pop</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>线段树</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">50010</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> lmax;   <span class="comment">///  从左端点开始的最大子段和</span></span><br><span class="line">    <span class="keyword">int</span> rmax;   <span class="comment">///  从右端点开始的最大子段和</span></span><br><span class="line">    <span class="keyword">int</span> ans;    <span class="comment">///  该区间的最大字段和</span></span><br><span class="line">    <span class="keyword">int</span> l,r;</span><br><span class="line">&#125;tree[N*<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">///  一个区间的lmax有两种情况</span></span><br><span class="line"><span class="comment">///     1.lmax 为左儿子的lmax</span></span><br><span class="line"><span class="comment">///     2.lmax 为左儿子的ans + 右儿子的lmax</span></span><br><span class="line"></span><br><span class="line"><span class="comment">///  一个区间的rmax有两种情况</span></span><br><span class="line"><span class="comment">///     1.rmax 为右儿子的rmax</span></span><br><span class="line"><span class="comment">///     2.rmax 为右儿子的ans + 左儿子的rmax</span></span><br><span class="line"></span><br><span class="line"><span class="comment">///  一个区间的ans有三种情况</span></span><br><span class="line"><span class="comment">///     1.ans 为左儿子的ans</span></span><br><span class="line"><span class="comment">///     2.ans 为右儿子的ans</span></span><br><span class="line"><span class="comment">///     3.ans 为 （ 左儿子的rmax + 右儿子的lmax ）</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_up</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> l = tree[rt].l ,r = tree[rt].r;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    tree[rt].lmax = tree[rt &lt;&lt; <span class="number">1</span>].lmax + ( tree[rt &lt;&lt; <span class="number">1</span>].lmax == mid - l + <span class="number">1</span> ? tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].lmax : <span class="number">0</span> );</span><br><span class="line">    tree[rt].rmax = tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].rmax + ( tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].rmax == r - mid ? tree[rt &lt;&lt; <span class="number">1</span>].rmax : <span class="number">0</span>  );</span><br><span class="line">    tree[rt].ans = <span class="built_in">max</span>( <span class="built_in">max</span>( tree[rt&gt;&gt;<span class="number">1</span>].ans , tree[rt &gt;&gt; <span class="number">1</span>|<span class="number">1</span>].ans  ) , tree[rt &lt;&lt;<span class="number">1</span>].ans + tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].ans );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt ,<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tree[rt].l = l , tree[rt].r = r;</span><br><span class="line">    <span class="keyword">if</span>(l == r)</span><br><span class="line">    &#123;</span><br><span class="line">        tree[rt].ans = tree[rt].lmax = tree[rt].rmax = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build</span>( rt &lt;&lt; <span class="number">1</span>, l ,mid );</span><br><span class="line">    <span class="built_in">build</span>( rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span> ,mid + <span class="number">1</span>,r );</span><br><span class="line">    <span class="built_in">push_up</span>( rt );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span><span class="params">(<span class="keyword">int</span> rt, <span class="keyword">int</span> pos,<span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( tree[rt].l == tree[rt].r &amp;&amp; tree[rt].l == pos )</span><br><span class="line">    &#123;</span><br><span class="line">        tree[rt].ans = tree[rt].lmax = tree[rt].rmax = val;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (tree[rt].l + tree[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>( pos &lt;= mid ) <span class="built_in">Update</span>( rt &lt;&lt; <span class="number">1</span> ,pos,val );</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">Update</span>( rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>,pos,val );</span><br><span class="line"></span><br><span class="line">    <span class="built_in">push_up</span>(rt);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Query</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( tree[rt].ans == <span class="number">0</span> || tree[rt].l == tree[rt].r )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> tree[rt].ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = ( tree[rt].l + tree[rt].r ) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>( x &lt;= mid )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>( mid - x + <span class="number">1</span> &lt;= tree[rt &lt;&lt; <span class="number">1</span>].rmax ) <span class="keyword">return</span> tree[rt &lt;&lt; <span class="number">1</span>].rmax + tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].lmax;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">Query</span>( rt &lt;&lt; <span class="number">1</span>,x );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>( x - mid &lt;= tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].lmax )   <span class="keyword">return</span> tree[rt &lt;&lt; <span class="number">1</span>].rmax + tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].lmax;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">Query</span>( rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>,x );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="keyword">while</span>(cin &gt;&gt; n)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; m;</span><br><span class="line">        stack&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">build</span>(<span class="number">1</span>,<span class="number">1</span>,n);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">char</span> cmd;</span><br><span class="line">            <span class="keyword">int</span> x;</span><br><span class="line">            cin &gt;&gt; cmd;</span><br><span class="line">            <span class="keyword">if</span>( cmd == <span class="string">&#x27;Q&#x27;</span> )</span><br><span class="line">            &#123;</span><br><span class="line">                cin &gt;&gt; x;</span><br><span class="line">                cout &lt;&lt; <span class="built_in">Query</span>( <span class="number">1</span>, x ) &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>( cmd == <span class="string">&#x27;D&#x27;</span> )</span><br><span class="line">            &#123;</span><br><span class="line">                cin &gt;&gt; x;</span><br><span class="line">                s.<span class="built_in">push</span>(x);</span><br><span class="line">                <span class="built_in">Update</span>(<span class="number">1</span>,x,<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>( !s.<span class="built_in">empty</span>() )</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">Update</span>( <span class="number">1</span>,s.<span class="built_in">top</span>(),<span class="number">1</span> );</span><br><span class="line">                    s.<span class="built_in">pop</span>();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-4-6-DFS序建树"><a href="#3-4-6-DFS序建树" class="headerlink" title="3.4.6____DFS序建树"></a>3.4.6____DFS序建树</h3><hr>
<blockquote>
<p><strong>定义</strong></p>
</blockquote>
<p>dfs序是指：每个节点在dfs深度优先遍历中的进出栈的时间序列</p>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/20171103154348840.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/20171103154348840.png"></p>
<p>对于此树的DFS序就是：</p>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/20171103154427093.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/20171103154427093.png"></p>
<p>我们发现，一个点的进出栈的时间点之间的时间段就是它的子树在栈中的所有时间。</p>
<p>也就是说，子树的dfs序肯定大于根节点的进栈时间小于根节点的出栈时间，这就成了一个区间问题。所以我们就把一个树上的问题“拍”到了一个线性的数据结构上面。区间问题就是贼好做的了，有各种强大的数据结构可以用来维护区间，例如线段树。</p>
<h3 id="3-4-7-动态开点"><a href="#3-4-7-动态开点" class="headerlink" title="3.4.7____动态开点"></a>3.4.7____动态开点</h3><hr>
<p><a target="_blank" rel="noopener" href="https://vjudge.net/problem/CodeForces-1493A">例题1</a> ( cf )，</p>
<h3 id="3-4-8-二分-线段树"><a href="#3-4-8-二分-线段树" class="headerlink" title="3.4.8____二分+线段树"></a>3.4.8____二分+线段树</h3><hr>
<p><a target="_blank" rel="noopener" href="https://vjudge.net/problem/HDU-4614">列1</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">5e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l,r;</span><br><span class="line">    <span class="keyword">int</span> sum,lazy;   <span class="comment">///sum为当前剩余可插画数</span></span><br><span class="line">    <span class="comment">///lazy = -1,为不变，lazy = 0清除插花，lazy = 1待插花</span></span><br><span class="line">&#125;t[N &lt;&lt; <span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> L,R;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_up</span><span class="params">(<span class="keyword">int</span> rt)</span></span>&#123; t[rt].sum = t[rt &lt;&lt; <span class="number">1</span>].sum + t[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].sum; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    t[rt] = &#123;l,r,<span class="number">1</span>,<span class="number">-1</span>&#125;;</span><br><span class="line">    <span class="keyword">if</span>( l == r )    <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build</span>(rt &lt;&lt; <span class="number">1</span>,l,mid),<span class="built_in">build</span>(rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid +<span class="number">1</span> ,r);</span><br><span class="line">    <span class="built_in">push_up</span>(rt);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_down</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( t[rt].lazy == <span class="number">-1</span> ) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> lazy = t[rt].lazy ,l = t[rt].l,r = t[rt].r;</span><br><span class="line">    <span class="keyword">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    t[rt&lt;&lt;<span class="number">1</span>].sum = lazy * (mid - l +<span class="number">1</span>);</span><br><span class="line">    t[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].sum = lazy * (r - mid);</span><br><span class="line">    t[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].lazy = t[rt &lt;&lt; <span class="number">1</span>].lazy = lazy;</span><br><span class="line">    t[rt].lazy = <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">///查询插花区间最左边的位置</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findLeft</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( t[rt].l == t[rt].r ) <span class="keyword">return</span> t[rt].r;</span><br><span class="line">    <span class="built_in">push_down</span>(rt);</span><br><span class="line">    <span class="keyword">if</span>( t[rt &lt;&lt; <span class="number">1</span>].sum != <span class="number">0</span> ) <span class="built_in">findLeft</span>(rt &lt;&lt; <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">findLeft</span>(rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">///查询插花区间最右边的位置</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findRight</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( t[rt].l == t[rt].r ) <span class="keyword">return</span> t[rt].l;</span><br><span class="line">    <span class="built_in">push_down</span>(rt);</span><br><span class="line">    <span class="keyword">if</span>( t[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].sum != <span class="number">0</span> )    <span class="built_in">findRight</span>(rt &lt;&lt;<span class="number">1</span>|<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">findRight</span>(rt &lt;&lt; <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rangeUpdate</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> &amp;val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( val == <span class="number">0</span> || t[rt].sum == <span class="number">0</span> ) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>( l &lt;= t[rt].l &amp;&amp; r &gt;= t[rt].r &amp;&amp; t[rt].sum &lt;= val   )</span><br><span class="line">    &#123;</span><br><span class="line">        val -= t[rt].sum;</span><br><span class="line">        <span class="comment">/// 更新第一个和最后一个</span></span><br><span class="line">        L = <span class="built_in">min</span>(L,<span class="built_in">findLeft</span>(rt)) ,  R = <span class="built_in">max</span>(R,<span class="built_in">findRight</span>(rt));</span><br><span class="line">        t[rt].sum = <span class="number">0</span>;</span><br><span class="line">        t[rt].lazy = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = t[rt].l + t[rt].r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">push_down</span>(rt);</span><br><span class="line">    <span class="keyword">if</span>( l &lt;= mid )  <span class="built_in">rangeUpdate</span>(rt &lt;&lt; <span class="number">1</span>,l,r,val);</span><br><span class="line">    <span class="keyword">if</span>( r &gt; mid )   <span class="built_in">rangeUpdate</span>(rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>,l,r,val);</span><br><span class="line">    <span class="built_in">push_up</span>(rt);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rangeDelte</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( l &lt;= t[rt].l &amp;&amp; r &gt;= t[rt].r )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> res = t[rt].r - t[rt].l + <span class="number">1</span> - t[rt].sum;</span><br><span class="line">        t[rt].sum = t[rt].r - t[rt].l + <span class="number">1</span>;</span><br><span class="line">        t[rt].lazy = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (t[rt].l + t[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">push_down</span>(rt);</span><br><span class="line">    <span class="keyword">if</span>( l &lt;= mid )  res += <span class="built_in">rangeDelte</span>(rt &lt;&lt; <span class="number">1</span>,l,r);</span><br><span class="line">    <span class="keyword">if</span>( r &gt; mid )   res += <span class="built_in">rangeDelte</span>(rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>,l,r);</span><br><span class="line">    <span class="built_in">push_up</span>(rt);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n,t,m,x,y,cmd,te;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        <span class="built_in">build</span>(<span class="number">1</span>,<span class="number">1</span>,n);</span><br><span class="line">        <span class="keyword">while</span>(m--)</span><br><span class="line">        &#123;</span><br><span class="line">            cin &gt;&gt; cmd &gt;&gt; x &gt;&gt; y;</span><br><span class="line">            <span class="keyword">if</span>(cmd == <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                L = n + <span class="number">1</span>, R = <span class="number">0</span>,te = y;</span><br><span class="line">                <span class="built_in">rangeUpdate</span>(<span class="number">1</span>,x+ <span class="number">1</span>,n,y);</span><br><span class="line">                <span class="keyword">if</span>(te == y) cout &lt;&lt; <span class="string">&quot;Can not put any one.&quot;</span> &lt;&lt;endl;</span><br><span class="line">                <span class="keyword">else</span> cout &lt;&lt; L - <span class="number">1</span> &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt;R - <span class="number">1</span> &lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> cout &lt;&lt; <span class="built_in">rangeDelte</span>(<span class="number">1</span>,x + <span class="number">1</span>,y + <span class="number">1</span>) &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-5-树状数组"><a href="#3-5-树状数组" class="headerlink" title="3.5____树状数组"></a><em>3.5</em>____树状数组</h2><hr>
<h2 id="3-6-堆"><a href="#3-6-堆" class="headerlink" title="3.6____堆"></a><em>3.6</em>____堆</h2><hr>
<h2 id="3-7-链式前向星"><a href="#3-7-链式前向星" class="headerlink" title="3.7____链式前向星"></a><em>3.7</em>____<a target="_blank" rel="noopener" href="https://blog.csdn.net/acdreamers/article/details/16902023/">链式前向星</a></h2><blockquote>
<h3 id="什么是前向星？"><a href="#什么是前向星？" class="headerlink" title="什么是前向星？"></a>什么是前向星？</h3><p>  <strong>前向星是一种特殊的边集数组,我们把边集数组中的每一条边按照起点从小到大排序,如果起点相同就按照终点从小到大排序</strong></p>
</blockquote>
<hr>
<p><strong>用len[i]表示，所有以i为起点的边的数量。</strong></p>
<p><strong>用head[i]表示，以i为起点的边集在排序后第一次出现的位置。</strong></p>
<p>以下图为例，我们建立前向星表</p>
<p><img src="https://img-blog.csdn.net/20131123160056593" alt="p1"></p>
<p>我们输入边的顺序为:</p>
<p>1 2<br>2 3<br>3 4<br>1 3<br>4 1<br>1 5<br>4 5</p>
<p>那么排完序后就得到:<br>排序后编号 :     1      2      3      4      5      6      7<br><em><strong>起点u            :    1      1      1      2      3      4      4</strong></em><br><em><strong>终点v            :    2      3      5      3      4      1      5</strong></em></p>
<p>得到:</p>
<p>head[1] = 1    len[1] = 3<br>head[2] = 4    len[2] = 1<br>head[3] = 5    len[3] = 1<br>head[4] = 6    len[4] = 2</p>
<hr>
<p>链式前向星<strong>数据结构定义</strong>以及<strong>加边函数</strong>为</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> +<span class="number">10</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Egde</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> ne,to,w;</span><br><span class="line">&#125;e[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> h[N],idx = <span class="number">0</span>;</span><br><span class="line"><span class="comment">///	idx 为边的编号，初值为0;</span></span><br><span class="line"><span class="comment">///	a为起点，b为终点，w为两点之间的距离（边权）</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx].w = w;</span><br><span class="line">    e[idx].to = b;</span><br><span class="line">    e[idx].ne = h[a];</span><br><span class="line">    h[a] = idx++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> a,b,w;</span><br><span class="line">        cin &gt;&gt; a&gt;&gt; b &gt;&gt;w;</span><br><span class="line">        <span class="built_in">add</span>(a,b,w);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n ; i++)&#123;   <span class="comment">///head</span></span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> j = h[i] ; j != <span class="number">-1</span> ; j = e[j].ne)&#123;</span><br><span class="line">            cout &lt;&lt; i &lt;&lt; <span class="string">&#x27;-&#x27;</span> &lt;&lt; e[j].to &lt;&lt; <span class="string">&#x27;-&#x27;</span> &lt;&lt; e[j].w&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>可以试试手动写一遍这个代码，我在学习的时候，写到next之后我就突然明白了这个结构了</p>
<p>next表示对于顶点a的链路，最后一个节点的位置<br>to表示这表边的终点<br>w表示这条边的边权<br>head表示，顶点a最后加上的边的编号</p>
<p><strong>head[]数组一般初始化为-1</strong></p>
<hr>
<p>现在我们还是按照上面的图和输入来模拟一下:</p>
<p>edge[0].to = 2;     edge[0].next = -1;      head[1] = 0;</p>
<p>edge[1].to = 3;     edge[1].next = -1;      head[2] = 1;</p>
<p>edge[2].to = 4;     edge[2],next = -1;      head[3] = 2;</p>
<p>edge[3].to = 3;     edge[3].next = 0;       head[1] = 3;</p>
<p>edge[4].to = 1;     edge[4].next = -1;      head[4] = 4;</p>
<p>edge[5].to = 5;     edge[5].next = 3;       head[1] = 5;</p>
<p>edge[6].to = 5;     edge[6].next = 4;       head[4] = 6;    </p>
<h2 id="3-8-可持续化线段树（主席树）"><a href="#3-8-可持续化线段树（主席树）" class="headerlink" title="3.8____可持续化线段树（主席树）"></a><em>3.8</em>____可持续化线段树（主席树）</h2><h3 id="3-8-1-权值线段树"><a href="#3-8-1-权值线段树" class="headerlink" title="3.8.1____权值线段树"></a>3.8.1____权值线段树</h3><p>​    <em><strong>权值线段树</strong></em>之所以带上”权值”二字，是因为它是记录权值的线段树。所以在某些题中，需要离散化处理输出数据。记录权值指的是，每个点上存的是区间内的数字出现的总次数。比如一个长度为10的数组[1,1,2,3,3,4,4,4,4,5]。<br><img src="https://img-blog.csdn.net/20180525013735994?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1N0dXBpZF9UdXJ0bGU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="image1"></p>
<p>​    1出现了两次所以节点[1,1]的权值为2</p>
<p>​    2出现了一次所以节点[2,2]的取值为1</p>
<p>​    因为1,2共出现三次所以节点[1,2]的权值为3</p>
<p>​    因为这个测试数据比较少，没有对数据进行离散化，所有会有权值为0的节点出现</p>
<blockquote>
<p><strong>应用求第K大（或小）数</strong></p>
</blockquote>
<p>​    我们向树中插入4个数 $ [1,2,5,7]$ ，得到的权值线段树如下<br><img src="https://img-blog.csdn.net/20170808211815399?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY2R5MTIwNjQ3MzYwMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="image2"></p>
<p>​    现在我们从根节点开始，向下去找第3（K）小的数（rt为当前节点的数组编号）</p>
<p>​    <em>我们的判断准则为：</em> 我们求的是区间 [1,7]的第3小数，首先我们要去看这个节点的左子树的取值为多少，如果<code>K &lt;= t[rt&lt;&lt;1].权值</code>，那么我们的问题就缩小为了，找左儿子所在的区间内的第K小数；反之如果 <code>K &gt; t[rt&lt;&lt;1].权值</code>，那么说明[1,7]的第K小数在他的右子树上，那么问题就变为了，找右儿子所在区间内的第<code>K-t[rt&lt;&lt;1].权值</code>小的数。</p>
<p>​    运用这个原理，第一层我们就把问题缩小为，求[5,7]区间第1小数，然后进第二层问题缩小为求[5,6]区间的第1小数，进入第三层我们就能找到我们的答案了，为5，这就是权值线段树求第K小（大）数的原理。</p>
<p>​    下面我们来看一道板子题</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/1076/B">B-简易版第k大_2019长沙学院暑假集训队第二次校赛 </a></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l,r;</span><br><span class="line">    <span class="keyword">int</span> cnt;</span><br><span class="line">&#125;t[N&lt;&lt;<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> l ,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    t[rt].l = l,t[rt].r = r;</span><br><span class="line">    <span class="keyword">if</span>(l == r)&#123;</span><br><span class="line">        t[rt].cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = l + r &gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build</span>(rt &lt;&lt;<span class="number">1</span>,l,mid),<span class="built_in">build</span>(rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid+<span class="number">1</span>,r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> loc,<span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>( t[rt].l == t[rt].r )&#123;</span><br><span class="line">        t[rt].cnt += val;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = t[rt].l + t[rt].r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>( loc &lt;= mid ) <span class="built_in">update</span>(rt&lt;&lt;<span class="number">1</span>,loc,val);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">update</span>(rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,loc,val);</span><br><span class="line">    t[rt].cnt = t[rt&lt;&lt;<span class="number">1</span>].cnt + t[rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> k)</span>	<span class="comment">///query里的逻辑是关键点</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t[rt].l == t[rt].r)&#123;</span><br><span class="line">        <span class="keyword">return</span> t[rt].l;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = t[rt].l + t[rt].r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>( k &lt;= t[rt&lt;&lt;<span class="number">1</span>].cnt ) <span class="keyword">return</span> <span class="built_in">query</span>(rt&lt;&lt;<span class="number">1</span>,k);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">query</span>(rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,k - t[rt&lt;&lt;<span class="number">1</span>].cnt);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    cin &gt;&gt;n &gt;&gt; m;</span><br><span class="line">    <span class="built_in">build</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1000002</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n ; i++)&#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">        <span class="built_in">update</span>(<span class="number">1</span>,a[i],<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m ; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> op,x,y;</span><br><span class="line">        cin &gt;&gt; op;</span><br><span class="line">        <span class="keyword">if</span>(op == <span class="number">1</span>)&#123;</span><br><span class="line">            cin &gt;&gt;x;</span><br><span class="line">            cout &lt;&lt; <span class="built_in">query</span>(<span class="number">1</span>,x) &lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            cin &gt;&gt;x&gt;&gt; y;</span><br><span class="line">            <span class="keyword">if</span>( a[x] == y ) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="built_in">update</span>(<span class="number">1</span>,a[x],<span class="number">-1</span>);</span><br><span class="line">            <span class="built_in">update</span>(<span class="number">1</span>,y,<span class="number">1</span>);</span><br><span class="line">            a[x] = y;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="3-8-2-主席树（可持续化线段树）"><a href="#3-8-2-主席树（可持续化线段树）" class="headerlink" title="3.8.2____主席树（可持续化线段树）"></a>3.8.2____主席树（可持续化线段树）</h3><p>​    在知道了权值线段树是什么，那么我们就可以开始认识什么是主席树了。主席树是一棵可持久化线段树，可持久化指的是它保存了这棵树的<em>所有历史版本</em>。</p>
<p>​    最简单的办法是：如果你输入了n个数，那么每输入一个数字a[i]，就构造一棵保存了从a[1]到a[i]的权值线段树。之所以这么做，是因为我们可以把第j棵树和第(i-1)棵树上的每个点的权值相减，来得到一颗新的权值线段树，而这个新的树相当于是除去a[i]之前的数，将第一个输入的数变为a[i+1]，最后一个输入的数为a[i]的权值线段树了，那么求区间K小值，就变成上面权值线段树的内容了。</p>
<blockquote>
<p>​    如果这么说不太好理解的话，我们可以思考另外一个模型：<em>求数组a[1]到a[n]的和</em>。如果只是求[1,n]这一段的和，那么我们直接全部加起来就可以了，或者求一个前缀和sum[n]即可。那么如果我给定了l和r，想要知道[l,r]这段区间上的和呢？是不是利用前缀和sum[r]-sum[l-1]就可以轻松得到？那么<em>主席树的思想也是如此</em>，将tree[r]-tree[l-1]得到的一棵权值线段树即为属于[l,r]的一棵权值线段树，那么在这么一棵权值线段树上求第k大不是就转变为之前的问题了么。</p>
</blockquote>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/20190511130727560.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/20190511130727560.png"></p>
<p>​    还有一个问题需要解决，那就是<strong>空间问题</strong>。</p>
<hr>
<p>​    显而易见的是，如果每输入一个数就重新构造一棵权值线段树，必然会导致空间不够用：一棵线段树的空间就是n * 4，那么一共的空间开销就是n * n * 4，显然是会MLE的。那么这个问题怎么解决呢？</p>
<p>​    可以发现每更新一个点，就会从它开始把它的所有祖先都更新一次，而其他的点都没有被改变，即：<em>每次改变的结点只有$log_n$个</em>。这样，我们每次输入一个数，只需要多开logn个空间，那么实际的空间开销只有$n*(4+log_n)$，满足了空间要求。</p>
<blockquote>
<p>板子题<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/submission/257/">255. 第K小数 - AcWing题库</a></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N  =<span class="number">100005</span>;</span><br><span class="line"><span class="comment">/// len为离散化之后数组的长度，a为原始数组，d为离散化之后的数组</span></span><br><span class="line"><span class="keyword">int</span> n,m,len,a[N],d[N];</span><br><span class="line"><span class="comment">/// T为[1,i]区间的权值线段树的根节点下标，idx为当前存到那个下标了</span></span><br><span class="line"><span class="keyword">int</span> T[N],idx;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l,r,val;</span><br><span class="line">    <span class="comment">/// 主席树的l，r与线段树不同，l存的是左儿子的节点下标，r存的是...</span></span><br><span class="line">&#125;t[<span class="number">4</span>*N + N*<span class="number">17</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> p = ++idx , mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(l &lt; r)&#123;</span><br><span class="line">        t[p].l = <span class="built_in">build</span>(l,mid);</span><br><span class="line">        t[p].r = <span class="built_in">build</span>(mid+<span class="number">1</span>,r);</span><br><span class="line">    &#125;</span><br><span class="line">    t[p].val = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/// 添加一个数，pre为上颗树的根节点，T[0]为build的空树，T[1]为加入一个节点时的树</span></span><br><span class="line"><span class="comment">/// 每次都只添加一条路径（其余的连上上一颗树的节点），因为一次只增加一个点</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> pre,<span class="keyword">int</span> l ,<span class="keyword">int</span> r,<span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> p = ++idx,mid = l + r &gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="comment">/// 链接上颗树</span></span><br><span class="line">    t[p].l = t[pre].l , t[p].r = t[pre].r , t[p].val = t[pre].val + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(l &lt; r)&#123;  <span class="comment">/// 只更新修改的那条路径,并新建点</span></span><br><span class="line">        <span class="keyword">if</span>( val &lt;= mid ) t[p].l = <span class="built_in">update</span>(t[pre].l , l ,mid ,val);</span><br><span class="line">        <span class="keyword">else</span> t[p].r = <span class="built_in">update</span>(t[pre].r,mid+<span class="number">1</span>,r,val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l == r)  <span class="keyword">return</span> l;   <span class="comment">///权值线段树的特点</span></span><br><span class="line">    <span class="comment">/// 对位相减，得到[l,r]区间的权值线段树的对应节点值</span></span><br><span class="line">    <span class="keyword">int</span> sum = t[ t[y].l ].val - t[ t[x].l ].val, mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="comment">/// 下面的和权值线段树相同</span></span><br><span class="line">    <span class="keyword">if</span>( k &lt;= sum )  <span class="keyword">return</span> <span class="built_in">query</span>( t[x].l,t[y].l,l,mid,k );</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">query</span>( t[x].r,t[y].r,mid + <span class="number">1</span>,r ,k - sum );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n ; i++)&#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">        d[i] = a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(d+<span class="number">1</span>,d+n+<span class="number">1</span>);</span><br><span class="line">    len = <span class="built_in">unique</span>(d+<span class="number">1</span>,d+<span class="number">1</span>+n) - (d+<span class="number">1</span>);    <span class="comment">///地址相减</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n ; i++)&#123;</span><br><span class="line">        a[i] = <span class="built_in">lower_bound</span>(d+<span class="number">1</span>,d+<span class="number">1</span>+len,a[i]) - d;   <span class="comment">///离散化映射</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">///建树</span></span><br><span class="line">    T[<span class="number">0</span>] = <span class="built_in">build</span>(<span class="number">1</span>,len);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n ; i++)    T[i] = <span class="built_in">update</span>(T[i<span class="number">-1</span>],<span class="number">1</span>,len,a[i]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">        <span class="keyword">int</span> l,r,k;</span><br><span class="line">        cin &gt;&gt; l &gt;&gt; r &gt;&gt;k;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="built_in">query</span>(T[l<span class="number">-1</span>],T[r],<span class="number">1</span>,len,k);</span><br><span class="line">        cout &lt;&lt; d[ans] &lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="3-9-可持续化字典树"><a href="#3-9-可持续化字典树" class="headerlink" title="3.9____可持续化字典树"></a>3.9____可持续化字典树</h2><hr>
<h2 id="3-10-栈"><a href="#3-10-栈" class="headerlink" title="3.10____栈"></a>3.10____栈</h2><hr>
<h3 id="3-10-1-表达式求值"><a href="#3-10-1-表达式求值" class="headerlink" title="3.10.1____表达式求值"></a>3.10.1____表达式求值</h3><blockquote>
<h2 id="中缀表达式求值"><a href="#中缀表达式求值" class="headerlink" title="中缀表达式求值"></a><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/3305/">中缀表达式求值</a></h2><p>  (中缀表达式为运算树的中序遍历)</p>
</blockquote>
<p>![中缀表达式](D:\workProgram\Typora_MarkDown\Hoppz算法笔记 11e225234f9f4382825a35d69f9cb19f\中缀表达式.png)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">stack&lt;<span class="keyword">int</span>&gt; num; <span class="comment">///数字栈</span></span><br><span class="line">stack&lt;<span class="keyword">int</span>&gt; op;  <span class="comment">///运算符栈</span></span><br><span class="line">unordered_map&lt;<span class="keyword">char</span>,<span class="keyword">int</span>&gt; pr&#123;&#123;<span class="string">&#x27;+&#x27;</span>,<span class="number">1</span>&#125;, &#123;<span class="string">&#x27;-&#x27;</span>,<span class="number">1</span>&#125;,&#123; <span class="string">&#x27;*&#x27;</span>,<span class="number">2</span> &#125;,&#123;<span class="string">&#x27;/&#x27;</span>,<span class="number">2</span>&#125; &#125;;    <span class="comment">///记录运算符的优先级</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">eval</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> b = num.<span class="built_in">top</span>();num.<span class="built_in">pop</span>();</span><br><span class="line">    <span class="keyword">auto</span> a = num.<span class="built_in">top</span>();num.<span class="built_in">pop</span>();</span><br><span class="line">    <span class="keyword">auto</span> c = op.<span class="built_in">top</span>();op.<span class="built_in">pop</span>();</span><br><span class="line">    <span class="keyword">int</span> ans;</span><br><span class="line">    <span class="keyword">if</span>( c == <span class="string">&#x27;+&#x27;</span> ) ans  = a + b;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( c == <span class="string">&#x27;-&#x27;</span> ) ans = a - b;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( c == <span class="string">&#x27;*&#x27;</span> ) ans = a * b;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( c == <span class="string">&#x27;/&#x27;</span> ) ans = a / b;</span><br><span class="line">    num.<span class="built_in">push</span>(ans);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    string str;</span><br><span class="line">    cin &gt;&gt; str;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i =  <span class="number">0</span>; i &lt; str.<span class="built_in">length</span>() ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> c = str[i];</span><br><span class="line">        <span class="keyword">if</span>( <span class="built_in">isdigit</span>(c) )    <span class="comment">///c，c++库函数</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> x  = <span class="number">0</span> ,j = i;</span><br><span class="line">            <span class="keyword">while</span>( j &lt; str.<span class="built_in">size</span>() &amp;&amp; <span class="built_in">isdigit</span>( str[j] ) )    <span class="comment">///把这个数字读取完</span></span><br><span class="line">                x = x * <span class="number">10</span> + (<span class="keyword">int</span> )( str[j ++] - <span class="string">&#x27;0&#x27;</span> );     <span class="comment">///加到num栈中</span></span><br><span class="line">            i = j - <span class="number">1</span>;</span><br><span class="line">            num.<span class="built_in">push</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( c == <span class="string">&#x27;(&#x27;</span> ) op.<span class="built_in">push</span>(c);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( c == <span class="string">&#x27;)&#x27;</span> ) <span class="comment">///把(...)之中的表达式从右到左计算</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span>( op.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span> ) <span class="built_in">eval</span>();</span><br><span class="line">            op.<span class="built_in">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>                <span class="comment">/// 如果是符号 &amp;&amp; 栈顶的运算符优先级大于等于自己</span></span><br><span class="line">        &#123;                   <span class="comment">/// 则计算,如[ 1*4 + ..]到读取加号时，就先计算*</span></span><br><span class="line">            <span class="keyword">while</span>( op.<span class="built_in">size</span>() &amp;&amp; pr[op.<span class="built_in">top</span>()] &gt;= pr[c] ) <span class="built_in">eval</span>();</span><br><span class="line">            op.<span class="built_in">push</span>(c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>( op.<span class="built_in">size</span>() ) <span class="built_in">eval</span>();</span><br><span class="line">    cout &lt;&lt; num.<span class="built_in">top</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="3-11-分块思想（数列分块）"><a href="#3-11-分块思想（数列分块）" class="headerlink" title="3.11____分块思想（数列分块）"></a>3.11____分块思想（数列分块）</h2><p><img src="https://i.loli.net/2021/08/02/QOejJNpckAm6lx3.png" alt="image-20210802101512850"></p>
<blockquote>
<p><strong>例</strong></p>
<h1 id="6280-数列分块入门-4"><a href="#6280-数列分块入门-4" class="headerlink" title="6280. 数列分块入门 4"></a><a target="_blank" rel="noopener" href="https://loj.ac/p/6280"><strong>6280. 数列分块入门 4</strong></a></h1></blockquote>
<h1 id="4-动态规划"><a href="#4-动态规划" class="headerlink" title="4____动态规划"></a>4____动态规划</h1><hr>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2010.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2010.png"></p>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2011.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2011.png"></p>
<p>取自Acwing分享</p>
<h2 id="4-1-背包问题"><a href="#4-1-背包问题" class="headerlink" title="4.1____背包问题"></a><em>4.1</em>____背包问题</h2><hr>
<h3 id="4-1-1-01背包问题——n个东西里选任意个出来"><a href="#4-1-1-01背包问题——n个东西里选任意个出来" class="headerlink" title="4.1.1____01背包问题——n个东西里选任意个出来"></a><em>4.1.1</em>____<strong>01背包问题——n个东西里选任意个出来</strong></h3><blockquote>
<p><strong>初探dp，我觉得最重要的还是状态转移</strong></p>
</blockquote>
<p>开始听了<code>y总</code>的视频课，讲真是没听懂，之后下午就一直看<code>《挑战》</code> （讲真是本好书），看到书上有这样的矩阵格子，我就一步一步顺着代码，算几个数据，然后突然！我悟了！最重要的就是那几行状态转移。</p>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2012.png" alt="23"></p>
<p>01背包矩阵</p>
<hr>
<p>外面的两层for循环，枚举每一种状态</p>
<blockquote>
<p>对于dp[ i ][ j ]的解释——二维只是方便理解，真正的</p>
</blockquote>
<ul>
<li><p>第一层[ i ]枚举n个物品</p>
</li>
<li><p>第二层[ j ]枚举总总量</p>
<pre><code>**这样就构建出了，选取 i 个的物品中的若干个，在小于等于 j 重量的情况下**
  
**该状态的最优组合**
</code></pre>
</li>
</ul>
<p><strong>状态转移方程</strong><br><code>f[i][j] = max(f[i-1][j], f[i-1][j-v[i]]+w[i])</code><br><code>f[i-1][j]</code>  :  <strong>不选</strong>第i个物品的集合中的最大值<br><code>f[i-1][j-v[i]] + w[i]</code>  :  <strong>选</strong>第i个物品的集合,但是直接求不容易求所在集合的属性,这里迂回打击一下,先将第i个物品的体积减去,求剩下集合中选法的最大值.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1010</span>;</span><br><span class="line"><span class="keyword">int</span> n,m;<span class="comment">///n -&gt; 几个物品，m —&gt; 最大重量</span></span><br><span class="line"><span class="keyword">int</span> v[maxn],w[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[maxn][maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n ; i++)&#123;</span><br><span class="line">        cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n ;i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= m; j ++)&#123;</span><br><span class="line"></span><br><span class="line">            **dp[i][j] = dp[i - <span class="number">1</span>][j];**</span><br><span class="line">            <span class="comment">///j&gt;=v[i]  -&gt;  当前的遍历的值小于</span></span><br><span class="line">            <span class="keyword">if</span>( j &gt;= v[i] ) **dp[i][j] = <span class="built_in">max</span>(dp[i][j],dp[i - <span class="number">1</span>][j - v[i]] + w[i]);**</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; dp[n][m] &lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>优化版，一维dp[maxn]</p>
</blockquote>
<p>f[i] 仅用到了f[i-1]层</p>
<p>j与j-v[i] 均小于j</p>
<p>若用到上一层的状态时,从大到小枚举, 反之从小到大哦</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">int</span> v[N], w[N];</span><br><span class="line"><span class="keyword">int</span> f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">	</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = m; j &gt;= v[i]; j--) </span><br><span class="line">            **f[j] = <span class="built_in">max</span>(f[j], f[j-v[i]]+w[i]);**</span><br><span class="line">    cout &lt;&lt; f[m] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在谈01背包——质数分解</p>
</blockquote>
<p>在19年的蓝桥杯决赛，有这个题</p>
<p>外层for循环，<strong>遍历的是要放进背包的东西</strong></p>
<p>内层for循环，是<strong>限制的条件</strong></p>
<p>比如在<strong>01背包的题中</strong>要遍历的东西是n个物品</p>
<p>而限制条件是，背包的容量</p>
<p>在质数分解的题中要遍历的是打表出来的质数</p>
<p>而限制条件是可以被加的最大值2019</p>
<h3 id="4-1-2-完全背包问题"><a href="#4-1-2-完全背包问题" class="headerlink" title="4.1.2___完全背包问题"></a><em>4.1.2</em>___完全背包问题</h3><hr>
<blockquote>
<p>完全背包问题与01背包问题，题目唯一的不同就是单个物品，可选的次数不限。</p>
</blockquote>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2013.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2013.png"></p>
<p><strong>所以</strong>由<code>上式子</code>，我们可以看出当取到<strong>最大值</strong></p>
<p><code>d[i][j - 1]</code>与<code>dp[i -1][j - v] + w .........</code>只相差一个 w 所以可得下式：</p>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2014.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2014.png"></p>
<blockquote>
<p>二维dp</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1010</span>;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">int</span> w[maxn],v[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[maxn][maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= m; j++)&#123;</span><br><span class="line">            dp[i][j] = dp[i - <span class="number">1</span>][j];    <span class="comment">///不选这个物品</span></span><br><span class="line">            <span class="keyword">if</span>( j &gt;= v[i] )</span><br><span class="line">                dp[i][j] = <span class="built_in">max</span>( dp[i][j], dp[i][ j - v[i] ] + w[i] );   <span class="comment">///选择这个物品</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; dp[n][m] &lt;&lt; endl; </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>一维dp</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1010</span>;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">int</span> w[maxn],v[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i ++)&#123;</span><br><span class="line">        cin &gt;&gt; v[i] &gt;&gt; w[i];</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = v[i]; j &lt;= m ; j++)&#123;</span><br><span class="line">            dp[j] = <span class="built_in">max</span>(dp[j] , dp[j - v[i]] + w[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; dp[m];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-1-3-多重背包问题"><a href="#4-1-3-多重背包问题" class="headerlink" title="4.1.3____多重背包问题"></a><em>4.1.3</em>____多重背包问题</h3><hr>
<blockquote>
<p>数据小于100的暴力解法————将物品拆成s个放入数据中</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1010</span>;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"><span class="keyword">int</span> v[maxn],w[maxn],s[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        cin &gt;&gt; v[i] &gt;&gt; w[i] &gt;&gt; s[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++ )&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = m; j &gt;= <span class="number">0</span>; j--)&#123;    **<span class="comment">///注意逆序**</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt;= s[i]; k++ )&#123;</span><br><span class="line">                <span class="keyword">if</span>( j &gt;= k*v[i] )&#123;</span><br><span class="line">                    dp[j] = <span class="built_in">max</span>(dp[j],dp[j - k*v[i]] + k*w[i] );</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; dp[m] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>数据小于1000————二进制</p>
</blockquote>
<h2 id="4-2-最长上升子序列"><a href="#4-2-最长上升子序列" class="headerlink" title="4.2____最长上升子序列"></a>4.2____最长上升子序列</h2><blockquote>
<p>子序列的定义</p>
</blockquote>
<p>对于数列E = { 3 1 2 1 8 5 6 }，{ 1 2 1}是E的子序列，{ 3 2 8 6}也是E的子序列</p>
<p>E最长上升子序列为 { 1 2 5 6 }；</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">1010</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1010</span>];   <span class="comment">///dp[i]表示以a[i]结尾的最大上升子序列长度</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n,ans=<span class="number">0</span>;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i&lt; n ; i++) cin &gt;&gt; a[i];</span><br><span class="line">    <span class="built_in">fill</span>(dp,dp+n,<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n ; i ++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; i ; j++)&#123;</span><br><span class="line">            <span class="comment">/// 把上一个的长度+1，与自己现在比较</span></span><br><span class="line">            <span class="keyword">if</span>( a[i] &gt; a[j] ) dp[i] = <span class="built_in">max</span>(dp[j] +asa <span class="number">1</span>,dp[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        ans = <span class="built_in">max</span>(ans,dp[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt;ans &lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>二分求解( O( nlogn ) )</strong></p>
</blockquote>
<p><font color = "Red"> <em><strong>记录每个长度序列的最小末尾数字</strong></em></font>，二分求解</p>
<h3 id="最终代码"><a href="#最终代码" class="headerlink" title="最终代码"></a>最终代码</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;  pir;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">1010</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1010</span>];   <span class="comment">///长度为i的最长上升子序列，末尾最小的数字</span></span><br><span class="line"><span class="keyword">int</span> n,cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;  i &lt;= n ; i++)&#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dp[cnt++] = a[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= n ; i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>( a[i] &gt; dp[cnt - <span class="number">1</span>] ) dp[cnt ++] = a[i];</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">int</span> l = <span class="number">0</span> , r = cnt<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">while</span>(l &lt; r)&#123;</span><br><span class="line">                <span class="keyword">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span>( dp[mid] &lt; a[i]) l = mid + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span> r = mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(a[i] &lt; dp[r] )dp[r] = a[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; cnt &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="4-3-最长公共子序列"><a href="#4-3-最长公共子序列" class="headerlink" title="4.3____最长公共子序列"></a>4.3____最长公共子序列</h2><p>给两个串，求既是A的子序列，又是B的子序列的序列的最大长度</p>
<p>忘了在去acwing看嘛，<code>不看视频</code>，直接看别人的文字更好看懂</p>
<blockquote>
<h2 id="O-n-2-做法"><a href="#O-n-2-做法" class="headerlink" title="$ O(n^2) $ 做法"></a>$ O(n^2) $ 做法</h2></blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">char</span> a[<span class="number">1010</span>];</span><br><span class="line"><span class="keyword">char</span> b[<span class="number">1010</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1010</span>][<span class="number">1010</span>];</span><br><span class="line"><span class="comment">///dp[i][j]表示a的前i个字母，和b的前j个字母的最长公共子序列长度</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; a+<span class="number">1</span> &gt;&gt; b+<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= n ; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m ; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>( a[i] == b[j] )	dp[i][j] = dp[i - <span class="number">1</span>][j- <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span>	dp[i][j] = <span class="built_in">max</span>( dp[i <span class="number">-1</span>][j],dp[i][j<span class="number">-1</span>] );</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; dp[n][m]&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="5-图论"><a href="#5-图论" class="headerlink" title="5____图论"></a>5____图论</h1><hr>
<h2 id="5-1图上搜索"><a href="#5-1图上搜索" class="headerlink" title="5.1图上搜索"></a>5.1图上搜索</h2><hr>
<h2 id="5-5-拓扑排序"><a href="#5-5-拓扑排序" class="headerlink" title="5.5____拓扑排序"></a><em>5.5</em>____拓扑排序</h2><hr>
<blockquote>
<p>定义</p>
</blockquote>
<p>若一个由图中所有点构成的序列A满足：对于图中的每条边（x，y），x在A中都出现在y之前，则称A是该图的一个拓扑序列</p>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2015.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2015.png"></p>
<ol>
<li><strong>只有有向图才有拓扑序列</strong></li>
<li><strong>图中存在环无法构成拓扑序列</strong></li>
<li><strong>可证明，有向无环图就可构成拓扑序列（有向无环图简称拓扑图）</strong></li>
<li>入度为零的点都可以为序列的起始点（所以第一步就是把所有入度为零的点入队）</li>
</ol>
<h2 id="5-6-Dijkstra"><a href="#5-6-Dijkstra" class="headerlink" title="5.6____Dijkstra"></a><em>5.6</em>____Dijkstra</h2><hr>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2016.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2016.png"></p>
<p>Dijkstra图中不能有负权边</p>
<p>每次都找最短的那个点（贪心的思想）</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">5e2</span> +<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">int</span> dist[maxn];<span class="comment">///记录最短距离</span></span><br><span class="line"><span class="keyword">int</span> g[maxn][maxn];<span class="comment">///邻接矩阵</span></span><br><span class="line"><span class="keyword">bool</span> st[maxn];<span class="comment">///是非以确定为最短边</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist,<span class="number">0x3f</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(dist));</span><br><span class="line"></span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;<span class="comment">///要进行n次迭代</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> t = <span class="number">-1</span>; <span class="comment">///储存当前访问的点</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j ++)</span><br><span class="line">        <span class="keyword">if</span>(!st[j] &amp;&amp; (t == <span class="number">-1</span> || dist[t] &gt; dist[j]) )&#123;</span><br><span class="line">            t = j;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        st[t] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)&#123;</span><br><span class="line">            dist[j] = <span class="built_in">min</span>(dist[j],dist[t] +g[t][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dist[n] == <span class="number">0x3f3f3f3f</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> dist[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt;m;</span><br><span class="line">    <span class="built_in">memset</span>(g,<span class="number">0x3f</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(g));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(m -- )&#123;</span><br><span class="line">            <span class="keyword">int</span> x, y ,z;</span><br><span class="line">            cin &gt;&gt; x &gt;&gt; y &gt;&gt;z;</span><br><span class="line">            g[x][y] = <span class="built_in">min</span>(g[x][y],z);<span class="comment">///有向图</span></span><br><span class="line">						<span class="comment">//g[y][x] = min( g[y][x],z );///无向图</span></span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">Dijkstra</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>堆优化</p>
<hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">150010</span>;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; pir;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> next,w,to;</span><br><span class="line">&#125;e[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> head[N],idx,dist[N],st[N],te1,te2,dis,n,m;</span><br><span class="line">priority_queue&lt;pir,vector&lt;pir&gt;,greater&lt;pir&gt;&gt; heap;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b, <span class="keyword">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[idx].w = d;</span><br><span class="line">    e[idx].next = head[a];</span><br><span class="line">    e[idx].to = b;</span><br><span class="line">    head[a] = idx ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist,<span class="number">0x3f3f3f3f</span>,<span class="keyword">sizeof</span> dist);</span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    heap.<span class="built_in">push</span>(&#123;<span class="number">0</span>,<span class="number">1</span>&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(heap.<span class="built_in">size</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> te = heap.<span class="built_in">top</span>();</span><br><span class="line">        heap.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> newp = te.second,tedis = te.first;</span><br><span class="line">        <span class="keyword">if</span>( st[newp] ) <span class="keyword">continue</span>;</span><br><span class="line">        st[newp] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">///更新与这个点相连的所有点的距离</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[newp] ; i != <span class="number">-1</span> ; i = e[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> j = e[i].to; <span class="comment">///这条边指向的点</span></span><br><span class="line">            <span class="keyword">if</span>( dist[j] &gt; tedis + e[i].w )&#123;</span><br><span class="line">                dist[j] = tedis + e[i].w;</span><br><span class="line">                heap.<span class="built_in">push</span>(&#123;dist[j],j&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>( dist[n] == <span class="number">0x3f3f3f3f</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> dist[n];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(head,<span class="number">-1</span>,<span class="keyword">sizeof</span> head);</span><br><span class="line"></span><br><span class="line">    cin &gt;&gt;n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i= <span class="number">0</span> ; i &lt; m ; i++)&#123;</span><br><span class="line">        cin &gt;&gt; te1 &gt;&gt; te2 &gt;&gt; dis;</span><br><span class="line">        <span class="built_in">add</span>(te1,te2,dis);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; <span class="built_in">Dijkstra</span>() &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>第k短路径</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/metaphysis/article/details/106230224?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522160546503219724836724504%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=160546503219724836724504&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_v2~rank_v28-1-106230224.pc_search_result_cache&utm_term=%E7%AC%AC%E4%BA%8C%E7%9F%AD%E8%B7%AF%E5%BE%84&spm=1018.2118.3001.4449">https://blog.csdn.net/metaphysis/article/details/106230224?ops_request_misc=%7B%22request%5Fid%22%3A%22160546503219724836724504%22%2C%22scm%22%3A%2220140713.130102334.pc%5Fall.%22%7D&amp;request_id=160546503219724836724504&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2<del>all</del>first_rank_v2~rank_v28-1-106230224.pc_search_result_cache&amp;utm_term=第二短路径&amp;spm=1018.2118.3001.4449</a></p>
<h2 id="5-7-spfa"><a href="#5-7-spfa" class="headerlink" title="5.7___spfa"></a><em>5.7</em>___spfa</h2><hr>
<p>Bellman-Ford的优化</p>
<p>处理不含负环的图，能判断是否图中存在负环</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; PII;<span class="comment">///存入堆的数据，编号</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100010</span>;</span><br><span class="line"><span class="keyword">int</span> n,m;      <span class="comment">// 点的数量</span></span><br><span class="line"><span class="keyword">int</span> h[N], w[N], e[N], ne[N], idx;       <span class="comment">// 邻接表存储所有边</span></span><br><span class="line"><span class="keyword">int</span> dist[N];        <span class="comment">// 存储所有点到1号点的距离</span></span><br><span class="line"><span class="keyword">int</span> cnt[N];</span><br><span class="line"><span class="keyword">bool</span> st[N];     <span class="comment">// 存储每个点的最短距离是否已确定</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 求1号点到n号点的最短距离，如果不存在，则返回-1</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">spfa</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(dist));    <span class="comment">//本题可以不做初始化</span></span><br><span class="line">    <span class="built_in">memset</span>(cnt,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(cnt));    </span><br><span class="line">    <span class="built_in">memset</span>(st,<span class="literal">false</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(st));</span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    queue&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(<span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n ; i++ )&#123;</span><br><span class="line">        q.<span class="built_in">push</span>(i);</span><br><span class="line">        st[i] = <span class="literal">true</span>;<span class="comment">///存已经在队列里的点 </span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        </span><br><span class="line">        st[t] = <span class="literal">false</span>;</span><br><span class="line">        cnt[t] = cnt[t] + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(cnt[t] &gt;= n) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = h[t] ; i != <span class="number">-1</span> ;i = ne[i])&#123;<span class="comment">///更新他的所有邻边</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span>(dist[j] &gt; dist[t] + w[i])&#123;</span><br><span class="line">                dist[j] = dist[t] + w[i];</span><br><span class="line">                </span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span>(!st[j])&#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(j);</span><br><span class="line">                    st[j] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b ,<span class="keyword">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">		e[idx] = b;</span><br><span class="line">		w[idx] = c;</span><br><span class="line">		ne[idx] = h[a];</span><br><span class="line">		h[a] = idx++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">	<span class="built_in">memset</span>(h,<span class="number">-1</span>,<span class="keyword">sizeof</span> h);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(m --)&#123;</span><br><span class="line">			<span class="keyword">int</span> a,b,c;</span><br><span class="line">			cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line">			<span class="built_in">add</span>(a,b,c);	</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">bool</span> t = <span class="built_in">spfa</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>( t )cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt;endl;</span><br><span class="line">	<span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-8-Bellman-ford"><a href="#5-8-Bellman-ford" class="headerlink" title="5.8____Bellman-ford"></a><em>5.8</em>____Bellman-ford</h2><hr>
<p>无负权回路 ——&gt; -∞</p>
<p>有遍数限制的最短路径，就用bellman，其他用spfa</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">510</span>,M =<span class="number">10010</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n ,m,k;<span class="comment">///最多只能走k条边</span></span><br><span class="line"><span class="keyword">int</span> dist[N],backup[N];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> a,b,w;</span><br><span class="line">&#125;edge[M];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bellman_ford</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist,<span class="number">0x3f</span>,<span class="keyword">sizeof</span> dist);</span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k ; i++)&#123;<span class="comment">///走k次</span></span><br><span class="line">        <span class="built_in">memcpy</span>(backup,dist,<span class="keyword">sizeof</span> dist);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j =  <span class="number">0</span>; j &lt; m ; j++)&#123;<span class="comment">///遍历边</span></span><br><span class="line">            <span class="keyword">int</span> a = edge[j].a;</span><br><span class="line">            <span class="keyword">int</span> b = edge[j].b;</span><br><span class="line">            <span class="keyword">int</span> w = edge[j].w;</span><br><span class="line"></span><br><span class="line">            dist[b] = <span class="built_in">min</span>(dist[b],backup[a] + w);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(dist[n] &gt; <span class="number">0x3f3f3f3f</span> / <span class="number">2</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> dist[n];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i ++)&#123;</span><br><span class="line">        <span class="keyword">int</span> a,b,w;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b &gt;&gt; w;</span><br><span class="line">        edge[i] = &#123;a,b,w&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> t = <span class="built_in">bellman_ford</span>();</span><br><span class="line">    <span class="keyword">if</span>(t == <span class="number">-1</span>) cout &lt;&lt; <span class="string">&quot;impossible&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; t &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<blockquote>
<p>Bellman-Ford  与 Dijkstra 的区别</p>
</blockquote>
<p>B算法中，是逐遍遍历，在源点联通这个点之前，是没办法更新的，当然可能因为更新了之后再一步的操作中会走很多步，所以需要back数组</p>
<p>D算法中，是按最近的点来找，先找到距离源点最近的点，然后再按照这个点来遍历其他边</p>
<hr>
<h2 id="5-9-Floyd"><a href="#5-9-Floyd" class="headerlink" title="5.9____Floyd"></a><em>5.9</em>____Floyd</h2><hr>
<p>dp思路做</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">210</span>, M = <span class="number">2e+10</span>, INF = <span class="number">1e9</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, k, x, y, z;</span><br><span class="line"><span class="keyword">int</span> d[N][N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">floyd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; k++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">                d[i][j] = <span class="built_in">min</span>(d[i][j], d[i][k] + d[k][j]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">            <span class="keyword">if</span>(i == j) d[i][j] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> d[i][j] = INF;</span><br><span class="line">    <span class="keyword">while</span>(m--) &#123;</span><br><span class="line">        cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;</span><br><span class="line">        d[x][y] = <span class="built_in">min</span>(d[x][y], z);</span><br><span class="line">        <span class="comment">//注意保存最小的边</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">floyd</span>();</span><br><span class="line">    <span class="keyword">while</span>(k--) &#123;</span><br><span class="line">        cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">        <span class="keyword">if</span>(d[x][y] &gt; INF/<span class="number">2</span>) <span class="built_in">puts</span>(<span class="string">&quot;impossible&quot;</span>);</span><br><span class="line">        <span class="comment">//由于有负权边存在所以约大过INF/2也很合理</span></span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; d[x][y] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>路径最长边最小化</p>
<p><code>dp[i][j] = min ( dp[i][j] , max(dp[i][k] , dp[k][j] ) );</code></p>
<h2 id="5-10-Prim"><a href="#5-10-Prim" class="headerlink" title="5.10____Prim"></a><em>5.10</em>____Prim</h2><hr>
<h2 id="5-11-Kruskal"><a href="#5-11-Kruskal" class="headerlink" title="5.11____Kruskal"></a><em>5.11</em>____Kruskal</h2><hr>
<h2 id="5-12-最小生成树"><a href="#5-12-最小生成树" class="headerlink" title="5.12____最小生成树"></a><em>5.12</em>____最小生成树</h2><hr>
<h2 id="5-13-负环"><a href="#5-13-负环" class="headerlink" title="5.13____负环"></a><em>5.13</em>____负环</h2><hr>
<h2 id="5-14-差分约束"><a href="#5-14-差分约束" class="headerlink" title="5.14____差分约束"></a><em>5.14</em>____差分约束</h2><hr>
<h2 id="5-15-有向图的强连通分量"><a href="#5-15-有向图的强连通分量" class="headerlink" title="5.15____有向图的强连通分量"></a><em>5.15</em>____有向图的强连通分量</h2><hr>
<h2 id="5-16-无向图的双连通分量"><a href="#5-16-无向图的双连通分量" class="headerlink" title="5.16____无向图的双连通分量"></a><em>5.16</em>____无向图的双连通分量</h2><hr>
<h2 id="5-17-二分图"><a href="#5-17-二分图" class="headerlink" title="5.17____二分图"></a><em>5.17</em>____二分图</h2><hr>
<h2 id="5-18-拓扑排序"><a href="#5-18-拓扑排序" class="headerlink" title="5.18____拓扑排序"></a><em>5.18</em>____拓扑排序</h2><hr>
<p>有向无环图，DAG必有拓扑序列</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">topsort</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> hh = <span class="number">0</span>, tt = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// d[i] 存储点i的入度</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">if</span> (!d[i])</span><br><span class="line">            q[ ++ tt] = i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (hh &lt;= tt)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> t = q[hh ++ ];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = h[t]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span> (-- d[j] == <span class="number">0</span>)</span><br><span class="line">                q[ ++ tt] = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果所有点都入队了，说明存在拓扑序列；否则不存在拓扑序列。</span></span><br><span class="line">    <span class="keyword">return</span> tt == n - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">作者：yxc</span><br><span class="line">链接：https:<span class="comment">//www.acwing.com/blog/content/405/</span></span><br><span class="line">来源：AcWing</span><br><span class="line">著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</span><br></pre></td></tr></table></figure>

<h1 id="6-数论"><a href="#6-数论" class="headerlink" title="6____数论"></a><em>6</em>____数论</h1><hr>
<blockquote>
<p>数论基础知识点</p>
</blockquote>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2017.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2017.png"></p>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2018.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2018.png"></p>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2019.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2019.png"></p>
<hr>
<ul>
<li><strong>对于一个合数，他最小的那个因子一定是个质数</strong></li>
</ul>
<h2 id="6-1-中国剩余定理"><a href="#6-1-中国剩余定理" class="headerlink" title="6.1____中国剩余定理"></a><em>6.1</em>____中国剩余定理</h2><hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ll <span class="title">exgcd</span><span class="params">(ll a, ll b, ll &amp;x, ll &amp;y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>)&#123;</span><br><span class="line">        x = <span class="number">1</span>;</span><br><span class="line">        y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    ll gcd = <span class="built_in">exgcd</span>(b, a % b, y, x);</span><br><span class="line">    y -= a / b * x;</span><br><span class="line">    <span class="keyword">return</span> gcd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">mod</span><span class="params">(ll a, ll b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a % b + b) % b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    ll a1, m1;</span><br><span class="line">    cin &gt;&gt; a1 &gt;&gt; m1;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">1</span>;</span><br><span class="line">    ll k1, k2;</span><br><span class="line">    <span class="keyword">while</span>(n -- )&#123;</span><br><span class="line">        ll a2, m2;</span><br><span class="line">        cin &gt;&gt; a2 &gt;&gt; m2;</span><br><span class="line">        ll d = <span class="built_in">exgcd</span>(a1, a2, k1, k2);</span><br><span class="line">        <span class="keyword">if</span>((m2 - m1) % d)&#123;</span><br><span class="line">            flag = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">            k1 = <span class="built_in">mod</span>(k1 * (m2 - m1) / d, a2 / d);</span><br><span class="line">            m1 = k1 * a1 + m1;</span><br><span class="line">            a1 = a1 / d * a2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">        cout &lt;&lt; m1 &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;-1&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-2-欧拉函数线性筛"><a href="#6-2-欧拉函数线性筛" class="headerlink" title="6.2____欧拉函数线性筛"></a><em>6.2</em>____欧拉函数线性筛</h2><hr>
<p>筛法求欧拉函数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> p[N], phi[N];<span class="comment">///存素数</span></span><br><span class="line"><span class="keyword">bool</span> st[N];</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ol</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= N; i ++ )&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(!st[i])&#123;</span><br><span class="line">            p[cnt ++] = i;</span><br><span class="line">            phi[i] = i - <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="function">WW</span></span><br><span class="line"><span class="function">        </span></span><br><span class="line"><span class="function">        <span class="title">for</span><span class="params">(<span class="keyword">int</span> j = <span class="number">0</span>; p[j] &lt;= N / i; j ++ )</span></span>&#123;</span><br><span class="line">            </span><br><span class="line">            st[p[j] * i] = <span class="literal">true</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(i % p[j] == <span class="number">0</span>)&#123;</span><br><span class="line">                phi[p[j] * i] = phi[i] * p[j];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            phi[p[j] * i] = phi[i] * (p[j] - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="built_in">ol</span>();</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i ++)&#123;</span><br><span class="line">        </span><br><span class="line">        ans += phi[i];</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="6-3-扩展欧几里得算法"><a href="#6-3-扩展欧几里得算法" class="headerlink" title="6.3____扩展欧几里得算法"></a><em>6.3</em>____扩展欧几里得算法</h2><hr>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ll <span class="title">exgcd</span><span class="params">(ll a, ll b, ll &amp;x, ll &amp;y)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>)&#123;</span><br><span class="line">        y = <span class="number">0</span>;</span><br><span class="line">        x = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    ll gcd = <span class="built_in">exgcd</span>(b, a % b, y, x);</span><br><span class="line">    y -= a / b * x;</span><br><span class="line">    <span class="keyword">return</span> gcd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t -- )&#123;</span><br><span class="line">        </span><br><span class="line">        ll a, b, x, y;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        <span class="built_in">exgcd</span>(a, b, x, y);</span><br><span class="line">        </span><br><span class="line">        cout &lt;&lt; x &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; y &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">topsort</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> hh = <span class="number">0</span>, tt = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// d[i] 存储点i的入度</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )</span><br><span class="line">        <span class="keyword">if</span> (!d[i])</span><br><span class="line">            q[ ++ tt] = i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (hh &lt;= tt)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> t = q[hh ++ ];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = h[t]; i != <span class="number">-1</span>; i = ne[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> j = e[i];</span><br><span class="line">            <span class="keyword">if</span> (-- d[j] == <span class="number">0</span>)</span><br><span class="line">                q[ ++ tt] = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果所有点都入队了，说明存在拓扑序列；否则不存在拓扑序列。</span></span><br><span class="line">    <span class="keyword">return</span> tt == n - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="6-4-分解质因数"><a href="#6-4-分解质因数" class="headerlink" title="6.4____分解质因数"></a>6.4____分解质因数</h2><hr>
<blockquote>
<p>试除法</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_prime</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span> ; i &lt;= n / i; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(n % i == <span class="number">0</span>  ) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">while</span>(n %i == <span class="number">0</span>)&#123;</span><br><span class="line">                n /= i ;</span><br><span class="line">                cnt ++;</span><br><span class="line">            &#125;</span><br><span class="line">			       <span class="comment">///输出质因数，以及出现的次数</span></span><br><span class="line">            cout &lt;&lt; i &lt;&lt;<span class="string">&quot; &quot;</span> &lt;&lt; cnt &lt;&lt; endl ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	    <span class="keyword">if</span>(n&gt;<span class="number">1</span>) cout&lt;&lt;n&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;<span class="number">1</span>&lt;&lt;endl;<span class="comment">///一定不要忘了最后还有个剩的可能漏了</span></span><br><span class="line">    cout &lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-5-求素数"><a href="#6-5-求素数" class="headerlink" title="6.5____求素数"></a><em>6.5</em>____求素数</h2><hr>
<blockquote>
<p>快速判断一个数是不是素数</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_p</span><span class="params">( <span class="keyword">int</span> num )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(num ==<span class="number">2</span>|| num==<span class="number">3</span> )   <span class="comment">//两个较小数另外处理</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> ;</span><br><span class="line">    <span class="keyword">if</span>( (num %<span class="number">6</span>!= <span class="number">1</span>&amp;&amp;num %<span class="number">6</span>!= <span class="number">5</span>) || num == <span class="number">1</span>)   <span class="comment">//不在6的倍数两侧的一定不是质数</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i= <span class="number">5</span>; i &lt;= num / i; i+=<span class="number">6</span> )   <span class="comment">//在6的倍数两侧的也可能不是质数</span></span><br><span class="line">        <span class="keyword">if</span>(num %i== <span class="number">0</span>||num %(i+ <span class="number">2</span>)==<span class="number">0</span>)  <span class="comment">//排除所有，剩余的是质数</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>朴素筛法-O(nlogn)</p>
</blockquote>
<p>st[N]判断是否为素数，prime储存筛出来的质数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> prime[N], cnt;<span class="comment">///下同</span></span><br><span class="line"><span class="keyword">bool</span> st[N];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_primes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!st[i]) prime[cnt++] = i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i+i; j &lt;= n; j += i) </span><br><span class="line">            st[j] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>埃氏筛法-O(nloglogn)</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_primes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!st[i])&#123; </span><br><span class="line">            prime[cnt++] = i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt;= n; j += i)</span><br><span class="line">                st[j] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>线性筛-O(n)</p>
</blockquote>
<p>算法核心：x仅会被其最小质因子筛去</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_prime</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= x; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!st[i]) prime[cnt++] = i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; prime[j] &lt;= x / i; j++) &#123;</span><br><span class="line">            </span><br><span class="line">            st[prime[j]*i] = <span class="literal">true</span>;<span class="comment">///只用最小质因子筛,等于true就不是素数</span></span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对于任意一个合数x，假设pj为x最小质因子，当i&lt;x/pj时，一定会被筛<br>            1.i%pj == 0, pj一定为i最小质因子，pj也定为pj<em>i最小质因子<br>            2.i%pj != 0, pj一定小于i的所有质因子，所以pj也为pj</em>i最小质因子</p>
<h2 id="6-6-求约数——通用试除法"><a href="#6-6-求约数——通用试除法" class="headerlink" title="6.6____求约数——通用试除法"></a><em>6.6</em>____求约数——通用试除法</h2><hr>
<p>约数的定义：<strong>整数a</strong> 除以 <strong>整数b(b≠0)</strong> 除得的 <strong>商</strong> 正好<strong>是整数</strong>而没有余数 <strong>a称为b的倍数，b称为a的 约数</strong></p>
<blockquote>
<p>试除法求一个数的约数( O(n*sqrt(a)) )</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 求这个n的所有约数，返回一个存有约数的vector  */</span></span><br><span class="line"><span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">get_divisors</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n / i; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(n % i == <span class="number">0</span>)&#123;</span><br><span class="line">            res.<span class="built_in">push_back</span>(i);</span><br><span class="line">            <span class="keyword">if</span>( n / i != i ) res.<span class="built_in">push_back</span>( n / i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(res.<span class="built_in">begin</span>(),res.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2020.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2020.png"></p>
<blockquote>
<p>求约数个数</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*  给定n个正整数ai，请你输出这些数的**乘积**的约数个数，答案对 1e9+7 取模。 */</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    unordered_map&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; prime;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">while</span>(n--)&#123;</span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        cin &gt;&gt; temp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= temp / i ; i++)&#123;</span><br><span class="line">            <span class="keyword">while</span>( temp % i == <span class="number">0</span> )&#123;</span><br><span class="line">                temp /= i;</span><br><span class="line">                prime[i]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(temp &gt; <span class="number">1</span>) prime[temp]++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> res = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> item : prime) res = res * ( item.second + <span class="number">1</span> ) % mod ;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>求约数和</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*  给定n个正整数ai，请你输出这些数的**乘积**的约数之和 , 答案对 1e9 + 7 取模 */</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n ;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    unordered_map&lt;<span class="keyword">int</span> ,<span class="keyword">int</span> &gt; prime;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(n --)&#123;</span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        cin &gt;&gt; temp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span> ;i &lt;= temp / i; i++ )</span><br><span class="line">            <span class="keyword">while</span>(temp % i == <span class="number">0</span>)&#123;</span><br><span class="line">                temp /= i;</span><br><span class="line">                prime[i] ++;</span><br><span class="line">            &#125;    </span><br><span class="line">        <span class="keyword">if</span>(temp &gt; <span class="number">1</span>) prime[temp] ++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> res  = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> item : prime)&#123;</span><br><span class="line">        <span class="keyword">int</span> p = item.first, a = item.second;<span class="comment">///first为这个约数，second为这个数出现的次数</span></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> t = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(a--)  t = ( t * p + <span class="number">1</span> ) % mod;</span><br><span class="line">        res = t * res % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对于  <code>while(a--)  t = ( t * p + 1 ) % mod;</code>  的解释</p>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2021.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2021.png"></p>
<h2 id="6-7-欧拉函数"><a href="#6-7-欧拉函数" class="headerlink" title="6.7____欧拉函数"></a><em>6.7</em>____欧拉函数</h2><hr>
<blockquote>
<p>定义与公式</p>
</blockquote>
<p>在1- n中与n互质的数的个数</p>
<p><img src="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2022.png" alt="Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0%2011e225234f9f4382825a35d69f9cb19f/Untitled%2022.png"></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 给定n个正整数ai，请你求出每个数的欧拉函数。 */</span></span><br><span class="line">     <span class="keyword">while</span>(n --)&#123;</span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        cin &gt;&gt; temp;</span><br><span class="line">        <span class="keyword">int</span> res = temp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= temp / i ; i++)</span><br><span class="line">            <span class="keyword">if</span>( temp % i == <span class="number">0</span> )&#123;</span><br><span class="line">                res = res / i * ( i - <span class="number">1</span> );</span><br><span class="line">                <span class="keyword">while</span>( temp % i == <span class="number">0</span> )    temp /= i;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(temp &gt; <span class="number">1</span>) res = res / temp * ( temp  - <span class="number">1</span>);</span><br><span class="line">        cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="7-搜索"><a href="#7-搜索" class="headerlink" title="7____搜索"></a><em>7</em>____搜索</h1><hr>
<h2 id="7-1-Flood-Fill算法"><a href="#7-1-Flood-Fill算法" class="headerlink" title="7.1____Flood Fill算法"></a><em>7.1</em>____Flood Fill算法</h2><hr>
<p>其实就是dfs，bfs遍历矩阵，我习惯用dfs的方法</p>
<blockquote>
<p>Acwing1106 <a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/1108/">山峰和山谷</a></p>
</blockquote>
<p><strong>题意：</strong></p>
<p>就是找山峰，山谷，对山峰的定义就是他周围的8连通数都比他小，山谷的定义就是他周围的8连通数都比大</p>
<p><strong>思路：</strong></p>
<p>直接弄先判周围的数是不是都小于（大于），等于他自己然后再进去扫等于的数</p>
<p><strong>写了半天结果<code>Memory Limit Exceeded</code> 看来DFS做这种题容易超内存啊，用于明白为什么都用BFS了！！！</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> x first</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> y second</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1010</span>;</span><br><span class="line"><span class="keyword">int</span> g[N][N];</span><br><span class="line"><span class="keyword">int</span> st[N][N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y ,<span class="keyword">bool</span> &amp;hi,<span class="keyword">bool</span> &amp;lo)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    queue&lt; pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>( &#123;x,y&#125; );</span><br><span class="line"></span><br><span class="line">    st[x][y] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> no = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">-1</span>; i &lt;=<span class="number">1</span> ; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">-1</span> ; j &lt;= <span class="number">1</span>; j ++)&#123;</span><br><span class="line">                <span class="keyword">int</span> tx = no.x + i;</span><br><span class="line">                <span class="keyword">int</span> ty = no.y + j;</span><br><span class="line">                <span class="keyword">if</span>( i == <span class="number">0</span> &amp;&amp; j == <span class="number">0</span> ) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>( tx &lt; <span class="number">0</span> || ty &lt; <span class="number">0</span> || tx &gt;= n || ty &gt;= n ) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>( g[no.x][no.y] != g[tx][ty] )</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>( g[no.x][no.y] &gt; g[tx][ty] ) lo = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">else</span> hi = <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>( !st[tx][ty] )</span><br><span class="line">                &#123;</span><br><span class="line">                    q.<span class="built_in">push</span>( &#123;tx,ty&#125; );</span><br><span class="line">                    st[tx][ty] = <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    cin &gt;&gt; n ;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i =  <span class="number">0</span> ; i &lt; n ; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j =<span class="number">0</span> ; j &lt; n ; j ++)</span><br><span class="line">            cin &gt;&gt; g[i][j];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> nhi = <span class="number">0</span>,nlo = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n ; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ;  j &lt; n ; j ++)</span><br><span class="line">            <span class="keyword">if</span>(!st[i][j] )</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">bool</span> hi = <span class="literal">true</span> , lo = <span class="literal">true</span>;</span><br><span class="line">                <span class="built_in">bfs</span>(i,j,hi,lo);</span><br><span class="line">                <span class="keyword">if</span>( hi ) nhi ++;</span><br><span class="line">                <span class="keyword">if</span>( lo ) nlo ++;</span><br><span class="line">            &#125;</span><br><span class="line">    cout &lt;&lt; nhi &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; nlo &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-2-最小步数模型"><a href="#7-2-最小步数模型" class="headerlink" title="7.2____最小步数模型"></a><em>7.2</em>____最小步数模型</h2><hr>
<blockquote>
<p>Acwing1107  <a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/1109/">魔板</a></p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/dianxi0949/article/details/101949484?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-3&spm=1001.2101.3001.4242">bfs + 哈希 + 康拓展开</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> fnum[] = &#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">24</span>, <span class="number">120</span>, <span class="number">720</span>, <span class="number">5040</span>, <span class="number">40320</span>, <span class="number">362880</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">40400</span>;     <span class="comment">///8位数最多只有40320种组合</span></span><br><span class="line"></span><br><span class="line">pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; pre[maxn];</span><br><span class="line"><span class="keyword">int</span> st[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span> <span class="keyword">int</span> a[<span class="number">8</span>]; <span class="keyword">int</span> root&#125;;   <span class="comment">///存路径</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    bfs</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>AcWing 845  <a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/847/">八数码</a></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## <span class="number">7.4</span>____双向搜索</span><br><span class="line"></span><br><span class="line">### 双向BFS</span><br><span class="line"></span><br><span class="line">&gt; *双向同时搜索*的基本思路是从状态图上的起点和终点同时开始进行 [广搜](https:<span class="comment">//oi-wiki.org/search/bfs/) 或 [深搜](https://oi-wiki.org/search/dfs/)。如果发现搜索的两端相遇了，那么可以认为是获得了可行解。</span></span><br><span class="line"></span><br><span class="line">&gt; [<span class="number">844.</span> 走迷宫 - AcWing题库](https:<span class="comment">//www.acwing.com/problem/content/description/846/)</span></span><br><span class="line"></span><br><span class="line">```c++</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">struct node</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y,cnt,type;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> st[<span class="number">50</span>][<span class="number">50</span>];</span><br><span class="line"><span class="keyword">int</span> dis[<span class="number">50</span>][<span class="number">50</span>];</span><br><span class="line"><span class="keyword">int</span> g[<span class="number">50</span>][<span class="number">50</span>];</span><br><span class="line"><span class="keyword">int</span> n,m,ans;</span><br><span class="line"><span class="keyword">int</span> dx[] = &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">1</span>&#125;,dy[] = &#123;<span class="number">-1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">bfs</span>()</span><br><span class="line">&#123;</span><br><span class="line">    queue&lt;node&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>&#125;);</span><br><span class="line">    q.<span class="built_in">push</span>(&#123;n<span class="number">-1</span>,m<span class="number">-1</span>,<span class="number">0</span>,<span class="number">2</span>&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">auto</span> no = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span>( st[no.x][no.y] != <span class="number">0</span> &amp;&amp; st[no.x][no.y] != no.type )&#123;</span><br><span class="line">                <span class="comment">//cout &lt;&lt; dis[no.x][no.y] &lt;&lt; &#x27;&amp;&#x27; &lt;&lt; no.cnt  &lt;&lt;endl;</span></span><br><span class="line">            <span class="keyword">return</span> dis[no.x][no.y] + no.cnt + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( st[no.x][no.y] != <span class="number">0</span> &amp;&amp; st[no.x][no.y] == no.type )&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            st[no.x][no.y] = no.type;</span><br><span class="line">            dis[no.x][no.y] = no.cnt;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">4</span> ; i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> tx = no.x + dx[i],ty = no.y + dy[i];</span><br><span class="line">            <span class="keyword">if</span>( tx &gt;= <span class="number">0</span> &amp;&amp; ty &gt;= <span class="number">0</span> &amp;&amp; tx &lt; n &amp;&amp; ty &lt; m &amp;&amp; st[tx][ty] != no.type &amp;&amp; g[tx][ty] != <span class="number">1</span>)&#123;</span><br><span class="line">                q.<span class="built_in">push</span>( &#123;tx,ty,no.cnt+<span class="number">1</span>,no.type&#125; );</span><br><span class="line">             &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">main</span>()</span><br><span class="line">&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ;i &lt; n ; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m ; j++)&#123;</span><br><span class="line">            cin &gt;&gt; g[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">bfs</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="7-4-启发式搜索"><a href="#7-4-启发式搜索" class="headerlink" title="7.4____启发式搜索"></a>7.4____启发式搜索</h2><blockquote>
<p><em>启发式搜索（英文：heuristic search）</em>是一种改进的搜索算法。它在普通搜索算法的基础上引入了启发式函数，该函数的作用是基于已有的信息对搜索的每一个分支选择都做估价，进而选择分支。<strong>简单来说，启发式搜索就是对取和不取都做分析，从中选取更优解或删去无效解。</strong></p>
</blockquote>
<h1 id="8-字符串"><a href="#8-字符串" class="headerlink" title="8____字符串"></a><em>8</em>____字符串</h1><hr>
<h2 id="8-0-与字符串相关的一些算法"><a href="#8-0-与字符串相关的一些算法" class="headerlink" title="8.0____与字符串相关的一些算法"></a><em>8.0</em>____与字符串相关的一些算法</h2><hr>
<h3 id="康拓展开（Cantor）"><a href="#康拓展开（Cantor）" class="headerlink" title="康拓展开（Cantor）"></a>康拓展开（Cantor）</h3><hr>
<p><strong>官方介绍：</strong></p>
<pre><code>康托展开是一个全排列到一个自然数的双射，常用于构建哈希表时的空间压缩。 康托展开的实质是计算当前排列在所有由小到大全排列中的顺序，因此是可逆的。
</code></pre>
<p><strong>例子：</strong></p>
<pre><code>对于5个数的全排列
</code></pre>
<p>$1 1 1 1 1$ —映射→ 1</p>
<p>$11112$ —映射→ 2</p>
<blockquote>
<p><strong>康拓展开</strong></p>
</blockquote>
<p>计算这个排列为全排列的第几位</p>
<hr>
<p> $X = a_n( n - 1 )! + a_{n-1}(n -2 )! +…+a_1*0! $ </p>
<p><strong>$a_i$的意思是从右向左的第 $i$  位， 在他的右边有几个比他小的数。</strong></p>
<p>注意：计算的时候 $12345$ 序列应视为第$0$个序列，后面会解释为什么。</p>
<p>拿$52413$举例子：</p>
<p><code>1、</code>首先看第一个数 $5$，不管第一位是什么数，后面都有四位数，那么这四位数全排列的方式有 4！种，而如果第一位是 $1$ 或 $2$ 或 $3$ 或 $4$ 都会比5开头的字典序要小，所以可以令$1，2，3，4$分别作为开头，这样的话就会有 $4 * 4！$种排法要比  $52413$ 这种排法的字典序要小。</p>
<p>那么第一个数是$1，2，3，4$时候的字典序的个数数完了是 $4 * 4！$ 种，且这些字典序都要比$52413$的字典序要小。</p>
<p>还有其他的排列方式比$52413$的字典序要小的吗？</p>
<p><code>2、</code>那么就可以固定第一位5，找下一位2，这时5已经用过了，所以从剩下的 1，2，3，4 里挑选比2小的数，一共1个，后面还剩三位，也就是3！种排列方式，那么这时候比 52413 字典序要小的又有  1 * 3！种，也就是当5在第一位，1在第二位的时候。</p>
<p><code>3、</code>再看第三位4，这时5，2都用了，所以从剩下的 1，3，4三个数中找比4小的数的个数，有两个比4小原理同上，所以这时候也可以有 $2 * 2!$ 种排列方式的字典序小于 52413</p>
<p><code>4、</code>再看第四位1，这时候会有 $0 * 1！$种</p>
<p><code>5、</code>再看第五位3，这时候会有$0 * 0！$种</p>
<p><code>综上所述：</code><br>对于序列： $52413$ 该序列展开后为： $4 * 4! + 1 * 3! + 2 * 2! + 0 * 1! + 0 * 0!$ ，计算结果是： 106 <br>由于是从0开始计数的，所以最后 52413 的编号为 107</p>
<p>为什么从0开始计数？<br>可以这样看：我现在让你求12345的康托展开值，也就是：$0<em>4！+ 0</em>3！+ 0<em>2！+ 0</em>1！+0*0！ =  0$</p>
<p><strong>前10阶乘( 0 - 9)</strong></p>
<p><strong>1, 1, 2, 6, 24, 120, 720, 5040, 40320, 362880</strong> </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*  康拓展开的代码 */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> facnum[<span class="number">20</span>]; <span class="comment">///存前20个数的阶乘“从0开始”</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">///求阶乘</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fac</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    facnum[<span class="number">0</span>] = facnum[<span class="number">1</span>]  = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>;  i &lt;= n ; i++) facnum[i] = facnum[i - <span class="number">1</span>] * i;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">///康拓展开</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Cantor</span><span class="params">(string str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> len = str.<span class="built_in">length</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; len ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j  = i + <span class="number">1</span>; j &lt; len ; j++)</span><br><span class="line">            <span class="keyword">if</span>(str[i] &gt; str[j]) cnt ++; <span class="comment">///计算在str[i]之后有几个比他小的数</span></span><br><span class="line"></span><br><span class="line">        ans += cnt * facnum[len - i  - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">fac</span>(<span class="number">10</span>);</span><br><span class="line">    string str;     <span class="comment">///全排列的字符串</span></span><br><span class="line">    str = <span class="string">&quot;52413&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">Cantor</span>(str) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>康拓逆展开</strong></p>
</blockquote>
<p><code>由上：</code>如果初始序列是12345（第一个），让你求第107个序列是什么。（按字典序递增）</p>
<hr>
<p>这样计算：</p>
<p>先把107<code>减1</code>，因为康托展开里的初始序列编号为0<br>然后<code>计算后缀积</code>：</p>
<p>  1      2      3    4    5<br>  5！  4！  3！ 2！1！ 0！<br>120   24     6    2    1     1</p>
<p>$106 /  4! = 4$    ····· 10 有4个比它小的所以因该是5   从（1，2，3，4，5）里选<br>$10   /  3!  = 1$   ······ 4  有1个比它小的所以因该是2   从（1， 2， 3， 4）里选<br> $4    /  2!  = 2$   ······ 0  有2个比它小的所以因该是4   从（1， 3， 4）里选<br> $0    /  1!  = 0$   ······ 0  有0个比它小的所以因该是1   从（1，3）里选<br> $0    /  0!  = 0$  ······ 0  有0个比它小的所以因该是3   从（3）里选</p>
<p>所以编号107的是 52413</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*  康拓逆展开的代码 */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> facnum[<span class="number">20</span>]; <span class="comment">///存前20个数的阶乘“从0开始”</span></span><br><span class="line">string str;     <span class="comment">///全排列的字符串</span></span><br><span class="line"><span class="keyword">int</span> n;          <span class="comment">///第几个</span></span><br><span class="line"><span class="keyword">int</span> num;        <span class="comment">///对应的最小阶乘数</span></span><br><span class="line">vector&lt;<span class="keyword">char</span>&gt; vec;</span><br><span class="line"></span><br><span class="line"><span class="comment">///求阶乘</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fac</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    facnum[<span class="number">0</span>] = facnum[<span class="number">1</span>]  = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>;  i &lt;= n ; i++) facnum[i] = facnum[i - <span class="number">1</span>] * i;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">///康拓逆展开</span></span><br><span class="line"><span class="function">string <span class="title">deCantor</span><span class="params">(<span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = vec.<span class="built_in">size</span>();</span><br><span class="line">    string ans = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    k --;  <span class="comment">///安12345为第0位开始计算;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= len ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> t = k / facnum[ len - i];</span><br><span class="line">        k %= facnum[len - i];</span><br><span class="line">        ans += vec[t];</span><br><span class="line">        vec.<span class="built_in">erase</span>(vec.<span class="built_in">begin</span>() + t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">fac</span>(<span class="number">10</span>);</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">    <span class="comment">///康托展开</span></span><br><span class="line">    <span class="comment">///* 如果给定了是几位数的全排列则不需要这一段,直接num = 位数就好</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i =  <span class="number">1</span>; i &lt;= <span class="number">10</span> ; i++)</span><br><span class="line">        <span class="keyword">if</span>( n / facnum[i] == <span class="number">0</span> )</span><br><span class="line">        &#123;</span><br><span class="line">            num = i;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">   <span class="comment">///*/</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= num ; i++)</span><br><span class="line">        vec.<span class="built_in">push_back</span>(i + <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="built_in">deCantor</span>(n) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-1-前缀函数与KMP-O-n-m"><a href="#8-1-前缀函数与KMP-O-n-m" class="headerlink" title="8.1____前缀函数与KMP(O(n + m))"></a><em>8.1</em>____前缀函数与<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/21923021/answer/1032665486">KMP</a>(O(n + m))</h2><h3 id="8-1-1-前缀函数"><a href="#8-1-1-前缀函数" class="headerlink" title="8.1.1____前缀函数"></a>8.1.1____前缀函数</h3><hr>
<p>给定一个长度为 $n$的字符串$s$ ，其 <strong>前缀函数</strong> 被定义为一个长度为 $n$ 的数组 $\pi$  :</p>
<blockquote>
<p>朴素计算前缀的方法 $O(N^3)$</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_next</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n ; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i ; j &gt;= <span class="number">0</span> ; j--)</span><br><span class="line">            <span class="keyword">if</span>( s.<span class="built_in">substr</span>(<span class="number">0</span>,j) == s.<span class="built_in">substr</span>(i-j+<span class="number">1</span>, j) )&#123;</span><br><span class="line">                ne[i] = j;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>优化j开始的位置，一次变化最多 +1  $O(N^2)$</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_next</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n ; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = ne[i - <span class="number">1</span>] + <span class="number">1</span> ; j &gt;= <span class="number">0</span> ; j--)</span><br><span class="line">            <span class="keyword">if</span>( s.<span class="built_in">substr</span>(<span class="number">0</span>,j) == s.<span class="built_in">substr</span>(i-j+<span class="number">1</span>, j) )&#123;</span><br><span class="line">                ne[i] = j;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="8-1-2-KMP算法"><a href="#8-1-2-KMP算法" class="headerlink" title="8.1.2____KMP算法"></a>8.1.2____KMP算法</h3><hr>
<blockquote>
<p>KMP暴力枚举做法</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n ; i++)&#123;</span><br><span class="line">	<span class="keyword">bool</span> flag = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m ; j++)&#123;	</span><br><span class="line">		<span class="keyword">if</span>( s[i] != p[j] )&#123;</span><br><span class="line">			flag = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>算法模板（从1开始）</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> p[maxn],s[maxm];   <span class="comment">///p为模板数组，s为原数组</span></span><br><span class="line"><span class="keyword">int</span> ne[maxn];           <span class="comment">///next数组 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,m;<span class="comment">///n为模板</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_next</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>, j = <span class="number">0</span>; i &lt;= n; i ++ )&#123;</span><br><span class="line">        <span class="keyword">while</span> (j &amp;&amp; p[i] != p[j + <span class="number">1</span>])   j = ne[j];</span><br><span class="line">        <span class="keyword">if</span> (p[i] == p[j + <span class="number">1</span>])   j ++ ;</span><br><span class="line">        ne[i] = j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">KMP</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>, j = <span class="number">0</span>; i &lt;= m; i ++ )&#123;</span><br><span class="line">        <span class="comment">/// while中： j是变为0了，在模板串中退无可退了，s[i] != p[j + 1]是匹配到不相同的位置了</span></span><br><span class="line">        <span class="keyword">while</span> (j &amp;&amp; s[i] != p[j + <span class="number">1</span>])   j = ne[j];</span><br><span class="line">        <span class="keyword">if</span> (s[i] == p[j + <span class="number">1</span>])   j ++ ;</span><br><span class="line">        <span class="keyword">if</span> (j == n)&#123;</span><br><span class="line">            <span class="comment">// 匹配成功后的逻辑</span></span><br><span class="line">			j = ne[j];<span class="comment">///注意！！！这里等于0，和等于ne[i] 匹配成功后回跳还是不回跳会对结果有影响</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// s[]是长文本，p[]是模式串，n是s的长度，m是p的长度</span></span><br><span class="line"><span class="comment">//求模式串的Next数组：</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; p + <span class="number">1</span> &gt;&gt; m &gt;&gt; s + <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">	<span class="built_in">get_next</span>();</span><br><span class="line">    <span class="built_in">KMP</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>算法模板（从0开始）</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_next</span><span class="params">(string p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = p.<span class="built_in">length</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">-1</span> ;</span><br><span class="line">    ne[<span class="number">0</span>] = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; len)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(~j &amp;&amp; p[i] != p[j])  j = ne[j];</span><br><span class="line">        <span class="keyword">else</span>    ne[++i] = ++j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">kmp</span><span class="params">(string p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">get_next</span>(p);</span><br><span class="line">    <span class="keyword">int</span> i =<span class="number">0</span>,j=<span class="number">0</span>,len = s.<span class="built_in">length</span>(),le = p.<span class="built_in">length</span>();;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(i &lt; len )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>( ~j &amp;&amp; s[i] != p[j] )    j = ne[j];</span><br><span class="line">        <span class="keyword">else</span>    i++,j++;</span><br><span class="line">        <span class="keyword">if</span>(j &gt;= le)&#123;</span><br><span class="line">            <span class="comment">///</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="8-1-3-next-数组在字符串周期性中的应用"><a href="#8-1-3-next-数组在字符串周期性中的应用" class="headerlink" title="8.1.3____next[]数组在字符串周期性中的应用"></a>8.1.3____next[]数组在字符串周期性中的应用</h3><hr>
<blockquote>
<p>对于字符串周期性的解释</p>
</blockquote>
<p>对字符串 $s$ 和 $ 0&lt; p \leq |s| $ , 若 $s[i]=s[i+p]$ 对所有$ i\epsilon [0,|s|-p-1]$ 成立，则称$p$是$s$的周期</p>
<h3 id="8-1-4-最长公共子串（小串，多集合）"><a href="#8-1-4-最长公共子串（小串，多集合）" class="headerlink" title="8.1.4____最长公共子串（小串，多集合）"></a>8.1.4____最长公共子串（小串，多集合）</h3><hr>
<p>如 <code>1 &lt; s.length() &lt; 200 &amp;&amp; 1&lt;n&lt;4000（下面的例题，应该是没有跑满，跑满会超时）  </code></p>
<blockquote>
<h2 id="Corporate-Identity"><a href="#Corporate-Identity" class="headerlink" title="Corporate Identity"></a>Corporate Identity</h2><p>[链接](<a target="_blank" rel="noopener" href="https://vjudge.net/problem/HDU-2328">Corporate Identity - HDU 2328 - Virtual Judge (vjudge.net)</a>) 取第一个的串所有的子串，求子串的所有ne数组，然后匹配所有其他的串</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> ne[<span class="number">210</span>];</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">4005</span>][<span class="number">300</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_next</span><span class="params">(string p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = p.<span class="built_in">length</span>(),i = <span class="number">0</span> , j = <span class="number">-1</span> ;</span><br><span class="line">    <span class="built_in">memset</span>(ne,<span class="number">0</span>,<span class="keyword">sizeof</span> ne);</span><br><span class="line">    ne[<span class="number">0</span>] = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; len )&#123;</span><br><span class="line">        <span class="keyword">if</span>( ~j &amp;&amp; p[i] != p[j] ) j = ne[j];</span><br><span class="line">        <span class="keyword">else</span> ne[++i] = ++j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(string p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">get_next</span>(p);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt; n ; k++)&#123;</span><br><span class="line">        <span class="keyword">int</span> le = p.<span class="built_in">length</span>(),i = <span class="number">0</span> , j = <span class="number">0</span> ,len = <span class="built_in">strlen</span>(s[k]);</span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; len)&#123;</span><br><span class="line">            <span class="keyword">if</span>( ~j &amp;&amp; s[k][i] != p[j]) j = ne[j];</span><br><span class="line">            <span class="keyword">else</span> i++ ,j ++;</span><br><span class="line">            <span class="keyword">if</span>( j &gt;= le)&#123;</span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!flag) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line">        <span class="keyword">if</span>( n == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">memset</span>(s,<span class="number">0</span>,<span class="keyword">sizeof</span> s);</span><br><span class="line">        string p;</span><br><span class="line">        cin &gt;&gt; p;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt; n; i++)&#123;</span><br><span class="line">            cin &gt;&gt; s[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> len = p.<span class="built_in">length</span>();</span><br><span class="line">        string ans = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; len ; i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span> ; j + i - <span class="number">1</span> &lt; len ; j++)&#123;</span><br><span class="line">                string te = p.<span class="built_in">substr</span>(i,j);</span><br><span class="line">                <span class="keyword">if</span>( <span class="built_in">check</span>(te) )&#123;</span><br><span class="line">                    <span class="keyword">if</span>(te.<span class="built_in">length</span>() &gt; ans.<span class="built_in">length</span>()) ans = te;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>( te.<span class="built_in">length</span>() == ans.<span class="built_in">length</span>() &amp;&amp; te &lt; ans)&#123;</span><br><span class="line">                        ans = te;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">if</span>(ans == <span class="string">&quot;&quot;</span>) cout &lt;&lt; <span class="string">&quot;IDENTITY LOST&quot;</span> &lt;&lt;endl;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt;ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="8-2-Z函数（扩展KMP）"><a href="#8-2-Z函数（扩展KMP）" class="headerlink" title="8.2____Z函数（扩展KMP）"></a>8.2____Z函数（扩展KMP）</h2><blockquote>
<p>Z函数的朴素算法$O(N^2)$</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_z</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n ; i++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(i + z[i] &lt;= n &amp;&amp; p[ z[i] + <span class="number">1</span> ] == p[ i + z[i] ]) </span><br><span class="line">            ++z[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P5410">模板题</a></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">2e7</span> +<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> q,ne[N],ex[N];      <span class="comment">/// ne为t与自己的后缀数组，ex为s与t的后缀数组</span></span><br><span class="line"><span class="keyword">int</span> slen,tlen;          <span class="comment">///匹配串与模板串长度</span></span><br><span class="line"><span class="keyword">char</span> s[N],t[N];         <span class="comment">///匹配串，模板串</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_next</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ne[<span class="number">0</span>] = tlen;   <span class="comment">///ne[0]一定是T的长度</span></span><br><span class="line">    <span class="keyword">int</span> now = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(t[now] == t[<span class="number">1</span> + now] &amp;&amp; now + <span class="number">1</span> &lt; tlen) now++;<span class="comment">///从1开始暴力枚举第一位</span></span><br><span class="line">    ne[<span class="number">1</span>] = now;</span><br><span class="line">    <span class="keyword">int</span> p0 = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>;  i &lt; tlen ; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>( i + ne[i - p0] &lt; ne[p0] + p0 ) ne[i] = ne[i - p0]; <span class="comment">/// k + l &lt; p</span></span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">int</span> now = ne[p0] + p0 - i;</span><br><span class="line">            now = <span class="built_in">max</span>(now, <span class="number">0</span>);  <span class="comment">///防止i &gt; p 的情况</span></span><br><span class="line">            <span class="keyword">while</span>( t[now] == t[i + now] &amp;&amp; i + now &lt; tlen ) now++;</span><br><span class="line">            ne[i] = now;</span><br><span class="line">            p0 = i ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exkmp</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">get_next</span>();</span><br><span class="line">    <span class="keyword">int</span> now = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>( s[now] == t[now] &amp;&amp; now &lt; <span class="built_in">min</span>(slen ,tlen)  ) now++;</span><br><span class="line">    ex[<span class="number">0</span>] = now;</span><br><span class="line">    <span class="keyword">int</span> p0= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; slen ; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>( i + ne[i - p0] &lt; ex[p0] + p0 ) ex[i] = ne[i - p0];</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">int</span> now = ex[p0] + p0 - i;</span><br><span class="line">            now = <span class="built_in">max</span>(now, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">while</span>(t[now] == s[i + now] &amp;&amp; now &lt; tlen &amp;&amp; now + i &lt; slen) now++;</span><br><span class="line">            ex[i] = now;</span><br><span class="line">            p0= i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="8-3-哈希表"><a href="#8-3-哈希表" class="headerlink" title="8.3____哈希表"></a><em>8.3</em>____哈希表</h2><h3 id="8-3-1-字符串前缀哈希法"><a href="#8-3-1-字符串前缀哈希法" class="headerlink" title="8.3.1____字符串前缀哈希法"></a><em>8.3.1</em>____字符串前缀哈希法</h3><hr>
<blockquote>
<p>概念</p>
</blockquote>
<p>str =  <code>&quot; ABCACB&quot;</code></p>
<p>h[0] = <code>0</code> <em>的哈希值</em></p>
<p>h[1] = <code>&quot; A&quot;</code> <em>的哈希值</em></p>
<p>h[2] = <code>&quot; AB&quot;</code> <em>的哈希值</em></p>
<p>h[3] = <code>&quot; ABC&quot;</code> <em>的哈希值</em></p>
<p>——&gt; <strong>Hash[] 哈希数组就为str的前缀哈希值</strong> </p>
<hr>
<p>把A，B，C，D看成 <code>p 进制数</code> </p>
<p><code>哈希映射表：</code> A  B  C  D </p>
<pre><code>                   1   2  3  4
</code></pre>
<p>→ <code>“ABCD”</code> = （ 1 * p^3 + 2 * p^2 + 3 * p^1 + 4 * p ^0 ) mod Q</p>
<hr>
<p>一般来说：</p>
<p>p  =  131 或 13331 </p>
<p>Q = 2^64</p>
<p>冲突的值最小</p>
<hr>
<p><strong>那么如何计算str中 [l,r]区间的哈希值呢</strong></p>
<p>p^i 次方是以逆序方式递减的</p>
<p>求[l,r]的公式为：</p>
<p><code>hash = ( ( hash[r] − hash[l−1] ∗ p^r − l + 1 ) % MOD + MOD ) % MOD</code></p>
<blockquote>
<p>算法思路</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100010</span>, M = <span class="number">131</span>;</span><br><span class="line"> </span><br><span class="line">ull p[N],h[N]; <span class="comment">///p用来存M的次方 </span></span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">char</span> str[N];</span><br><span class="line"></span><br><span class="line"><span class="function">ull <span class="title">get</span><span class="params">(<span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> h[r] - h[l - <span class="number">1</span>] * p[ r - l ];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    cin &gt;&gt; str;</span><br><span class="line">	</span><br><span class="line">		p[<span class="number">0</span>] = <span class="number">131</span>;</span><br><span class="line">		h[<span class="number">0</span>] = str[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n ; i++)&#123;</span><br><span class="line">        h[i] = h[i - <span class="number">1</span>] * M + str[i];</span><br><span class="line">        p[i] = p[i - <span class="number">1</span>] * M;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(m --)&#123;</span><br><span class="line">		<span class="keyword">int</span> l,r,x,y;</span><br><span class="line">		cin &gt;&gt; l &gt;&gt; r &gt;&gt; x &gt;&gt; y;</span><br><span class="line">		<span class="keyword">if</span>( <span class="built_in">get</span>(l<span class="number">-1</span>,r<span class="number">-1</span>) == <span class="built_in">get</span>(x<span class="number">-1</span>,y<span class="number">-1</span>) )&#123;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt;endl;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl; </span><br><span class="line">	&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-4-AC自动机"><a href="#8-4-AC自动机" class="headerlink" title="8.4____AC自动机"></a>8.4____AC自动机</h2><hr>
<h2 id="8-5-Tire字典树"><a href="#8-5-Tire字典树" class="headerlink" title="8.5____Tire字典树"></a>8.5____Tire字典树</h2><hr>
<blockquote>
<p>高效的存储和查找字符串的数据结构</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">		<span class="keyword">int</span> son[N][<span class="number">26</span>], cnt[N], idx;</span><br><span class="line"><span class="comment">// 0号点既是根节点，又是空节点</span></span><br><span class="line"><span class="comment">// son[][]存储树中每个节点的子节点</span></span><br><span class="line"><span class="comment">// cnt[]存储以每个节点结尾的单词数量</span></span><br><span class="line"><span class="comment">// idx当前用到那个下标</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 插入一个字符串</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">char</span> *str)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">				<span class="comment">///p相当于一个指针，下同</span></span><br><span class="line">        <span class="keyword">int</span> p = <span class="number">0</span>;    <span class="comment">/// 重根节点开始插入</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; str[i]; i ++ )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> u = str[i] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span> (!son[p][u])    <span class="comment">///不存在儿子节点则创建出来 </span></span><br><span class="line">                son[p][u] = ++ idx;</span><br><span class="line">            p = son[p][u];     <span class="comment">///如果存在就直接走到子节点，如果不存在的添加</span></span><br><span class="line">        &#125;</span><br><span class="line">        cnt[p] ++ ;    <span class="comment">///表示以这个节点结尾的单词数量多了一个 </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 查询字符串出现的次数</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">char</span> *str)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> p = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; str[i]; i ++ )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> u = str[i] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span> (!son[p][u])</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            p = son[p][u];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt[p];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h2 id="8-6-Manacher-回文-（O-N-）"><a href="#8-6-Manacher-回文-（O-N-）" class="headerlink" title="8.6____Manacher(回文)（O(N)）"></a>8.6____Manacher(回文)（O(N)）</h2><blockquote>
<p>分别计算奇偶</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">string s;</span><br><span class="line"><span class="keyword">int</span> d1[<span class="number">10000010</span>];	<span class="comment">///当前位置回文长度为奇数的回文串个数</span></span><br><span class="line"><span class="keyword">int</span> d2[<span class="number">10000010</span>];	<span class="comment">///当前位置回文长度为偶数的回文串个数</span></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_d1</span><span class="params">()</span>		<span class="comment">///得到长度为奇数的回文串</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>, l = <span class="number">0</span> , r = <span class="number">-1</span>; i &lt; n ; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> k = (i &gt; r)?<span class="number">1</span>:<span class="built_in">min</span>( d1[l+r-i],r-i );	<span class="comment">///在当前最长回文长度之内</span></span><br><span class="line">        <span class="keyword">while</span>( <span class="number">0</span> &lt;= i-k &amp;&amp; i + k &lt; n &amp;&amp; s[i-k] == s[i +k] ) k++;<span class="comment">///之外就暴力匹配</span></span><br><span class="line"></span><br><span class="line">        d1[i] = k--;</span><br><span class="line">        <span class="keyword">if</span>( i + k &gt; r )&#123;	<span class="comment">///更新最远的回文串位置</span></span><br><span class="line">            l = i-k;</span><br><span class="line">            r = i+k;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_d2</span><span class="params">()</span>	<span class="comment">///得到长度为偶数的回文串</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>, l = <span class="number">0</span> , r = <span class="number">-1</span>; i &lt; n ; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> k = (i &gt; r)?<span class="number">0</span>:<span class="built_in">min</span>( d2[l+r-i + <span class="number">1</span>],r-i+<span class="number">1</span> );</span><br><span class="line">        <span class="keyword">while</span>( <span class="number">0</span> &lt;= i-k<span class="number">-1</span> &amp;&amp; i + k &lt; n &amp;&amp; s[i-k<span class="number">-1</span>] == s[i +k] ) k++;</span><br><span class="line"></span><br><span class="line">        d2[i] = k--;</span><br><span class="line">        <span class="keyword">if</span>( i + k &gt; r )&#123;</span><br><span class="line">            l = i-k<span class="number">-1</span>;</span><br><span class="line">            r = i+k;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">	cout &lt;&lt; d1[i]*<span class="number">2</span><span class="number">-1</span>&lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; d2[i]*<span class="number">2</span> &lt;&lt;endl; </span><br></pre></td></tr></table></figure>



<blockquote>
<p>预处理版本</p>
<p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/141/">139. 回文子串的最大长度 - AcWing题库</a></p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> len [<span class="number">2000010</span>];</span><br><span class="line"><span class="keyword">char</span> str[<span class="number">2000010</span>];</span><br><span class="line">string s;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n ,mx,id;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(str,<span class="number">0</span>,<span class="keyword">sizeof</span> str);</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;      <span class="comment">///当前处理那个位置</span></span><br><span class="line">    str[k++] = <span class="string">&#x27;$&#x27;</span>; <span class="comment">///首位初始化</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">        str[k++] = <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">        str[k++] = s[i];</span><br><span class="line">    &#125;</span><br><span class="line">    str[k++]= <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    n = k;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">manacher</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(len,<span class="number">0</span>,<span class="keyword">sizeof</span> len);</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;    <span class="comment">///记录最长的回文串长度</span></span><br><span class="line">    mx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i  &lt; n ; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i &lt; mx) len[i] = <span class="built_in">min</span>( mx -i ,len[<span class="number">2</span>*id - i] );</span><br><span class="line">        <span class="keyword">else</span> len[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">///暴力匹配</span></span><br><span class="line">        <span class="keyword">while</span>( str[i - len[i]] == str[i + len[i]] ) len[i] ++;</span><br><span class="line">        <span class="keyword">if</span>( len[i] + i &gt; mx )&#123;</span><br><span class="line">            mx = len[i] + i;</span><br><span class="line">            id = i;</span><br><span class="line">            sum = <span class="built_in">max</span>( sum ,len[i] );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum<span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> t = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">        cin &gt;&gt; s;</span><br><span class="line">        n = s.<span class="built_in">length</span>();</span><br><span class="line">        <span class="keyword">if</span>( s == <span class="string">&quot;END&quot;</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">init</span>();</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="built_in">manacher</span>();</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Case &quot;</span>&lt;&lt; t &lt;&lt; <span class="string">&quot;: &quot;</span> &lt;&lt; ans &lt;&lt;endl;</span><br><span class="line">        t++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h1 id="9-计算几何"><a href="#9-计算几何" class="headerlink" title="9____计算几何"></a>9____计算几何</h1><hr>
<h2 id="9-1-数学基础"><a href="#9-1-数学基础" class="headerlink" title="9.1____数学基础"></a>9.1____数学基础</h2><hr>
<blockquote>
<p>正弦公式</p>
</blockquote>
<p> $\frac{a}{sin(a)} = \frac{b}{sin(b)} = \frac{c}{sin(c)} = 2R$</p>
<p>其中，$R$ 为 $\Delta ABC$ 的外接圆</p>
<blockquote>
<p>余弦公式</p>
</blockquote>
<p>$a^2 = b^2 + c^2 - 2bc* cos(A)$<br>$b^2 = a^2 + c ^2 - 2ac<em>cos(B)$<br>$c^2 = a^2 + b^2 - 2ab</em>cos(C)$</p>
<blockquote>
<p>海伦公式</p>
</blockquote>
<p>$ p = \frac{a+b+c}{2} $</p>
<p>$S = \sqrt{p(p-a)(p-b)(p-c)}$</p>
<h2 id="9-2-板子"><a href="#9-2-板子" class="headerlink" title="9.2____板子"></a>9.2____板子</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-8</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> pi = <span class="built_in">acos</span>( <span class="number">-1.0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">///Compares a double to zero</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sgn</span><span class="params">(<span class="keyword">double</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( <span class="built_in">fabs</span>(x) &lt; eps ) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>( x &lt; <span class="number">0</span> ) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">///square of a double</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">double</span> <span class="title">sqr</span><span class="params">(<span class="keyword">double</span> x)</span> </span>&#123; <span class="keyword">return</span> x * x; &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">double</span> x,y;</span><br><span class="line">    <span class="built_in">Point</span>()&#123;&#125;               <span class="comment">///no arguments constructor</span></span><br><span class="line">    <span class="built_in">Point</span>(<span class="keyword">double</span> _x,<span class="keyword">double</span> _y) &#123;</span><br><span class="line">        x = _x , y = _y;    <span class="comment">///arguments constructor</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*void input()&#123;</span></span><br><span class="line"><span class="comment">        scanf(&quot;%lf%lf&quot;,&amp;x,&amp;y);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    void output()&#123;</span></span><br><span class="line"><span class="comment">        printf(&quot;%.2f %.2f\n&quot;,x,y);</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> == (Point b) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sgn</span>(x - b.x) == <span class="number">0</span> &amp;&amp; <span class="built_in">sgn</span>(y - b.y) == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (Point b) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sgn</span>(x - b.x) == <span class="number">0</span>? <span class="built_in">sgn</span>(y - b.y) &lt; <span class="number">0</span> : x &lt; b.x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///数量积</span></span><br><span class="line">    Point <span class="keyword">operator</span> - (<span class="keyword">const</span> Point &amp;b) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Point</span>(x - b.x , y - b.y);</span><br><span class="line">    &#125;</span><br><span class="line">    Point <span class="keyword">operator</span> + (<span class="keyword">const</span> Point &amp;b) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Point</span>(x + b.x , y + b.y);</span><br><span class="line">    &#125;</span><br><span class="line">    Point <span class="keyword">operator</span> * (<span class="keyword">const</span> <span class="keyword">double</span> &amp;k) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Point</span>(x * k , y * k );</span><br><span class="line">    &#125;</span><br><span class="line">    Point <span class="keyword">operator</span> / (<span class="keyword">const</span> <span class="keyword">double</span> &amp;k) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Point</span>(x / k , y / k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///叉积</span></span><br><span class="line">    <span class="keyword">double</span> <span class="keyword">operator</span> ^ (<span class="keyword">const</span> Point &amp;b) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x * b.y - y * b.x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///点积</span></span><br><span class="line">    <span class="keyword">double</span> <span class="keyword">operator</span> * (<span class="keyword">const</span> Point &amp;b) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x * b.x + y * b.y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///线段的长度</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">len</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">hypot</span>(x,y);  <span class="comment">///&lt;cmath&gt;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///长度的平方</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">len2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x * x + y * y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///返回两点的距离</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">distance</span><span class="params">(Point p)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">hypot</span>( x - p.x , y - p.y );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///计算 pa 和 pb 的夹角</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">rad</span><span class="params">(Point a,Point b)</span></span>&#123;</span><br><span class="line">        Point p = *<span class="keyword">this</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">fabs</span>( <span class="built_in">atan2</span>( <span class="built_in">fabs</span>( (a-p)^(b-p) )  , (a-p)*(b-p) ) );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///化为长度为r的向量</span></span><br><span class="line">    <span class="function">Point <span class="title">trunc</span><span class="params">(<span class="keyword">double</span> r)</span></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> l = <span class="built_in">len</span>();</span><br><span class="line">        <span class="keyword">if</span>( !<span class="built_in">sgn</span>(l) ) <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">        r /= l;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Point</span>(-y,x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///逆时针旋转90度</span></span><br><span class="line">    <span class="function">Point <span class="title">rotleft</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Point</span>(y,-x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///顺时针旋转90度</span></span><br><span class="line">    <span class="function">Point <span class="title">rotright</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Point</span>(y,-x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///绕着p点逆时针</span></span><br><span class="line">    <span class="function">Point <span class="title">rotata</span><span class="params">(Point p,<span class="keyword">double</span> angle)</span></span>&#123;</span><br><span class="line">        Point v = (*<span class="keyword">this</span>) - p;</span><br><span class="line">        <span class="keyword">double</span> c = <span class="built_in">cos</span>(angle) , s = <span class="built_in">sin</span>(angle);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Point</span>(p.x + v.x * c - v.y * s , p.y + v.x *s + v.y * c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Line</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    Point s,e;</span><br><span class="line">    <span class="built_in">Line</span>()&#123;&#125;</span><br><span class="line">    <span class="built_in">Line</span>( Point _s, Point _e )&#123; s =_s ; e=_e; &#125;</span><br><span class="line">    <span class="comment">///由斜倾角angle与任意直线一点确定直线 y = kx + b;</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">input</span><span class="params">( Point _s, Point _e )</span></span>&#123; s =_s ; e=_e; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Line</span>(Point p,<span class="keyword">double</span> angle)&#123;</span><br><span class="line">        s = p;</span><br><span class="line">        <span class="keyword">if</span>( <span class="built_in">sgn</span>(angle - pi/<span class="number">2</span>) == <span class="number">0</span> )    e = (s + <span class="built_in">Point</span>(<span class="number">0</span>,<span class="number">1</span>));</span><br><span class="line">        <span class="keyword">else</span> e = (s + <span class="built_in">Point</span>(<span class="number">1</span>,<span class="built_in">tan</span>(angle)));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///ax + by + c = 0;</span></span><br><span class="line">    <span class="built_in">Line</span>(<span class="keyword">double</span> a,<span class="keyword">double</span> b,<span class="keyword">double</span> c)&#123;</span><br><span class="line">        <span class="keyword">if</span>( <span class="built_in">sgn</span>(a) == <span class="number">0</span> )</span><br><span class="line">        &#123;</span><br><span class="line">            s = <span class="built_in">Point</span>(<span class="number">0</span>,-c/b);</span><br><span class="line">            e = <span class="built_in">Point</span>(<span class="number">1</span>,-c/b);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">sgn</span>(b) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            s = <span class="built_in">Point</span>(-c/a,<span class="number">0</span>);</span><br><span class="line">            e = <span class="built_in">Point</span>(-c/a,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            s = <span class="built_in">Point</span>(<span class="number">0</span>,-c/b);</span><br><span class="line">            e = <span class="built_in">Point</span>(<span class="number">1</span>,(-c-a)/b);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">length</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> s.<span class="built_in">distance</span>(e);&#125;</span><br><span class="line">    <span class="comment">///直线与线段相交判断</span></span><br><span class="line">    <span class="comment">///-*this line -v seg</span></span><br><span class="line">    <span class="comment">///2规范相交，1非规范相交,0不相交</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">linecrossseg</span><span class="params">(Line v)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sgn</span>( (v.s - e) ^ (s - e) ) * <span class="built_in">sgn</span>(( v.e-e ) ^ (s -e) ) &lt;= <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">		<span class="comment">///点与直线关系</span></span><br><span class="line">    <span class="comment">///1在左侧</span></span><br><span class="line">    <span class="comment">///2在右侧</span></span><br><span class="line">    <span class="comment">///3在直线</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">relation</span><span class="params">(Point p)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> c = <span class="built_in">sgn</span>( (p-s) ^ (e -s) );</span><br><span class="line">        <span class="keyword">if</span>(c &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c &gt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///点在线段上的判断</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">point_on_seg</span><span class="params">(Point p)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sgn</span>((p-s)^(e-s) ) == <span class="number">0</span> &amp;&amp; <span class="built_in">sgn</span>( (p-s)*(p-e) ) &lt;= <span class="number">0</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///两向量平行(对应直线平行或重合)</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">parallel</span><span class="params">(Line v)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sgn</span>( (e-s)^( v.e - v.s ) ) == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///两直线关系 0-平行，1-重合，2-相交</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">linecrossline</span><span class="params">(Line v)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>( (*<span class="keyword">this</span>).<span class="built_in">parallel</span>(v) )</span><br><span class="line">            <span class="keyword">return</span> v.<span class="built_in">relation</span>(s) == <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///得到交点，需先判断直线是否相交</span></span><br><span class="line">    <span class="function">Point <span class="title">crosspoint</span><span class="params">(Line v)</span></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> a1 = ( v.e - v.s ) ^ ( s - v.s );</span><br><span class="line">        <span class="keyword">double</span> a2 = ( v.e - v.s ) ^ ( e - v.s );</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Point</span>( (s.x * a2 - e.x * a1)/(a2 - a1) , (s.y *a2 - e.y *a1)/(a2 - a1));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///点到线段的距离</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">dispointtoseg</span><span class="params">(Point p)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>( <span class="built_in">sgn</span>( (p - s)*(e - s) &lt; <span class="number">0</span> ) || <span class="built_in">sgn</span>( (p-e)*(s-e) ) &lt; <span class="number">0</span> )</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">min</span>( p.<span class="built_in">distance</span>(s),p.<span class="built_in">distance</span>(e) );</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">dispointtoline</span>(p);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/// 点到直线的距离</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">dispointtoline</span><span class="params">(Point p)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">fabs</span>( (p-s)^(e-s) ) / <span class="built_in">length</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// 返回点p在直线上的投影</span></span><br><span class="line">    <span class="function">Point <span class="title">lineprog</span><span class="params">(Point p)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> s + ( ( (e-s)*((e-s)*(p-s)) ) / ( (e-s).<span class="built_in">len2</span>() ) );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///两线段相交判断</span></span><br><span class="line">    <span class="comment">///2 规范相交</span></span><br><span class="line">    <span class="comment">///1 非规范相交</span></span><br><span class="line">    <span class="comment">///0 不想交</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">segcrossseg</span><span class="params">(Line v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> d1 = <span class="built_in">sgn</span>((e - s) ^ (v.s - s));</span><br><span class="line">        <span class="keyword">int</span> d2 = <span class="built_in">sgn</span>((e - s) ^ (v.e - s));</span><br><span class="line">        <span class="keyword">int</span> d3 = <span class="built_in">sgn</span>((v.e - v.s) ^ (s - v.s));</span><br><span class="line">        <span class="keyword">int</span> d4 = <span class="built_in">sgn</span>((v.e - v.s) ^ (e - v.s));</span><br><span class="line">        <span class="keyword">if</span> ((d1 ^ d2) == <span class="number">-2</span> &amp;&amp; (d3 ^ d4) == <span class="number">-2</span>)<span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">return</span> (d1 == <span class="number">0</span> &amp;&amp; <span class="built_in">sgn</span>((v.s - s) * (v.s - e)) &lt;= <span class="number">0</span>) ||</span><br><span class="line">            (d2 == <span class="number">0</span> &amp;&amp; <span class="built_in">sgn</span>((v.e - s) * (v.e - e)) &lt;= <span class="number">0</span>) ||</span><br><span class="line">            (d3 == <span class="number">0</span> &amp;&amp; <span class="built_in">sgn</span>((s - v.s) * (s - v.e)) &lt;= <span class="number">0</span>) ||</span><br><span class="line">            (d4 == <span class="number">0</span> &amp;&amp; <span class="built_in">sgn</span>((e - v.s) * (e - v.e)) &lt;= <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">triangle</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    Point A,B,C;</span><br><span class="line">    Line a,b,c;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">triangle</span>()&#123;&#125;</span><br><span class="line">    <span class="built_in">triangle</span>(Point _A,Point _B,Point _C)&#123; A = _A ; B = _B ; C = _C;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">///求重心</span></span><br><span class="line">    <span class="function">Point <span class="title">incenter</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Point</span>( ( A.x + B.x + C.x ) / <span class="number">3</span>, ( A.y + B.y + C.y ) / <span class="number">3</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">///已知三点求圆心与半径模板</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cal</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> c)</span><span class="comment">//求外心 ，外心为三角形三边的垂直平分线交点，</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> a1 = p[b].x - p[a].x, b1 = p[b].y - p[a].y, c1 = (a1*a1 + b1*b1)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">double</span> a2 = p[c].x - p[a].x, b2 = p[c].y - p[a].y, c2 = (a2*a2 + b2*b2)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">double</span> d = a1 * b2 - a2 * b1;</span><br><span class="line">    x = p[a].x + (c1*b2 - c2*b1)/d,y = p[a].y + (a1*c2 - a2*c1)/d;</span><br><span class="line">    r  = <span class="built_in">dis2</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">circle</span>&#123;</span></span><br><span class="line">    Point p;    <span class="comment">///圆心</span></span><br><span class="line">    <span class="keyword">double</span> r;   <span class="comment">///半径</span></span><br><span class="line">    <span class="built_in">circle</span>()&#123;&#125;</span><br><span class="line">    <span class="built_in">circle</span>( Point _p,<span class="keyword">double</span> _r ) &#123; p = _p ; r = _r; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> == (circle v)&#123;</span><br><span class="line">        <span class="built_in"><span class="keyword">return</span></span> (p == v.p) &amp;&amp; <span class="built_in">sgn</span>(r - v.r) == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (circle v) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ( (p&lt;v.p) || (p == v.p) &amp;&amp; <span class="built_in">sgn</span>( r - v.r ) &lt; <span class="number">0</span> );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">area</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pi*r*r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">circumference</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>*pi*r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// 点与圆的关系</span></span><br><span class="line">    <span class="comment">///0    在圆外</span></span><br><span class="line">    <span class="comment">///1    在圆上</span></span><br><span class="line">    <span class="comment">///2    在圆内</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">relation</span><span class="params">(Point b)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> dst = b.<span class="built_in">distance</span>(p);</span><br><span class="line">        <span class="keyword">if</span>( <span class="built_in">sgn</span>(dst - r) &lt; <span class="number">0</span> )  <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( <span class="built_in">sgn</span>(dst-r) == <span class="number">0</span> )  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///线段与园的关系</span></span><br><span class="line">    <span class="comment">///比较的是圆心到线段的距离和半径的的关系</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">relationseg</span><span class="params">(Line v)</span></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> dst = v.<span class="built_in">dispointtoseg</span>(p);</span><br><span class="line">        <span class="keyword">if</span>( <span class="built_in">sgn</span>(dst - r) &lt; <span class="number">0</span> )  <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( <span class="built_in">sgn</span>(dst - r) == <span class="number">0</span> ) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// 直线和圆的关系</span></span><br><span class="line">    <span class="comment">/// 比较的是圆心到直线的距离和半径的关系</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">relationline</span><span class="params">(Line v)</span></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> dst = v.<span class="built_in">dispointtoline</span>(p);</span><br><span class="line">        <span class="keyword">if</span>( <span class="built_in">sgn</span>(dst - r) == <span class="number">0</span> ) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( <span class="built_in">sgn</span>( dst - r) == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// 求直线和圆的交点个数</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">pointcrossline</span><span class="params">(Line v,Point &amp;p1,Point &amp;p2)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>( !(*<span class="keyword">this</span>).<span class="built_in">relationline</span>(v) )  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        Point a = v.<span class="built_in">lineprog</span>(p);</span><br><span class="line">        <span class="keyword">double</span> d = v.<span class="built_in">dispointtoline</span>(p);</span><br><span class="line">        d = <span class="built_in">sqrt</span>(r*r - d*d);</span><br><span class="line">        <span class="keyword">if</span>( <span class="built_in">sgn</span>(d) == <span class="number">0</span> )&#123;</span><br><span class="line">            p1 = a,p2 = a;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        p1 = a + (v.e - v.s).<span class="built_in">trunc</span>(d);</span><br><span class="line">        p2 = a - (v.e - v.s).<span class="built_in">trunc</span>(d);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// 求圆和三角形 pab 的相交面积</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">areatriangle</span><span class="params">( Point a,Point b )</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>( <span class="built_in">sgn</span>((p-a)^(p-b)) == <span class="number">0</span> ) <span class="keyword">return</span> <span class="number">0.0</span>;</span><br><span class="line">        Point q[<span class="number">5</span>];</span><br><span class="line">        <span class="keyword">int</span> len =<span class="number">0</span>;</span><br><span class="line">        q[len++] = a;</span><br><span class="line">        <span class="function">Line <span class="title">l</span><span class="params">(a,b)</span></span>;</span><br><span class="line">        Point p1,p2;</span><br><span class="line">        <span class="keyword">if</span>( <span class="built_in">pointcrossline</span>( l,q[<span class="number">1</span>],q[<span class="number">2</span>] ) == <span class="number">2</span> )&#123;</span><br><span class="line">            <span class="keyword">if</span>( <span class="built_in">sgn</span>( ( a - q[<span class="number">1</span>] )*( b - q[<span class="number">1</span>] ) ) &lt; <span class="number">0</span> )  q[len ++] = q[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>( <span class="built_in">sgn</span>( ( a - q[<span class="number">2</span>] )*( b - q[<span class="number">2</span>] ) ) &lt; <span class="number">0</span> )  q[len ++] = q[<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        q[len ++] = b;</span><br><span class="line">        <span class="keyword">if</span>( len == <span class="number">4</span> &amp;&amp; <span class="built_in">sgn</span>( (q[<span class="number">0</span>]-q[<span class="number">1</span>])*(q[<span class="number">2</span>]-q[<span class="number">1</span>]) ) &gt; <span class="number">0</span> )    <span class="built_in">swap</span>( q[<span class="number">1</span>],q[<span class="number">2</span>] );</span><br><span class="line">        <span class="keyword">double</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; len - <span class="number">1</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>( <span class="built_in">relation</span>(q[i]) == <span class="number">0</span> || <span class="built_in">relation</span>( q[i + <span class="number">1</span>] ) == <span class="number">0</span> )&#123;</span><br><span class="line">                <span class="keyword">double</span> arg = p.<span class="built_in">rad</span>( q[i],q[i + <span class="number">1</span>] );</span><br><span class="line">                res += r*r*arg/<span class="number">2.0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                res += <span class="built_in">fabs</span>( (q[i] - p) ^ ( q[i+ <span class="number">1</span>] - p ) ) / <span class="number">2.0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxp = <span class="number">1100</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxl = <span class="number">2200</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">polygon</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> n;      <span class="comment">///点的数量</span></span><br><span class="line">    Point p[maxp];</span><br><span class="line">    Line l[maxl];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">cmp</span>&#123;</span></span><br><span class="line">        Point p;</span><br><span class="line">        <span class="built_in">cmp</span>(<span class="keyword">const</span> Point &amp;p0)&#123; p = p0;&#125;</span><br><span class="line">        <span class="function"><span class="keyword">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">( <span class="keyword">const</span> Point &amp;aa ,<span class="keyword">const</span> Point &amp;bb)</span></span>&#123;</span><br><span class="line">            Point a = aa,b = bb;</span><br><span class="line">            <span class="keyword">int</span> d = <span class="built_in">sgn</span>( (a-p)^(b-p) );</span><br><span class="line">            <span class="keyword">if</span>(d == <span class="number">0</span>)  <span class="keyword">return</span> <span class="built_in">sgn</span>( a.<span class="built_in">distance</span>(p) - b.<span class="built_in">distance</span>(p)) &lt; <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> d &gt; <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">///极角排序</span></span><br><span class="line">    <span class="comment">///mi为最左下角的点</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">norm</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Point mi = p[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i ++) mi = <span class="built_in">min</span>(mi,p[i]);</span><br><span class="line">        <span class="built_in">sort</span>(p, p + n, <span class="built_in">cmp</span>(mi) );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/// 判断任意点与多边形的关系</span></span><br><span class="line">    <span class="comment">/// 3在顶点上</span></span><br><span class="line">    <span class="comment">/// 2在边上</span></span><br><span class="line">    <span class="comment">/// 1在内部</span></span><br><span class="line">    <span class="comment">/// 0在外面</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">relationpoint</span><span class="params">(Point tep)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>( p[i] == tep ) <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>( l[i].<span class="built_in">point_on_seg</span>(tep) ) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> tecnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> j = (i + <span class="number">1</span>) % n;</span><br><span class="line">            <span class="keyword">int</span> c = <span class="built_in">sgn</span>( (tep - p[j]) ^ (p[i] - p[j]) );</span><br><span class="line">            <span class="keyword">int</span> u = <span class="built_in">sgn</span>( p[i].y - tep.y );</span><br><span class="line">            <span class="keyword">int</span> v = <span class="built_in">sgn</span>( p[j].y - tep.y );</span><br><span class="line">            <span class="keyword">if</span>( c &gt; <span class="number">0</span> &amp;&amp; u &lt; <span class="number">0</span> &amp;&amp; v &gt;=<span class="number">0</span> ) tecnt ++;</span><br><span class="line">            <span class="keyword">if</span>( c &lt; <span class="number">0</span> &amp;&amp; u &gt;= <span class="number">0</span> &amp;&amp; v &lt; <span class="number">0</span> ) tecnt --;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tecnt != <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// 得到凸包</span></span><br><span class="line">    <span class="comment">/// 得到的凸包里的点编号是 0 ~ n-1 的</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">getconvex</span><span class="params">(polygon &amp;convex)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(p , p + n);</span><br><span class="line">        convex.n = n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="built_in">min</span>(n,<span class="number">2</span>) ; i++)&#123;</span><br><span class="line">            convex.p[i] = p[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">///特判</span></span><br><span class="line">        <span class="keyword">if</span>( convex.n == <span class="number">2</span> &amp;&amp; (convex.p[<span class="number">0</span>] == convex.p[<span class="number">1</span>]) ) convex.n--;</span><br><span class="line">        <span class="keyword">if</span>( n &lt;= <span class="number">2</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> &amp;top = convex.n;</span><br><span class="line">        top = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n ; i++)&#123;</span><br><span class="line">            <span class="keyword">while</span>(top &amp;&amp; <span class="built_in">sgn</span>( (convex.p[top] - p[i]) ^ (convex.p[top<span class="number">-1</span>] - p[i])) &lt;= <span class="number">0</span> ) top --;</span><br><span class="line">            convex.p[++top] = p[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> temp = top;</span><br><span class="line">        convex.p[++top] = p[n<span class="number">-2</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = n - <span class="number">3</span>; i &gt;=<span class="number">0</span> ; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span>( top!=temp &amp;&amp; <span class="built_in">sgn</span>( (convex.p[top] - p[i]) ^ (convex.p[top<span class="number">-1</span>] - p[i]) ) &lt;=<span class="number">0</span> ) top--;</span><br><span class="line">            convex.p[++top] = p[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>( convex.n == <span class="number">2</span>&amp;&amp; ( convex.p[<span class="number">0</span>] == convex.p[<span class="number">1</span>]) ) convex.n --;    <span class="comment">///特判</span></span><br><span class="line">        convex.<span class="built_in">norm</span>();<span class="comment">///得到的是顺时针的点,排序后逆时针</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">///判断是不是凸多边形,用点集，不是得到凸包之后的多边形</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isconvex</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">bool</span> s[<span class="number">2</span>];</span><br><span class="line">        <span class="built_in">memset</span>(s,<span class="literal">false</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(s));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> j = (i + <span class="number">1</span>) % n;</span><br><span class="line">            <span class="keyword">int</span> k = (j + <span class="number">1</span>) % n;</span><br><span class="line">            s[ <span class="built_in">sgn</span>((p[j] - p[i]) ^ (p[k]-p[i]) ) + <span class="number">1</span>] =<span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>( s[<span class="number">0</span>] &amp;&amp; s[<span class="number">2</span>]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">///得到周长</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getcircumference</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">            sum += p[i].<span class="built_in">distance</span>( p[(i + <span class="number">1</span>)%n] );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">///得到面积</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getarea</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;  i &lt; n ; i++)&#123;</span><br><span class="line">            sum += ( p[i]^p[ (i+<span class="number">1</span>)%n ] );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">fabs</span>(sum)/<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///得到重心</span></span><br><span class="line">    <span class="function">Point <span class="title">getbarycentre</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="function">Point <span class="title">ret</span><span class="params">(<span class="number">0</span>,<span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">double</span> area = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;  i &lt; n - <span class="number">1</span>; i ++)&#123;</span><br><span class="line">            <span class="keyword">double</span> tmp = ( p[i] - p[<span class="number">0</span>] ) ^ (p[i + <span class="number">1</span>] - p[<span class="number">0</span>]);</span><br><span class="line">            <span class="keyword">if</span>( <span class="built_in">sgn</span>(tmp) == <span class="number">0</span> ) <span class="keyword">continue</span>;</span><br><span class="line">            area += tmp;</span><br><span class="line">            ret.x += ( p[<span class="number">0</span>].x + p[i].x + p[i + <span class="number">1</span>].x ) / <span class="number">3</span> * tmp;</span><br><span class="line">            ret.y += ( p[<span class="number">0</span>].y + p[i].y + p[i + <span class="number">1</span>].y ) / <span class="number">3</span> * tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>( <span class="built_in">sgn</span>(area) ) ret = ret / area;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///多边形和园交的面积</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">areacircle</span><span class="params">(circle c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">double</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;  i &lt; n ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> j = (i + <span class="number">1</span>) %n;</span><br><span class="line">            <span class="keyword">if</span>( <span class="built_in">sgn</span>( (p[j] - c.p) ^ ( p[i] - c.p )) &gt;= <span class="number">0</span> )</span><br><span class="line">                ans += c.<span class="built_in">areatriangle</span>( p[i],p[j] );</span><br><span class="line">            <span class="keyword">else</span> ans -= c.<span class="built_in">areatriangle</span>( p[i],p[j] );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">fabs</span>(ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///多边形和圆的关系</span></span><br><span class="line">    <span class="comment">/// 2圆完全在多边形内</span></span><br><span class="line">    <span class="comment">/// 1圆在多边形里面，碰到了多边形边界</span></span><br><span class="line">    <span class="comment">/// 0其他</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">relationcircle</span><span class="params">(circle c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>( <span class="built_in">relationpoint</span>(c.p) != <span class="number">1</span> ) <span class="keyword">return</span> <span class="number">0</span>;     <span class="comment">///圆心不在内部</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n ; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>( c.<span class="built_in">relationseg</span>(l[i] ) == <span class="number">2</span> ) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>( c.<span class="built_in">relationseg</span>(l[i] ) == <span class="number">1</span> ) x = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="快乘与快速幂"><a href="#快乘与快速幂" class="headerlink" title="快乘与快速幂"></a>快乘与快速幂</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">mult_mod</span><span class="params">(ll a, ll b, ll m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>) res = (res+a)%m;</span><br><span class="line">        a = (a+a)%m; <span class="comment">//前提相加不会爆</span></span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">pom</span><span class="params">(ll a, ll b ,ll mod)</span></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>) ans = (ans * a) % mod;</span><br><span class="line">        a = (a * a) % mod;<span class="comment">//a * a不能爆掉</span></span><br><span class="line">        b=b&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="10-JAVA在ACM中的应用"><a href="#10-JAVA在ACM中的应用" class="headerlink" title="10____JAVA在ACM中的应用"></a>10____JAVA在ACM中的应用</h1><h2 id="10-1-Jave在竞赛中的基本操作"><a href="#10-1-Jave在竞赛中的基本操作" class="headerlink" title="10.1____Jave在竞赛中的基本操作"></a>10.1____Jave在竞赛中的基本操作</h2><blockquote>
<h2 id="1-输入输出"><a href="#1-输入输出" class="headerlink" title="1.输入输出"></a>1.输入输出</h2></blockquote>
<ul>
<li><p>  输入 <code> Scaner cin = new Scanner( System.in );</code></p>
</li>
<li><p>  <code>while( cin.hasNext() )</code> 相当于<code>!= EOF</code></p>
</li>
<li><p>  <code>int n  = cin.nextInt();</code> 读入一个int类型的数</p>
</li>
<li><p>  <code>BigInteger bi =  cin.nextBigInteger();</code></p>
</li>
<li><p>  <code>System.out.print(n);</code>      输出n但不换行</p>
</li>
<li><p>  <code>System.out.println(); </code>   换行</p>
</li>
<li><p>  <code>System.out.println(n);</code>   输出n并换行</p>
</li>
<li><p>  <code>System.out.printf(“%d\n”,n); </code>   类似C语言中的输出</p>
</li>
</ul>
<blockquote>
<h2 id="2-定义变量"><a href="#2-定义变量" class="headerlink" title="2.定义变量"></a>2.定义变量</h2></blockquote>
<ul>
<li><p>  <code>int a,b,c</code> 一个元素的定义和c中无差别</p>
</li>
<li><p>  <code> BigInteger a;</code> 定义大整数类</p>
</li>
<li><p>  <code> int []a = new int[1000]</code> 定义数组</p>
</li>
<li><p>  <code>BigInteger big[] = new BigInteger[1005];</code>定义大整数数组</p>
</li>
<li><p>  <code> BigDecimaln big;</code> <font color = red><strong>大整数浮点类</strong></font></p>
</li>
</ul>
<p><font color = gray> <em>BigInteger任意大的数，原则上只要你的计算机内存足够大，可以有无限位</em></font></p>
<h2 id="10-2-BigInteger大整数"><a href="#10-2-BigInteger大整数" class="headerlink" title="10.2____BigInteger大整数"></a>10.2____BigInteger大整数</h2><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line">BigInteger a,b,c;</span><br><span class="line"></span><br><span class="line"><span class="comment">///赋值 </span></span><br><span class="line">a = <span class="keyword">new</span> BigInteger(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">b = <span class="keyword">new</span> BigInteger(<span class="string">&quot;11&quot;</span>);</span><br><span class="line">c = <span class="keyword">new</span> BigInteger(<span class="string">&quot;100&quot;</span>);</span><br><span class="line"><span class="comment">///四则运算</span></span><br><span class="line">a = b.add(c);		<span class="comment">///	a = c + b;</span></span><br><span class="line">b = a.subtract(c);	<span class="comment">/// b = a - c;</span></span><br><span class="line">c = b.multiply(a);	<span class="comment">/// c = a * b;</span></span><br><span class="line">a = c.divide(b);	<span class="comment">/// a = c / b;</span></span><br><span class="line"><span class="comment">///取余 || 取模</span></span><br><span class="line">a = c.remainder(b) == c.mod(b)	<span class="comment">/// a = c/b的余数</span></span><br><span class="line"><span class="comment">///最大公约数</span></span><br><span class="line">c = a.gcd(b);		<span class="comment">/// c = a，b的最大公约数</span></span><br><span class="line"><span class="comment">///比大小</span></span><br><span class="line">c = a.max(b);</span><br><span class="line">c = a.min(b);</span><br><span class="line"><span class="comment">///判断相等，不能用 &#x27;==&#x27;</span></span><br><span class="line"><span class="keyword">if</span>( a.equal(b) )&#123;...&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="10-3-BigDecimal大浮点数"><a href="#10-3-BigDecimal大浮点数" class="headerlink" title="10.3____BigDecimal大浮点数"></a>10.3____BigDecimal大浮点数</h2><hr>
<h3 id="10-3-1-浮点大数的格式化输出"><a href="#10-3-1-浮点大数的格式化输出" class="headerlink" title="10.3.1____浮点大数的格式化输出"></a>10.3.1____浮点大数的格式化输出</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">	DecimalFormat df = <span class="keyword">new</span> DecimalFormat(<span class="string">&quot;0&quot;</span>);<span class="comment">///整数输出</span></span><br><span class="line">	<span class="comment">///如果是(&quot;0.00&quot;)就是保留两位小数输出</span></span><br><span class="line">	BigDecimal big;</span><br><span class="line">	Scanner cin = <span class="keyword">new</span> Scanner( System.in );</span><br><span class="line">		</span><br><span class="line">	big = cin.nextBigDecimal();</span><br><span class="line">	big = big.setScale(<span class="number">0</span>, BigDecimal.ROUND_DOWN);</span><br><span class="line">	<span class="comment">///输出的格式要调用 format函数输出</span></span><br><span class="line">	System.out.println( df.format(big) );</span><br><span class="line"><span class="comment">/*在对浮点大数初始化的时候，如果不是输入的话最好用下面这个形式</span></span><br><span class="line"><span class="comment"> *DecimalFormat df = new DecimalFormat(&quot;3.432354324&quot;);</span></span><br><span class="line"><span class="comment"> *而不是用</span></span><br><span class="line"><span class="comment"> *DecimalFormat df = new DecimalFormat(3.432354324);</span></span><br><span class="line"><span class="comment"> *这种方式可能会造成精度缺失，而以字符串的形式就不会</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="10-3-2-浮点大数的setscale方法"><a href="#10-3-2-浮点大数的setscale方法" class="headerlink" title="10.3.2____浮点大数的setscale方法()"></a>10.3.2____浮点大数的setscale方法()</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">	BigDecimal big = <span class="keyword">new</span> BigDecimal(<span class="string">&quot;2.624124&quot;</span>);</span><br><span class="line">	BigDecimal a = <span class="keyword">new</span> BigDecimal(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">	</span><br><span class="line"><span class="comment">/*	a = big.setscale(重哪一位开始处理，处理的模式)</span></span><br><span class="line"><span class="comment"> *	a = big.setscale( 1,BigDecimal.ROUND_DOWN) 重第2位开始</span></span><br><span class="line"><span class="comment"> *  处理进位到1位</span></span><br><span class="line"><span class="comment"> *	ROUND_DOWN 		去掉多余的位数，不管后面数字的大小</span></span><br><span class="line"><span class="comment"> *	ROUND_UP	  	进位处理，不管后面数字的大小</span></span><br><span class="line"><span class="comment"> *  ROUND_CEILING	正数==ROUND_UP负数==ROUND_DOWN</span></span><br><span class="line"><span class="comment"> *  ROUND_FLOOR		正数==ROUND_DOWN负数==ROUND_UP</span></span><br><span class="line"><span class="comment"> *  ROUND_HALF_UP	根据后面的数字四舍五入(大于等于 5进位)</span></span><br><span class="line"><span class="comment"> *  ROUND_HALF_DOWN	根据后面的数字四舍五入(大于 5进位)</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>



<h3 id="快读与快输"><a href="#快读与快输" class="headerlink" title="快读与快输"></a>快读与快输</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x=<span class="number">0</span>,f=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> ch=<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span>(ch&lt;<span class="string">&#x27;0&#x27;</span>||ch&gt;<span class="string">&#x27;9&#x27;</span>)&#123;   <span class="comment">//等待数字输入</span></span><br><span class="line">        <span class="keyword">if</span>(ch==<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">            f=<span class="number">-1</span>;</span><br><span class="line">        ch=<span class="built_in">getchar</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(ch&gt;=<span class="string">&#x27;0&#x27;</span>&amp;&amp;ch&lt;=<span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">        x=(x&lt;&lt;<span class="number">1</span>)+(x&lt;&lt;<span class="number">3</span>)+(ch^<span class="number">48</span>); <span class="comment">//x=x*10+ch-&#x27;0&#x27;</span></span><br><span class="line">        ch=<span class="built_in">getchar</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x*f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> X)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(X&lt;<span class="number">0</span>) &#123;<span class="built_in">putchar</span>(<span class="string">&#x27;-&#x27;</span>); X=~(X<span class="number">-1</span>);&#125; <span class="comment">//如果为负 减一取反为正数</span></span><br><span class="line">	<span class="keyword">int</span> s[<span class="number">20</span>],top=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(X) &#123;s[++top]=X%<span class="number">10</span>; X/=<span class="number">10</span>;&#125; <span class="comment">//直到X为0 将每一位给s </span></span><br><span class="line">	<span class="keyword">if</span>(!top) s[++top]=<span class="number">0</span>; <span class="comment">//特判</span></span><br><span class="line">	<span class="keyword">while</span>(top) <span class="built_in">putchar</span>(s[top--]+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="线性筛质数，欧拉函数，莫比乌斯函数"><a href="#线性筛质数，欧拉函数，莫比乌斯函数" class="headerlink" title="线性筛质数，欧拉函数，莫比乌斯函数"></a>线性筛质数，欧拉函数，莫比乌斯函数</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> oula[maxn],mu[maxn],pri[maxn];</span><br><span class="line"><span class="keyword">int</span> pr[maxn], top = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= maxn; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!pri[i])&#123;</span><br><span class="line">            pr[top++] = i;</span><br><span class="line">            oula[i] = i - <span class="number">1</span>;</span><br><span class="line">            mu[i] = <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; top &amp;&amp; i * pr[j] &lt;= maxn; ++j)&#123;</span><br><span class="line">            pri[i * pr[j]] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % pr[j])&#123;</span><br><span class="line">                oula[i * pr[j]] = oula[i] * (pr[j] - <span class="number">1</span>);</span><br><span class="line">                mu[i * pr[j]] = -mu[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                oula[i * pr[j]] = oula[i] * pr[j];</span><br><span class="line">                mu[i * pr[j]] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="数被整除的条件"><a href="#数被整除的条件" class="headerlink" title="数被整除的条件"></a>数被整除的条件</h2><ul>
<li>能被2整除的数，<strong>个位</strong>上%2等于0</li>
<li>能被3整除的数，<strong>各位相加</strong>%3等于0</li>
<li>能被4整除的数，<strong>个位加十位</strong>%4等于0</li>
<li>能被5整除的数，<strong>个位</strong>%5等于0</li>
<li>能被6整除的数，<strong>各位相加</strong>%3等于0 且/3后%2等于0</li>
<li>能被7整除的数，<strong>若一个整数的个位数字截去，余下的数减去当前个位数*2%7等于0</strong></li>
<li>能被8整除的数，**%1000**后%8等于0</li>
<li>能被9整除的数，<strong>各位相加</strong>%9等于0</li>
</ul>
<h2 id="DFS与BFS"><a href="#DFS与BFS" class="headerlink" title="DFS与BFS"></a>DFS与BFS</h2><ul>
<li><h2 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h2><ul>
<li><p>DFS例题棋盘游戏（有多个可放棋子的位置，每个棋子会与其他相同x轴y轴相冲突，求最多可放多少个棋子）</p>
  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> s[<span class="number">25</span>][<span class="number">25</span>];</span><br><span class="line"><span class="keyword">int</span> ans,n,m;</span><br><span class="line"><span class="keyword">bool</span> a[<span class="number">20</span>]; <span class="comment">//a[10]==true 表示y==10的位置有棋子</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i ,<span class="keyword">int</span> sta)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(sta==m)&#123;  <span class="comment">//</span></span><br><span class="line">		ans++;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(i&gt;=n) <span class="keyword">return</span>;  <span class="comment">//避免越界错误</span></span><br><span class="line">	<span class="keyword">int</span> j ,en;</span><br><span class="line">	<span class="keyword">for</span>(j = <span class="number">0</span> ; j &lt; n ;j++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(s[i][j]==<span class="string">&#x27;#&#x27;</span>)&#123;  <span class="comment">//可以放的位置</span></span><br><span class="line">			<span class="keyword">if</span>(!a[j])&#123;</span><br><span class="line">				a[j]=<span class="number">1</span>;</span><br><span class="line">				<span class="built_in">dfs</span>(i+<span class="number">1</span>,sta+<span class="number">1</span>);  </span><br><span class="line">				a[j]=<span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">dfs</span>(i+<span class="number">1</span>,sta);  <span class="comment">//这行的放与不放</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i,j;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m))&#123;</span><br><span class="line">		<span class="keyword">if</span>(n==<span class="number">-1</span>&amp;&amp;m==<span class="number">-1</span>)&#123;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(a));</span><br><span class="line">		<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n ; i++)&#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		ans=<span class="number">0</span>;</span><br><span class="line">		<span class="built_in">dfs</span>(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">		cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">									<span class="comment">/*不能重复经过同一个点的dfs*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> vi[maxn][maxm];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x , <span class="keyword">int</span> y , <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(k == maxn)&#123;<span class="comment">//当满足条件时的特定操作，这里是找到操作就给ans加一</span></span><br><span class="line">        ans++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">4</span>; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> ex = x + dx[i];</span><br><span class="line">        <span class="keyword">int</span> ey = y + dy[i];</span><br><span class="line">        <span class="keyword">if</span>(!vi[ex][ey])&#123;</span><br><span class="line">            vi[ex][ey] = <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">dfs</span>(ex, ey , k + <span class="number">1</span>); <span class="comment">//满足条件后对k进行操作</span></span><br><span class="line">            vi[ex][ey] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h3><ul>
<li><p>BFS 列题 胜利大逃亡(从‘@’位置到‘^’位置的最短时间不能超过t 且‘A’墙需要有钥匙‘a’才能通过 钥匙有a—j一共十把 对应墙A—J)</p>
  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> inf = <span class="number">2147483647</span>;</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1500</span>][<span class="number">25</span>][<span class="number">25</span>]; <span class="comment">//第一维表示拥有的钥匙种类</span></span><br><span class="line"><span class="keyword">char</span> s[<span class="number">25</span>][<span class="number">25</span>];</span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>]=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>&#125;,dy[<span class="number">4</span>]=&#123;<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x , y , key ; <span class="comment">//用key表示有a--j那把钥匙 如5==101 表示有钥匙‘a’与‘c’</span></span><br><span class="line">&#125;sp;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n , m , t , ans;</span><br><span class="line">    <span class="keyword">int</span> stx , sty , enx , eny;</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;n&gt;&gt;m&gt;&gt;t)&#123;</span><br><span class="line">        queue&lt;sp&gt; qu ;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; m ; j++)&#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %c&quot;</span>,&amp;s[i][j]);</span><br><span class="line">                <span class="keyword">if</span>(s[i][j]==<span class="string">&#x27;@&#x27;</span>) stx = i , sty = j;  <span class="comment">//明确BFS起点与终点</span></span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(s[i][j]==<span class="string">&#x27;^&#x27;</span>) enx = i , eny = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ;i&lt;<span class="number">1500</span>;i++) <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span> ;j&lt;<span class="number">25</span>;j++) <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span> ; k&lt;<span class="number">25</span>;k++) </span><br><span class="line">dp[i][j][k]=inf;  <span class="comment">//memset函数只能通过字节重置</span></span><br><span class="line">        ans = inf;</span><br><span class="line">        sp a ;         <span class="comment">//bfs的初始化</span></span><br><span class="line">        a.x = stx,a.y = sty , a.key = <span class="number">0</span>;</span><br><span class="line">        qu.<span class="built_in">push</span>(a);</span><br><span class="line">        dp[<span class="number">0</span>][stx][sty] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(!qu.<span class="built_in">empty</span>())&#123;</span><br><span class="line">            sp te = qu.<span class="built_in">front</span>();</span><br><span class="line">            qu.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="keyword">if</span>(te.x == enx &amp;&amp; te.y == eny)&#123;</span><br><span class="line">                ans = dp[te.key][te.x][te.y] ;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; <span class="number">4</span> ; i++)&#123;</span><br><span class="line">                sp ae;</span><br><span class="line">                ae.key = te.key;</span><br><span class="line">                ae.x = te.x + dx[i];</span><br><span class="line">                ae.y = te.y + dy[i];</span><br><span class="line">                <span class="keyword">if</span>(ae.x &gt;= <span class="number">0</span>&amp;&amp;ae.y&gt;=<span class="number">0</span>&amp;&amp;ae.x&lt;n&amp;&amp;ae.y&lt;m&amp;&amp;s[ae.x][ae.y] != <span class="string">&#x27;*&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[ae.x][ae.y]&gt;=<span class="string">&#x27;A&#x27;</span>&amp;&amp;s[ae.x][ae.y]&lt;=<span class="string">&#x27;J&#x27;</span>&amp;&amp;!(ae.key&amp;(<span class="number">1</span>&lt;&lt;(s[ae.x][ae.y]-<span class="string">&#x27;A&#x27;</span>))))&#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(s[ae.x][ae.y] &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; s[ae.x][ae.y] &lt;=<span class="string">&#x27;j&#x27;</span>)&#123;</span><br><span class="line">                        ae.key = ae.key | (<span class="number">1</span>&lt;&lt;(s[ae.x][ae.y]-<span class="string">&#x27;a&#x27;</span>)); <span class="comment">//更新拥有的钥匙种类</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(dp[ae.key][ae.x][ae.y]!=inf) <span class="keyword">continue</span>;<span class="comment">//一个点只会被更新一次</span></span><br><span class="line">                    dp[ae.key][ae.x][ae.y] = dp[te.key][te.x][te.y] + <span class="number">1</span>;</span><br><span class="line">                    qu.<span class="built_in">push</span>(ae);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span>(ans&gt;=t) cout&lt;&lt;<span class="number">-1</span>&lt;&lt;endl;</span><br><span class="line">       <span class="keyword">else</span> cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="带权并查集与种类并查集"><a href="#带权并查集与种类并查集" class="headerlink" title="带权并查集与种类并查集"></a>带权并查集与种类并查集</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(x == dp[x]) <span class="keyword">return</span> x;</span><br><span class="line">		<span class="keyword">int</span> y = father[x];</span><br><span class="line">		father[x] = <span class="built_in">get</span>(father[x]);</span><br><span class="line">		wei[x] += wei[y]; <span class="comment">//若这个点的根节点被改变  则对它的值进行更新</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mer</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y )</span></span>&#123;</span><br><span class="line">		<span class="keyword">int</span> a = <span class="built_in">get</span>(x);</span><br><span class="line">		<span class="keyword">int</span> b = <span class="built_in">get</span>(y);</span><br><span class="line">		<span class="keyword">if</span>(a!=b)&#123;</span><br><span class="line">				father[a] = b;</span><br><span class="line">				<span class="comment">/*</span></span><br><span class="line"><span class="comment">						对合并时 权值的更新操作</span></span><br><span class="line"><span class="comment">				*/</span></span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">n = <span class="number">1000</span>; <span class="comment">//有1000个物品分为m类</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">1000</span> * m + <span class="number">5</span>]  <span class="comment">//用表示m个种类</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="单调队列解决固定区间最大最小问题"><a href="#单调队列解决固定区间最大最小问题" class="headerlink" title="单调队列解决固定区间最大最小问题"></a>单调队列解决固定区间最大最小问题</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> l = <span class="number">0</span> , r = <span class="number">1</span>;</span><br><span class="line">dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(m==<span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,a[<span class="number">1</span>]); <span class="comment">//特判</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span> ; i &lt;= n ; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(i-du[l] &gt;=m &amp;&amp; l&lt;r) l++;   <span class="comment">//保证i与du[l]的区间差值不超过m</span></span><br><span class="line">		<span class="keyword">while</span>(r&gt;l&amp;&amp;a[du[r<span class="number">-1</span>]] &gt;= a[i]) r--;  <span class="comment">//更新a[i]应该在的位置 </span></span><br><span class="line">		du[r++] = i;</span><br><span class="line">		<span class="keyword">if</span>(i &gt;= m) <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,a[du[l]]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="RMQ问题与st数组、线段树"><a href="#RMQ问题与st数组、线段树" class="headerlink" title="RMQ问题与st数组、线段树"></a>RMQ问题与st数组、线段树</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">									<span class="comment">/*ST数组  离线处理 O(NlogN) 查询O(1) */</span></span><br><span class="line"><span class="keyword">int</span> m,s[<span class="number">10000</span>],n,dp[<span class="number">10000</span>][<span class="number">500</span>],en; <span class="comment">//dp[i][j]表示从i到i+1&lt;&lt;j-1的最值</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rmq_st</span><span class="params">(<span class="keyword">int</span> n )</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dp,<span class="number">0x3f</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(dp));  <span class="comment">//赋初值</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n ; i++) dp[i][<span class="number">0</span>] = s[i]; <span class="comment">//对应每个s【i】到 i+2^0-1对应它本身</span></span><br><span class="line">    m = (<span class="keyword">int</span>) (<span class="built_in">log</span>(<span class="number">1.0</span> * n) / <span class="built_in">log</span>(<span class="number">2.0</span>));  <span class="comment">//区间可以分多少次</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span> ; j &lt;= m ; j++)&#123;</span><br><span class="line">        <span class="keyword">int</span> t = n - (<span class="number">1</span>&lt;&lt;j) + <span class="number">1</span>; <span class="comment">//t就是里面最后的区间中l的位置</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= t; i++)&#123;</span><br><span class="line">            dp[i][j] = <span class="built_in">min</span>(dp[i][j<span class="number">-1</span>],dp[i+(<span class="number">1</span>&lt;&lt;(j<span class="number">-1</span>))][j<span class="number">-1</span>]); <span class="comment">// 区间分成俩快分别求最值</span></span><br><span class="line">            cout&lt;&lt;dp[i][j]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;en;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= n ;i++)</span><br><span class="line">        cin&gt;&gt;s[i];</span><br><span class="line">    <span class="built_in">rmq_st</span>(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= en; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> l ,r;</span><br><span class="line">        cin&gt;&gt;l&gt;&gt;r;</span><br><span class="line">        <span class="keyword">int</span> k = (<span class="keyword">int</span>)(<span class="built_in">log</span>(<span class="number">1.0</span>*(r-l+<span class="number">1</span>))/<span class="built_in">log</span>(<span class="number">2.0</span>));</span><br><span class="line">        cout&lt;&lt;<span class="built_in">min</span>(dp[l][k],dp[r-(<span class="number">1</span>&lt;&lt;k)+<span class="number">1</span>][k])&lt;&lt;endl; <span class="comment">//将l--r的距离分成俩快 必被l--l+2^k-1</span></span><br><span class="line"><span class="comment">//与l+2^k--l+2^(k+1)-1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">									<span class="comment">/*线段树 预处理O(NlogN) 在线处理O(logN) 查询O(logN)*/</span></span><br><span class="line"><span class="keyword">int</span> dp[Max*<span class="number">3</span>],lazy[Max*<span class="number">3</span>];</span><br><span class="line"><span class="keyword">int</span> mn,n,m,k,flag;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> p,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!lazy[p]) <span class="keyword">return</span>;</span><br><span class="line">    lazy[p*<span class="number">2</span>+<span class="number">1</span>]+= lazy[p];</span><br><span class="line">    lazy[p*<span class="number">2</span>]+=lazy[p];</span><br><span class="line">    <span class="keyword">int</span> mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">    dp[p*<span class="number">2</span>]+=(mid-l+<span class="number">1</span>)*lazy[p];</span><br><span class="line">    dp[p*<span class="number">2</span>+<span class="number">1</span>]+=(r-mid)*lazy[p];</span><br><span class="line">    lazy[p]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">modi</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> l, <span class="keyword">int</span> r,<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> va)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&gt;r||y&lt;l) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;=l&amp;&amp;y&gt;=r)&#123;</span><br><span class="line">        lazy[p]+=va;</span><br><span class="line">        dp[p]+= va*(r-l+<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//pushdown(p,l,r);</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">pushdown</span>(p,l,r);</span><br><span class="line">    <span class="keyword">int</span> mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">    <span class="built_in">modi</span>(p*<span class="number">2</span>,l,mid,x,y,va);</span><br><span class="line">    <span class="built_in">modi</span>(p*<span class="number">2</span>+<span class="number">1</span>,mid+<span class="number">1</span>,r,x,y,va);</span><br><span class="line">    dp[p]=dp[p*<span class="number">2</span>]+dp[p*<span class="number">2</span>+<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">creat</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> p)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l == r)&#123;</span><br><span class="line">        dp[p]= a[l];</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">    <span class="built_in">creat</span>(l,mid,p*<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">creat</span>(mid+<span class="number">1</span>,r,p*<span class="number">2</span>+<span class="number">1</span>);</span><br><span class="line">    dp[p]=dp[p*<span class="number">2</span>]+dp[p*<span class="number">2</span>+<span class="number">1</span>];</span><br><span class="line">    lazy[p]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">query</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&gt;r||y&lt;l) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;=l&amp;&amp;y&gt;=r)&#123;</span><br><span class="line">        <span class="comment">//dp[p]+=lazy[p]*(r-l+1);</span></span><br><span class="line">        <span class="comment">//pushdown(p,l,r);</span></span><br><span class="line">        <span class="keyword">return</span> dp[p];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">pushdown</span>(p,l,r);</span><br><span class="line">    <span class="keyword">int</span> mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">    ll sum=<span class="number">0</span>;</span><br><span class="line">    sum+=<span class="built_in">query</span>(p*<span class="number">2</span>,l,mid,x,y);</span><br><span class="line">    sum+=<span class="built_in">query</span>(p*<span class="number">2</span>+<span class="number">1</span>,mid+<span class="number">1</span>,r,x,y);</span><br><span class="line">    dp[p]=dp[p*<span class="number">2</span>]+dp[p*<span class="number">2</span>+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<pre><code>                                                                   **spfa算法**
</code></pre>
<ul>
<li>可以处理带负权的边</li>
<li>可以得到负圈是否存在，不能输出负圈</li>
<li>用一个数组存储每个点入队次数  超过n次即存在负圈</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v,cost;</span><br><span class="line">&#125;pe;</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1005</span>],n,m,cn[<span class="number">1005</span>]; <span class="comment">//dp数组记录从起点到各个终点的最短距离 cn表示每个点的入度次数</span></span><br><span class="line"><span class="keyword">bool</span> vi[<span class="number">1005</span>];</span><br><span class="line"><span class="keyword">int</span> flag; <span class="comment">//flag代表负权存在与否</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">spfa</span><span class="params">()</span></span>&#123;</span><br><span class="line">    queue&lt;<span class="keyword">int</span>&gt; pri;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="built_in">fill</span>(dp,dp+n+<span class="number">2</span>,<span class="number">2147483</span>);</span><br><span class="line">    vector&lt;pe&gt; a[n+<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> x,y,z;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;x,&amp;y,&amp;z);</span><br><span class="line">        pe te;</span><br><span class="line">        te.v=y;</span><br><span class="line">        te.cost=z;</span><br><span class="line">        a[x].<span class="built_in">push_back</span>(te);</span><br><span class="line">        te.v=x;</span><br><span class="line">        a[y].<span class="built_in">push_back</span>(te);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">memset</span>(vi,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(vi));</span><br><span class="line">    pri.<span class="built_in">push</span>(<span class="number">1</span>);</span><br><span class="line">    vi[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    dp[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">		cn[<span class="number">1</span>]++;</span><br><span class="line">    <span class="keyword">while</span>(!pri.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">int</span> te = pri.<span class="built_in">front</span>();</span><br><span class="line">        pri.<span class="built_in">pop</span>();</span><br><span class="line">        vi[te] = <span class="number">0</span>;</span><br><span class="line">				cn[te]++;</span><br><span class="line">				<span class="keyword">if</span>(cn[te] &gt; n)&#123;</span><br><span class="line">						flag = <span class="number">1</span>;</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a[te].<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> to = a[te][i].v;</span><br><span class="line">            <span class="keyword">if</span>(dp[to] &gt; dp[te] + a[te][i].cost)&#123;</span><br><span class="line">                dp[to] = dp[te] + a[te][i].cost;</span><br><span class="line">                <span class="keyword">if</span>(!vi[to])&#123;  <span class="comment">//队列中不存在就存入</span></span><br><span class="line">                    vi[to] = <span class="number">1</span>;</span><br><span class="line">                    pri.<span class="built_in">push</span>(to);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">		<span class="keyword">if</span>(flag) cout&lt;&lt;<span class="string">&quot;-1&quot;</span>&lt;&lt;endl;  <span class="comment">//即存在负圈 </span></span><br><span class="line">    cout&lt;&lt;dp[n]&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="链式前向星（-迪杰斯特与佛洛依德算法里-有其他俩种存储方式）"><a href="#链式前向星（-迪杰斯特与佛洛依德算法里-有其他俩种存储方式）" class="headerlink" title="链式前向星（ 迪杰斯特与佛洛依德算法里 有其他俩种存储方式）"></a>链式前向星（ 迪杰斯特与佛洛依德算法里 有其他俩种存储方式）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to , next , cost;</span><br><span class="line">&#125;sp;</span><br><span class="line"><span class="keyword">int</span> head[<span class="number">1004</span>]; <span class="comment">//head【i】 表示从i到其他点最后一条表的位置</span></span><br><span class="line">sp cnt[<span class="number">1004</span>]; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> w)</span></span>&#123;</span><br><span class="line">		cnt[top].to = v;</span><br><span class="line">    cnt[top].cost = w;</span><br><span class="line">    cnt[top].next = head[u]; <span class="comment">//将next所指变成head【x】的值</span></span><br><span class="line">    head[u] = top++; <span class="comment">//更新head【x】位置 如果是单向边可以直接写成i</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">     cin&gt;&gt;n;</span><br><span class="line">     <span class="built_in">memset</span>(head,<span class="number">-1</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(head));</span><br><span class="line">     <span class="keyword">int</span> top = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> x , y , w;</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y&gt;&gt;w;</span><br><span class="line">        <span class="built_in">add</span>(x,y,w);</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = head[i]; j != <span class="number">-1</span>; j = cnt[j].next)&#123;</span><br><span class="line">            cout&lt;&lt;i&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;cnt[j].to&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;cnt[j].cost&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<pre><code>                                                    **分块思想 （将一个序列分成几个小块）**

      用树状数组  线段树 的题用这个也可  处理 区间加 乘 求和 查询 单点查询  
</code></pre>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n,a[<span class="number">100</span>],pos[<span class="number">100</span>],add[<span class="number">100</span>],d; <span class="comment">//add数组表示一个块内增加的总数   pos数组代表第几个</span></span><br><span class="line">位置在第几个块 </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_1</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> c)</span></span>&#123; <span class="comment">//区间加</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = l; i &lt;= <span class="built_in">min</span>(r,pos[l]*d); ++i)</span><br><span class="line">        a[i]+=c;</span><br><span class="line">        <span class="comment">//sum[pos[l]]+=c;</span></span><br><span class="line">    <span class="keyword">if</span>(pos[l] != pos[r])&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = (pos[r]<span class="number">-1</span>)*d+<span class="number">1</span>; i &lt;= r; ++i)</span><br><span class="line">            a[i]+=c;</span><br><span class="line">            <span class="comment">//sum[pos[r]]+=c;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = pos[l]+<span class="number">1</span>; i &lt;= pos[r]<span class="number">-1</span>; ++i)</span><br><span class="line">        add[i]+=c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123; <span class="comment">//区间求和</span></span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=l;i &lt;= <span class="built_in">min</span>(r,pos[l]*d); ++i)</span><br><span class="line">        ans+=v[i]+add[pos[l]];</span><br><span class="line">    <span class="keyword">if</span>(pos[l]!=pos[r])</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=(pos[r]<span class="number">-1</span>)*d+<span class="number">1</span>; i&lt;=r ;++i)</span><br><span class="line">            ans+=v[i]+add[pos[r]];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=pos[l]+<span class="number">1</span>; i&lt;=pos[r]<span class="number">-1</span> ;++i)</span><br><span class="line">        ans+=sum[i]+d*add[i];</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> opt,l,r,c;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    d=<span class="built_in">sqrt</span>(n); <span class="comment">//总共分qrt（n）个块</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        pos[i]=(i<span class="number">-1</span>)/d+<span class="number">1</span>;  <span class="comment">//pos数组初始化</span></span><br><span class="line">        <span class="comment">//sum[pos[i]]+=v[i];   //求和数组初始化</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        cin&gt;&gt;opt&gt;&gt;l&gt;&gt;r&gt;&gt;c;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(opt) cout&lt;&lt;a[r]+add[pos[r]]&lt;&lt;endl; <span class="comment">//单点查询</span></span><br><span class="line">        <span class="comment">// cout&lt;&lt;query(l,r)&lt;&lt;endl; 区间求和</span></span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">add_1</span>(l,r,c);  <span class="comment">//区间加</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<pre><code>                                                          欧拉回路
</code></pre>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">无向图判断</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">int</span> mat[MAX_N][MAX_N];</span><br><span class="line"><span class="keyword">int</span> match[MAX_N];  <span class="comment">// 表示顶点剩余的度</span></span><br><span class="line"><span class="keyword">int</span> n;  <span class="comment">// 顶点个数</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (match[u] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (mat[u][i]) &#123;</span><br><span class="line">                mat[u][i]--;</span><br><span class="line">                mat[i][u]--;</span><br><span class="line">                <span class="built_in">solve</span>(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;visiting &quot;</span> &lt;&lt; u &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">有向图判断</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_M = <span class="number">10000</span>;</span><br><span class="line"><span class="keyword">int</span> mat[MAX_N][MAX_N];</span><br><span class="line"><span class="keyword">int</span> match[MAX_N];  <span class="comment">// 表示顶点剩余的度</span></span><br><span class="line"><span class="keyword">int</span> n;  <span class="comment">// 顶点个数</span></span><br><span class="line"><span class="keyword">int</span> stk[MAX_M], top = <span class="number">0</span>;  <span class="comment">// 用数组 stk 来模拟一个栈</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (match[u] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (mat[u][i]) &#123;</span><br><span class="line">                mat[u][i]--;</span><br><span class="line">                <span class="built_in">solve</span>(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    stk[top++] = u;  <span class="comment">// 将顶点 u 插入栈中</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="乘法逆元-求解（a-b）mod-p-问题"><a href="#乘法逆元-求解（a-b）mod-p-问题" class="headerlink" title="乘法逆元 求解（a/b）mod p 问题"></a>乘法逆元 求解（a/b）mod p 问题</h3><ul>
<li><p>通过求b关于p的逆元k  可以得到（a/b）mod p == (a * k) mod p</p>
</li>
<li><p>简单证明 ： b * k %p = 1   等价于 bk = px + 1  即 k = （px+1）/b</p>
<p>  再带k入 a<em>k % p 中    （apx+a）/b %p   即（a/b %p + apx/b %p）%p    a/b % p + （ax/b）</em> p%p  </p>
<p>  即 a/b % p </p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*假设k为a的逆元  先讲ax mod m = 1 等价于 ax - my = 1 然后通过exgcd可以得到一组x，y（前提是</span></span><br><span class="line"><span class="comment">gcd（a，m）== 1 再将x取值到0——m的范围内 即（x+m）% m）</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">int exgcd(int a, int b, int &amp;x, int &amp;y) &#123;</span></span><br><span class="line"><span class="comment">    if(b == 0) &#123;</span></span><br><span class="line"><span class="comment">        x = 1;</span></span><br><span class="line"><span class="comment">        y = 0;</span></span><br><span class="line"><span class="comment">        return a;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    int r = exgcd(b, a % b, x, y);</span></span><br><span class="line"><span class="comment">    int t = x; x = y; y = t - a / b * y;</span></span><br><span class="line"><span class="comment">    return r;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="优雅暴力——莫队"><a href="#优雅暴力——莫队" class="headerlink" title="优雅暴力——莫队"></a>优雅暴力——莫队</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> qn = <span class="built_in">sqrt</span>(n);</span><br><span class="line"><span class="keyword">int</span> belong[MAXN+<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">		<span class="keyword">int</span> l, r, di;</span><br><span class="line">]sp;</span><br><span class="line">sp  ans[MAXM];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(sp a, sp b)</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> belong[a.l] == belong[b.l] ? belong[a.r] &lt; belong[b.r] : belong[a.l]&lt;belong[b.l];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* bool cmp(sp a, sp b)&#123;</span></span><br><span class="line"><span class="comment">		return (belong[a.l] ^ belong[b.l]) ? belong[a.l] &lt; belong[b.l]  : ((belong[a.l] &amp; 1) ? </span></span><br><span class="line"><span class="comment">a.r &lt; b.r : a.r &gt; b.r);</span></span><br><span class="line"><span class="comment">&#125;   玄学奇偶性排序    */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;  <span class="comment">/*分块操作  并记录每个位置所在第几块   */</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = (i<span class="number">-1</span>) * qn + <span class="number">1</span>; j &lt;= i * qn ; ++i)&#123;</span><br><span class="line">				belong[j] = i;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(ans+<span class="number">1</span> , ans + <span class="number">1</span> + m; cmp);  <span class="comment">//排序 不同块按顺序排  同块按r排序 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> q1 = ans[i].l , q2 = ans[i].r;</span><br><span class="line">				<span class="keyword">while</span>(l &lt; q1) <span class="built_in">del</span>(l++);   <span class="comment">//l&lt;p1 计算了l点 要计算l--p1(不含p1 含l) 所以l++</span></span><br><span class="line">				<span class="keyword">while</span>(l &gt; q1) <span class="built_in">add</span>(--l);   <span class="comment">//l&gt;p1 计算了l点 要计算l-1--p1(不含l 含p1)  所以--l</span></span><br><span class="line">				<span class="keyword">while</span>(r &lt; q2) <span class="built_in">add</span>(++r);</span><br><span class="line">				<span class="keyword">while</span>(r &gt; q2) <span class="built_in">del</span>(r--);</span><br><span class="line">        ans[Q[i].id]=Ans;   <span class="comment">//将当前所得的值送给应在的位置</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="字典树（Trie树）"><a href="#字典树（Trie树）" class="headerlink" title="字典树（Trie树）"></a>字典树（Trie树）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">10005</span>;</span><br><span class="line"><span class="keyword">int</span> dp[maxn][<span class="number">26</span>];</span><br><span class="line"><span class="keyword">int</span> head[<span class="number">26</span>],top; <span class="comment">//head表示每一个首字母所指的位置</span></span><br><span class="line"><span class="keyword">char</span> s[<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">query</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head[s[<span class="number">0</span>]-<span class="string">&#x27;a&#x27;</span>]==<span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">//即连首字母相等的都不存在</span></span><br><span class="line">    <span class="keyword">int</span> temp = head[s[<span class="number">0</span>] - <span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="built_in">strlen</span>(s); i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(dp[temp][s[i]-<span class="string">&#x27;a&#x27;</span>] == <span class="number">-1</span>)&#123; <span class="comment">//如果不存在就直接退出 否则继续判断</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        temp = dp[temp][s[i]-<span class="string">&#x27;a&#x27;</span>]; <span class="comment">//指向下一个位置</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head[s[<span class="number">0</span>]-<span class="string">&#x27;a&#x27;</span>]==<span class="number">-1</span>) head[s[<span class="number">0</span>]-<span class="string">&#x27;a&#x27;</span>] = top++;</span><br><span class="line">    <span class="keyword">int</span> temp = head[s[<span class="number">0</span>]-<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="built_in">strlen</span>(s); i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(dp[temp][s[i]-<span class="string">&#x27;a&#x27;</span>] == <span class="number">-1</span>)&#123;  <span class="comment">//如果不存在这个字母 就将当前位置赋值</span></span><br><span class="line">            dp[temp][s[i] - <span class="string">&#x27;a&#x27;</span>] = top++;</span><br><span class="line">        &#125;</span><br><span class="line">        temp = dp[temp][s[i] - <span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">slove</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dp,<span class="number">-1</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(dp));  <span class="comment">//重新清零操作</span></span><br><span class="line">    <span class="built_in">memset</span>(head,<span class="number">-1</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(head));</span><br><span class="line">		top = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s)!=EOF)&#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        cin&gt;&gt;n;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>) <span class="built_in">add</span>();</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,<span class="built_in">query</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<pre><code>                                                       KMP（字符串匹配）

解决  判断a是否为b的子串（连续） 时间复杂度为O(N)
</code></pre>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">char</span> a[maxn],b[maxn];</span><br><span class="line"><span class="keyword">int</span> Next[maxn];</span><br><span class="line"><span class="keyword">int</span> n1,n2;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getnext</span><span class="params">()</span></span>&#123;           <span class="comment">//Next[j] 存储a[i]!=b[j]时  j要跳转的位置</span></span><br><span class="line">    <span class="keyword">int</span> j=<span class="number">0</span>,k=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span>(j&lt;n2)&#123;</span><br><span class="line">        <span class="keyword">if</span>(k==<span class="number">-1</span>||b[j]==b[k])&#123;</span><br><span class="line">            <span class="keyword">if</span>(b[++j]==b[++k])</span><br><span class="line">                Next[j]=Next[k];</span><br><span class="line">            <span class="keyword">else</span> Next[j]=k;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> k=Next[k];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">kmp</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Next[<span class="number">0</span>]=<span class="number">-1</span>;     </span><br><span class="line">    <span class="built_in">getnext</span>();</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;n1&amp;&amp;j&lt;n2)&#123;</span><br><span class="line">        <span class="keyword">if</span>(j==<span class="number">-1</span>||a[i]==b[j])&#123;</span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            j=Next[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(j==n2) <span class="keyword">return</span> i-j;     <span class="comment">//返回匹配时 第一个下标</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s%s&quot;</span>,a,b);</span><br><span class="line">        n1=<span class="built_in">strlen</span>(a);</span><br><span class="line">        n2=<span class="built_in">strlen</span>(b);</span><br><span class="line">        cout&lt;&lt;<span class="built_in">kmp</span>()&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<pre><code>                                                      二分图
</code></pre>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#incldue<span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e3</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> color[maxn];</span><br><span class="line">vector &lt;<span class="keyword">int</span> &gt; G[maxn];</span><br><span class="line"></span><br><span class="line"><span class="comment">//二分图涂色判别法</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">int</span> c)</span></span>&#123;</span><br><span class="line">    color[v] = c;    <span class="comment">//将当前顶点涂色</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;    <span class="comment">//遍历所有相邻顶点，即连着的点</span></span><br><span class="line">        <span class="keyword">if</span>(G[v][i] == <span class="number">1</span>)&#123;    <span class="comment">//如果顶点存在</span></span><br><span class="line">            <span class="keyword">if</span>(color[i] == c)    <span class="comment">//如果颜色重复，就返回false</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span>(color[i] == <span class="number">0</span> &amp;&amp; !<span class="built_in">dfs</span>(i,-c))    <span class="comment">//如果还未涂色，就染上相反的颜色-c,并dfs这个顶点，进入下一层</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;   <span class="comment">//返回false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;   <span class="comment">//如果所有顶点涂完色，并且没有出现同色的相邻顶点，就返回true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> u)</span><span class="comment">//这里因为不一定连通图的原因设置一个变量，外部引用函数的时候遍历访问就行</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    queue&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(u);<span class="comment">//当前点入队</span></span><br><span class="line">    col[u]=<span class="number">1</span>;<span class="comment">//当前点涂色</span></span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> v=q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;G[v].<span class="built_in">size</span>();i++)<span class="comment">//遍历与当前点关联的所有点</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> x=G[v][i];<span class="comment">//获得第i个关联点的下标</span></span><br><span class="line">            <span class="keyword">if</span>(col[x]==<span class="number">0</span>)<span class="comment">//如果没图色</span></span><br><span class="line">            &#123;</span><br><span class="line">                col[x]=-col[v];<span class="comment">//图相反颜色</span></span><br><span class="line">                q.<span class="built_in">push</span>(x);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(col[x]==col[v])<span class="comment">//颜色相同不是二分图返回false</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">solve</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="最小生成树"><a href="#最小生成树" class="headerlink" title="最小生成树"></a>最小生成树</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u,v,cost;</span><br><span class="line">&#125;p;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1005</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gkd</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(dp[x]==x)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">return</span> dp[x]=<span class="built_in">gkd</span>(dp[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(p a,p b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.cost&lt;b.cost;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">sort</span>(en,en+top,cmp);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        dp[i]=i;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;top;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> c=<span class="built_in">gkd</span>(en[i].u);</span><br><span class="line">        <span class="keyword">int</span> d=<span class="built_in">gkd</span>(en[i].v);</span><br><span class="line">        <span class="keyword">if</span>(c!=d)&#123;</span><br><span class="line">            dp[c]=d;</span><br><span class="line">            ans+=en[i].cost;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br></pre></td></tr></table></figure>

<h3 id="tarjin算法"><a href="#tarjin算法" class="headerlink" title="tarjin算法"></a>tarjin算法</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> dfn[maxn],low[maxn],top = <span class="number">0</span>,k = <span class="number">0</span>;<span class="comment">//dfn记录当前点的时间戳  low即可以构成强连通分量中时间</span></span><br><span class="line">戳最早的点的dfn  top即时间戳 k表示有几个强连通分量</span><br><span class="line"><span class="keyword">int</span> cn[maxn],cnt[maxn];<span class="comment">//cnt记录每个强连通分量拥有分量个数</span></span><br><span class="line">set&lt;<span class="keyword">int</span>&gt; inqu;  <span class="comment">//解决搜索堆栈中是否有某元素问题</span></span><br><span class="line">stack&lt;<span class="keyword">int</span>&gt; qu;  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tarjin</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    dfn[x] = low[x] = top++;  <span class="comment">//更新初值</span></span><br><span class="line">    qu.<span class="built_in">push</span>(x);</span><br><span class="line">    inqu.<span class="built_in">insert</span>(x);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ve[x].<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> te = ve[x][i];</span><br><span class="line">        <span class="keyword">if</span>(!vi[te])&#123;</span><br><span class="line">            <span class="built_in">tarjin</span>(te);<span class="comment">//将这个点入栈</span></span><br><span class="line">            low[x] = <span class="built_in">min</span>(low[x],low[te]);<span class="comment">//如果te点可以构成强连通分量且这个点的时间戳小于x的</span></span><br><span class="line">时间戳则更新这个点的low[x]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(inqu.<span class="built_in">count</span>(x))&#123;<span class="comment">//如果这个点在堆栈里 则可以构成连通分量 </span></span><br><span class="line">            low[x] = <span class="built_in">min</span>(low[x],dfn[te]);<span class="comment">//时间戳要求最小</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dfn[x] == low[x])&#123;</span><br><span class="line">        k++;</span><br><span class="line">        <span class="keyword">do</span>&#123;</span><br><span class="line">            <span class="keyword">int</span> te = qu.<span class="built_in">top</span>();</span><br><span class="line">            qu.<span class="built_in">pop</span>();</span><br><span class="line">            inqu.<span class="built_in">erase</span>();</span><br><span class="line">						cn[te] = k ,cnt[k]++;</span><br><span class="line">        &#125;<span class="keyword">while</span>(te != x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">memset</span>(dfn,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(dfn));</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">if</span>(!dfn[x])  <span class="built_in">tarjin</span>(x);  <span class="comment">//解决节点入度为0的情况</span></span><br></pre></td></tr></table></figure>

<h3 id="数位dp"><a href="#数位dp" class="headerlink" title="数位dp"></a>数位dp</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> dp[<span class="number">20</span>][<span class="number">2</span>],a[<span class="number">20</span>];<span class="comment">//a数组存数位分解之后的边界   //【0】【1】表示特殊状态</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> pos,<span class="keyword">int</span> sta,<span class="keyword">bool</span> limit)</span></span>&#123;  <span class="comment">//pos表示枚举第几位  sta表示特殊状态  limit限制最高的位</span></span><br><span class="line">    <span class="keyword">if</span>(pos==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;  </span><br><span class="line">    <span class="keyword">if</span>(dp[pos][sta]==<span class="number">-1</span>||limit)&#123; <span class="comment">//只有limit不存在且dp【pos】【特殊状态】搜索过可以直接记忆化</span></span><br><span class="line">		<span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> up=limit?a[pos]:<span class="number">9</span>;</span><br><span class="line">	    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=up;i++)&#123;</span><br><span class="line">	        <span class="keyword">if</span>(sta==<span class="number">1</span>&amp;&amp;i==<span class="number">2</span>) <span class="keyword">continue</span>;</span><br><span class="line">	        <span class="keyword">if</span>(i==<span class="number">4</span>) <span class="keyword">continue</span>;</span><br><span class="line">	        sum+=<span class="built_in">dfs</span>(pos<span class="number">-1</span>,i==<span class="number">6</span>,limit&amp;&amp;i==a[pos]); <span class="comment">//这个位可以选的数得到值的总和</span></span><br><span class="line">	    &#125;</span><br><span class="line">	    <span class="keyword">if</span>(limit) <span class="keyword">return</span> sum;  </span><br><span class="line">	    dp[pos][sta]=sum;</span><br><span class="line">	 &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[pos][sta];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="状压dp"><a href="#状压dp" class="headerlink" title="状压dp"></a>状压dp</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;(<span class="number">1</span>&lt;&lt;n);i++)&#123;   <span class="comment">//枚举子集</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j ;j=(j<span class="number">-1</span>)&amp;i)&#123;  <span class="comment">//</span></span><br><span class="line">            <span class="keyword">if</span>(wn[j]&lt;=w)&#123;  <span class="comment">//是否满足条件</span></span><br><span class="line">                dp[i]=<span class="built_in">min</span>(dp[i],dp[i-j]+sn[j]);  <span class="comment">//进行操作</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">									<span class="comment">/*状压的初始化*/</span></span><br><span class="line">vector &lt;<span class="keyword">int</span>&gt; flag; <span class="comment">//有多少个可以满足条件</span></span><br><span class="line">vector &lt;<span class="keyword">int</span>&gt; fl[maxn + <span class="number">2</span>];<span class="comment">//对于每一行 有多少个元素满足条件</span></span><br><span class="line"><span class="keyword">int</span> er[maxn]; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1</span> &lt;&lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(i &amp; (i &gt;&gt; <span class="number">1</span>)) &amp;&amp; !( i &amp; (i &gt;&gt; <span class="number">2</span>))) flag.<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) cin&gt;&gt;er[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; flag.<span class="built_in">size</span>(); ++j)&#123;</span><br><span class="line">            <span class="keyword">if</span>((flag[j] &amp; er[i]) == er[i]) fl[i].<span class="built_in">push_back</span>(flag[j]);<span class="comment">//每个合理的数如果与当前行匹配 就加入a[i]</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="优先队列"><a href="#优先队列" class="headerlink" title="优先队列"></a>优先队列</h3><p>#include<queue> 和队列基本操作相同:<br>top 访问队头元素<br>empty 队列是否为空<br>size 返回队列内元素个数<br>push 插入元素到队尾 (并排序)<br>emplace 原地构造一个元素并插入队列<br>pop 弹出队头元素<br>swap 交换内容</p>
<p>priority_queue &lt;int,vector<int>,greater<int> &gt; q;<br>//降序队列，大顶堆<br>priority_queue &lt;int,vector<int>,less<int> &gt;q;<br>//greater和less是std实现的两个仿函数（就是使一个类的使用看上去像一个函数。其实现就是类中实现一个operator()，这个类就有了类似函数的行为，就是一个仿函数类了）<br>①基本类型优先队列的例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">②用pair做优先队列元素的例子：//规则：pair的比较，先比较第一个元素，第一个相等比较第二个。</span><br><span class="line"></span><br><span class="line">//方法1</span><br><span class="line">struct tmp1 //运算符重载&lt;</span><br><span class="line">&#123;</span><br><span class="line">int x;</span><br><span class="line">tmp1(int a) &#123;x = a;&#125;</span><br><span class="line">bool operator&lt;(const tmp1&amp; a) const</span><br><span class="line">	&#123;</span><br><span class="line">return x &lt; a.x; //大顶堆</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//方法二</span><br><span class="line">struct tmp2 //重写仿函数</span><br><span class="line">&#123;</span><br><span class="line">bool operator() (tmp1 a, tmp1 b)</span><br><span class="line">	&#123;</span><br><span class="line">return a.x &lt; b.x; //大顶堆</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">tmp1 a(1);</span><br><span class="line">tmp1 b(2);</span><br><span class="line">tmp1 c(3);</span><br><span class="line">priority_queue&lt;tmp1&gt; d;</span><br><span class="line">d.push(b);</span><br><span class="line">d.push(c);</span><br><span class="line">d.push(a);</span><br><span class="line">while (!d.empty())</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; d.top().x &lt;&lt; &#x27;\n&#x27;;</span><br><span class="line">d.pop();</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">priority_queue&lt;tmp1, vector&lt;tmp1&gt;, tmp2&gt; f;</span><br><span class="line">f.push(b);</span><br><span class="line">f.push(c);</span><br><span class="line">f.push(a);</span><br><span class="line">while (!f.empty())</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; f.top().x &lt;&lt; &#x27;\\n&#x27;;</span><br><span class="line">    f.pop();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="string"><a href="#string" class="headerlink" title="string"></a>string</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">//获取字符串长度</span><br><span class="line">**int length = str1.length();**</span><br><span class="line">//字符串连接</span><br><span class="line">**string str4 = str1 + str3;**</span><br><span class="line">//字符串比较</span><br><span class="line">**if (str1 &lt; str3)**</span><br><span class="line">//获取字符串的第一个字符</span><br><span class="line">**string::const_iterator it = str1.begin();**</span><br><span class="line">//获取字符串的最后一个字符</span><br><span class="line">**it = str1.end();**</span><br><span class="line">//倒置串</span><br><span class="line">**reverse(str1.begin(), str1.end());**</span><br><span class="line">//查找串</span><br><span class="line">//find-从指定位置起向后查找，直到串尾</span><br><span class="line">string st1(&quot;babbabab&quot;);</span><br><span class="line">**cout &lt;&lt; st1.find(&#x27;a&#x27;) &lt;&lt; endl;**//默认从位置0（即第1个字符）开始查找</span><br><span class="line">**cout &lt;&lt; st1.find(&#x27;a&#x27;, 2) &lt;&lt; endl;**//在st1中，从位置2（b，包括位置2）开始查找a返回匹配的位置</span><br><span class="line">**cout &lt;&lt; (st1.find(&#x27;c&#x27;, 0) == -1)** &lt;&lt; endl;//1</span><br><span class="line">**cout &lt;&lt; st2.find(str1, 2) &lt;&lt; endl;**//从st2的位置2开始匹配，返回第一次成功匹配时匹配的串</span><br><span class="line">str1的首字符在st2中的位置，失败返回-1</span><br><span class="line">//rfind-从指定位置起向前查找，直到串首</span><br><span class="line">**cout &lt;&lt; st1.rfind(&#x27;a&#x27;, 7) &lt;&lt; endl;**</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<pre><code>                                                博弈论
</code></pre>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">巴什博伊：只有一堆n个物品，两个人轮流从这堆物品中取物，规 定每次至少取一个，最多取m个。</span><br><span class="line">         最后取光者得胜。</span><br><span class="line">分析：如果n=m+<span class="number">1</span>,无论先取者拿走多少，后取者必胜。</span><br><span class="line">			给对手留下m+<span class="number">1</span>的倍数  那么就是必胜局</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">main</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n,m,a;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;n&gt;&gt;m)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(n==m+<span class="number">1</span>)</span><br><span class="line">            cout&lt;&lt;后者胜利;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>((n%(m+<span class="number">1</span>))&lt;=m&amp;&amp;(n%(m+<span class="number">1</span>))!=<span class="number">0</span>)</span><br><span class="line">                cout&lt;&lt;前者胜利;</span><br><span class="line">            <span class="keyword">else</span>    cout&lt;&lt;后者胜利 ;</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">威佐夫博弈：有两堆各若干个物品，两个人轮流从某一堆或同时从两堆中取同样多的物品，</span><br><span class="line">            规定每次至少取一个，多者不限，最后取光者得胜。</span><br><span class="line">奇异局势公式：a[k]=[k*(<span class="number">1</span>+√<span class="number">5</span>)/<span class="number">2</span>]，b[k]=a[k]+k</span><br><span class="line">当面对奇异局势时 必输</span><br><span class="line">以有的奇异局势：（<span class="number">0</span>，<span class="number">0</span>）、（<span class="number">1</span>，<span class="number">2</span>）、（<span class="number">3</span>，<span class="number">5</span>）、（<span class="number">4</span>，<span class="number">7</span>）、（<span class="number">6</span>，<span class="number">10</span>）</span><br><span class="line">（<span class="number">8</span>，<span class="number">13</span>）、（<span class="number">9</span>，<span class="number">15</span>）、（<span class="number">11</span>，<span class="number">18</span>）、（<span class="number">12</span>，<span class="number">20</span>）</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">main</span>() &#123;</span><br><span class="line">    <span class="keyword">int</span> A, B;</span><br><span class="line">    <span class="keyword">while</span> (cin &gt;&gt; A &gt;&gt; B) &#123;</span><br><span class="line">        <span class="keyword">if</span> (A &gt; B) <span class="built_in">swap</span>(A, B);</span><br><span class="line">        <span class="keyword">int</span> K = B - A;</span><br><span class="line">        <span class="keyword">if</span> ((<span class="keyword">int</span>)(K * (<span class="number">1</span> + <span class="built_in">sqrt</span>(<span class="number">5</span>)) / <span class="number">2</span>) == A)</span><br><span class="line">            cout &lt;&lt; 后者胜利 &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            cout &lt;&lt; 前者胜利 &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Nim取石子   有n堆石子，第i堆有A(i)颗石子。两人依次从中拿取，规定每次只能从</span></span><br><span class="line">              一堆中取若干根，可将一堆全取走，但不可不取，最后取完者为胜</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a=<span class="number">0</span>;</span><br><span class="line">	cin&gt;&gt;n;<span class="comment">//有n堆石子</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;++i)&#123;</span><br><span class="line">		cin&gt;&gt;m;<span class="comment">//m代表当前堆有多少个石子</span></span><br><span class="line">		a^=m; </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(a) 先手赢 <span class="comment">//a&gt;0为利己态</span></span><br><span class="line">	<span class="keyword">else</span> 后手赢  <span class="comment">//a=0为利他态</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="高精度"><a href="#高精度" class="headerlink" title="高精度"></a>高精度</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line">正整数间的加 乘 除 余 减 （减法结果不能为负数）</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">bign</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> d[maxn], len;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">clean</span><span class="params">()</span> </span>&#123; <span class="keyword">while</span>(len &gt; <span class="number">1</span> &amp;&amp; !d[len<span class="number">-1</span>]) len--; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">bign</span>() 			&#123; <span class="built_in">memset</span>(d, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(d)); len = <span class="number">1</span>; &#125;</span><br><span class="line">    <span class="built_in">bign</span>(<span class="keyword">int</span> num) 	&#123; *<span class="keyword">this</span> = num; &#125;</span><br><span class="line">	<span class="built_in">bign</span>(<span class="keyword">char</span>* num) &#123; *<span class="keyword">this</span> = num; &#125;</span><br><span class="line">    bign <span class="keyword">operator</span> = (<span class="keyword">const</span> <span class="keyword">char</span>* num)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(d, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(d)); len = <span class="built_in">strlen</span>(num);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) d[i] = num[len<span class="number">-1</span>-i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        <span class="built_in">clean</span>();</span><br><span class="line">		<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    bign <span class="keyword">operator</span> = (<span class="keyword">int</span> num)&#123;</span><br><span class="line">        <span class="keyword">char</span> s[<span class="number">20</span>]; <span class="built_in">sprintf</span>(s, <span class="string">&quot;%d&quot;</span>, num);</span><br><span class="line">        *<span class="keyword">this</span> = s;</span><br><span class="line">		<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    bign <span class="keyword">operator</span> + (<span class="keyword">const</span> bign&amp; b)&#123;</span><br><span class="line">        bign c = *<span class="keyword">this</span>; <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; b.len; i++)&#123;</span><br><span class="line">        	c.d[i] += b.d[i];</span><br><span class="line">        	<span class="keyword">if</span> (c.d[i] &gt; <span class="number">9</span>) c.d[i]%=<span class="number">10</span>, c.d[i+<span class="number">1</span>]++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span> (c.d[i] &gt; <span class="number">9</span>) c.d[i++]%=<span class="number">10</span>, c.d[i]++;</span><br><span class="line">		c.len = <span class="built_in">max</span>(len, b.len);</span><br><span class="line">		<span class="keyword">if</span> (c.d[i] &amp;&amp; c.len &lt;= i) c.len = i+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">    bign <span class="keyword">operator</span> - (<span class="keyword">const</span> bign&amp; b)&#123;</span><br><span class="line">        bign c = *<span class="keyword">this</span>; <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; b.len; i++)&#123;</span><br><span class="line">        	c.d[i] -= b.d[i];</span><br><span class="line">        	<span class="keyword">if</span> (c.d[i] &lt; <span class="number">0</span>) c.d[i]+=<span class="number">10</span>, c.d[i+<span class="number">1</span>]--;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span> (c.d[i] &lt; <span class="number">0</span>) c.d[i++]+=<span class="number">10</span>, c.d[i]--;</span><br><span class="line">		c.<span class="built_in">clean</span>();</span><br><span class="line">		<span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">    bign <span class="keyword">operator</span> * (<span class="keyword">const</span> bign&amp; b)<span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, j; bign c; c.len = len + b.len;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; b.len; j++) <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">			c.d[i+j] += d[i] * b.d[j];</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; c.len<span class="number">-1</span>; i++)</span><br><span class="line">            c.d[i+<span class="number">1</span>] += c.d[i]/<span class="number">10</span>, c.d[i] %= <span class="number">10</span>;</span><br><span class="line">        c.<span class="built_in">clean</span>();</span><br><span class="line">		<span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">    bign <span class="keyword">operator</span> / (<span class="keyword">const</span> bign&amp; b)&#123;</span><br><span class="line">    	<span class="keyword">int</span> i, j;</span><br><span class="line">		bign c = *<span class="keyword">this</span>, a = <span class="number">0</span>;</span><br><span class="line">    	<span class="keyword">for</span> (i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">    	&#123;</span><br><span class="line">    		a = a*<span class="number">10</span> + d[i];</span><br><span class="line">    		<span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) <span class="keyword">if</span> (a &lt; b*(j+<span class="number">1</span>)) <span class="keyword">break</span>;</span><br><span class="line">    		c.d[i] = j;</span><br><span class="line">    		a = a - b*j;</span><br><span class="line">    	&#125;</span><br><span class="line">    	c.<span class="built_in">clean</span>();</span><br><span class="line">    	<span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">    bign <span class="keyword">operator</span> % (<span class="keyword">const</span> bign&amp; b)&#123;</span><br><span class="line">    	<span class="keyword">int</span> i, j;</span><br><span class="line">		bign a = <span class="number">0</span>;</span><br><span class="line">    	<span class="keyword">for</span> (i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">    	&#123;</span><br><span class="line">    		a = a*<span class="number">10</span> + d[i];</span><br><span class="line">    		<span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) <span class="keyword">if</span> (a &lt; b*(j+<span class="number">1</span>)) <span class="keyword">break</span>;</span><br><span class="line">    		a = a - b*j;</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">	bign <span class="keyword">operator</span> += (<span class="keyword">const</span> bign&amp; b)&#123;</span><br><span class="line">        *<span class="keyword">this</span> = *<span class="keyword">this</span> + b;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(<span class="keyword">const</span> bign&amp; b) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(len != b.len) <span class="keyword">return</span> len &lt; b.len;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = len<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">            <span class="keyword">if</span>(d[i] != b.d[i]) <span class="keyword">return</span> d[i] &lt; b.d[i];</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &gt;(<span class="keyword">const</span> bign&amp; b) <span class="keyword">const</span>&#123;<span class="keyword">return</span> b &lt; *<span class="keyword">this</span>;&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;=(<span class="keyword">const</span> bign&amp; b) <span class="keyword">const</span>&#123;<span class="keyword">return</span> !(b &lt; *<span class="keyword">this</span>);&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;=(<span class="keyword">const</span> bign&amp; b) <span class="keyword">const</span>&#123;<span class="keyword">return</span> !(*<span class="keyword">this</span> &lt; b);&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> bign&amp; b) <span class="keyword">const</span>&#123;<span class="keyword">return</span> b &lt; *<span class="keyword">this</span> || *<span class="keyword">this</span> &lt; b;&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> bign&amp; b) <span class="keyword">const</span>&#123;<span class="keyword">return</span> !(b &lt; *<span class="keyword">this</span>) &amp;&amp; !(b &gt; *<span class="keyword">this</span>);&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">()</span> <span class="keyword">const</span></span>&#123;</span><br><span class="line">        <span class="keyword">char</span> s[maxn]=&#123;&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) s[len<span class="number">-1</span>-i] = d[i]+<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">istream&amp; <span class="keyword">operator</span> &gt;&gt; (istream&amp; in, bign&amp; x)</span><br><span class="line">&#123;</span><br><span class="line">    string s;</span><br><span class="line">    in &gt;&gt; s;</span><br><span class="line">    x = s.<span class="built_in">c_str</span>();</span><br><span class="line">    <span class="keyword">return</span> in;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ostream&amp; <span class="keyword">operator</span> &lt;&lt; (ostream&amp; out, <span class="keyword">const</span> bign&amp; x)</span><br><span class="line">&#123;</span><br><span class="line">    out &lt;&lt; x.<span class="built_in">str</span>();</span><br><span class="line">    <span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>/约瑟夫环</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ans</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i,yue;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">1</span>,yue=<span class="number">0</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		yue=(yue<span class="number">-1</span>+m)%i+<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> (yue);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">8005</span>;</span><br><span class="line"><span class="keyword">int</span> A[N];</span><br><span class="line"><span class="keyword">int</span> cnt[N];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l,r;</span><br><span class="line">    <span class="keyword">int</span> date = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">int</span> lazy = - <span class="number">1</span>;</span><br><span class="line">&#125;tree[N*<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> maxn = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_up</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// -2是很多颜色，-1是没有颜色,</span></span><br><span class="line">    <span class="keyword">if</span>( tree[rt &lt;&lt; <span class="number">1</span>].date == <span class="number">-2</span> || tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].date == <span class="number">-2</span> ) tree[rt].date = <span class="number">-2</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( tree[rt &lt;&lt; <span class="number">1</span>].date == tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].date &amp;&amp; tree[rt &lt;&lt; <span class="number">1</span>].date == <span class="number">-1</span> ) tree[rt].date = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( tree[rt &lt;&lt; <span class="number">1</span>].date == <span class="number">-1</span>  &amp;&amp; tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].date != <span class="number">-1</span> ) tree[rt].date = tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].date;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( tree[rt &lt;&lt; <span class="number">1</span>].date != <span class="number">-1</span> &amp;&amp; tree[rt &lt;&lt;<span class="number">1</span>|<span class="number">1</span>].date == <span class="number">-1</span>) tree[rt].date = tree[rt &lt;&lt; <span class="number">1</span>].date;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tree[rt].l = l , tree[rt].r = r;</span><br><span class="line">    <span class="keyword">if</span>( tree[rt].l == tree[rt].r )</span><br><span class="line">    &#123;</span><br><span class="line">        tree[rt].lazy = tree[rt].date = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid= (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build</span>(rt &gt;&gt; <span class="number">1</span>, l ,mid);</span><br><span class="line">    <span class="built_in">build</span>(rt &gt;&gt; <span class="number">1</span>,mid +<span class="number">1</span> ,l);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_down</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> l ,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( tree[rt].lazy != <span class="number">-1</span> )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> lazy = tree[rt].lazy;</span><br><span class="line">        tree[rt &lt;&lt; <span class="number">1</span>].date = lazy;</span><br><span class="line">        tree[rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span>].date = lazy;</span><br><span class="line">        tree[rt &lt;&lt;<span class="number">1</span>|<span class="number">1</span>].lazy = lazy;</span><br><span class="line">        tree[rt &lt;&lt; <span class="number">1</span>].lazy = lazy;</span><br><span class="line">        tree[rt].lazy = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rangeUpdate</span><span class="params">(<span class="keyword">int</span> rt,<span class="keyword">int</span> l,<span class="keyword">int</span> r,<span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( l &lt;= tree[rt].l &amp;&amp; r &gt;= tree[rt].r )</span><br><span class="line">    &#123;</span><br><span class="line">        tree[rt].date = val;</span><br><span class="line">        tree[rt].lazy = val;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>( tree[rt].l &gt; r || tree[rt].r &lt; l ) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = ( tree[rt].l +tree[rt].r ) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">push_down</span>(rt,tree[rt].l,tree[rt].r);</span><br><span class="line">        <span class="keyword">if</span>(l &lt;= mid) <span class="built_in">rangeUpdate</span>( rt&lt;&lt; <span class="number">1</span>,l ,r,val );</span><br><span class="line">        <span class="keyword">if</span>( r &gt; mid ) <span class="built_in">rangeUpdate</span>( rt &lt;&lt; <span class="number">1</span>|<span class="number">1</span> , l, r,val );</span><br><span class="line">        <span class="built_in">push_up</span>(rt);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Query</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l ,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="keyword">if</span>( tree[rt].l == tree[rt].r )   <span class="keyword">return</span> tree[rt].date;</span><br><span class="line">     <span class="keyword">else</span> <span class="keyword">if</span>( tree[rt].l &gt; r || tree[rt].r &lt; l ) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">     &#123;</span><br><span class="line">         <span class="built_in">push_down</span>(rt,tree[rt].l,tree[rt].r);</span><br><span class="line">         <span class="keyword">int</span> mid = ( tree[rt].l + tree[rt].r ) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">         <span class="keyword">if</span>( l &lt;= mid ) <span class="keyword">return</span> <span class="built_in">Query</span>( rt &gt;&gt; <span class="number">1</span>, l ,r );</span><br><span class="line">         <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">Query</span>( rt &gt;&gt;<span class="number">1</span>|<span class="number">1</span>,l,r );</span><br><span class="line"></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ans</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> las = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= maxn ; i++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> no = <span class="built_in">Query</span>(<span class="number">1</span>,i,i);</span><br><span class="line">        <span class="keyword">if</span>( i != <span class="number">1</span> &amp;&amp; no == las)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(i != <span class="number">1</span> &amp;&amp; no != las)</span><br><span class="line">        &#123;</span><br><span class="line">            cnt[no]++;</span><br><span class="line">        &#125;</span><br><span class="line">        las = no;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt;= <span class="number">8000</span> ; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>( cnt[i] != <span class="number">0</span> )</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; i &lt;&lt; cnt[i] &lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(cin &gt;&gt; n)</span><br><span class="line">    &#123;</span><br><span class="line">        maxn = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(cnt,<span class="number">0</span>,<span class="keyword">sizeof</span> cnt);</span><br><span class="line">        <span class="keyword">int</span> x,y,z;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;n ; i++)&#123;</span><br><span class="line">            cin &gt;&gt;x &gt;&gt; y &gt;&gt; z;</span><br><span class="line">            <span class="comment">///把区间，变成格子</span></span><br><span class="line">            maxn = <span class="built_in">max</span>(x,<span class="built_in">max</span>(y,maxn) );</span><br><span class="line">            <span class="built_in">rangeUpdate</span>(<span class="number">1</span>,x+<span class="number">1</span>,y,z);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">ans</span>();</span><br><span class="line">        <span class="comment">//for(int i = 1; i &lt;= 1000 ; i++)cout &lt;&lt; tree[i].date &lt;&lt; endl;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:Hoppz520@163.com">Hoppz</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://hoppz.github.io/2020/12/10/Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/">https://hoppz.github.io/2020/12/10/Hoppz%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://hoppz.github.io" target="_blank">HoppzBlog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/ACM/">ACM</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2021/08/03/kZaRI3WNvuLfyKc.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2020/12/10/%E8%A1%A5%E9%A2%98/"><img class="prev-cover" src="https://i.loli.net/2021/08/03/kZaRI3WNvuLfyKc.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">补题</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2020/12/10/补题/" title="补题"><img class="cover" src="https://i.loli.net/2021/08/03/kZaRI3WNvuLfyKc.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-12-10</div><div class="title">补题</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">**1____**前言</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AF%8F%E6%97%A5%E4%B8%80%E9%81%8D%EF%BC%8C%E6%88%91%E7%9C%9F%E7%9A%84%E5%A5%BD%E8%8F%9C"><span class="toc-number">1.1.</span> <span class="toc-text">每日一遍，我真的好菜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E5%9F%BA%E7%A1%80%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">1.2.</span> <span class="toc-text">1.2____基础注意事项</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-1-%E5%85%B3%E4%BA%8Ecin%E8%A7%A3%E7%BB%91cout%E5%8A%A0%E9%80%9F"><span class="toc-number">1.2.1.</span> <span class="toc-text">*1.2.1____*关于cin解绑cout加速</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-2-%E5%85%B3%E4%BA%8E%E5%AE%8F%E5%AE%9A%E4%B9%89%EF%BC%8Ctypedef%E4%B8%8E%E5%BC%95%E7%94%A8%EF%BC%88%E6%AF%8F%E6%AC%A1%E9%83%BD%E8%A6%81%E8%AE%B0%E9%94%99%E2%80%A6-%EF%BC%89"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2.2____关于宏定义，typedef与引用（每次都要记错….）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-3-%E4%B8%80%E4%BA%9B%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.3.</span> <span class="toc-text">1.2.3____一些测试方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-%E7%89%B9%E6%AE%8A%E5%87%BD%E6%95%B0%E5%BD%92%E7%BA%B3"><span class="toc-number">1.3.</span> <span class="toc-text">1.3____特殊函数归纳</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D"><span class="toc-number">1.4.</span> <span class="toc-text">*1.4____*动态内存分配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-%E5%8A%A0%E5%BC%BAfor%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.5.</span> <span class="toc-text">*1.5____*加强for循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-6-STL%E6%A6%82%E8%BF%B0"><span class="toc-number">1.6.</span> <span class="toc-text">1.6____STL概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-7-%E5%BF%AB%E8%AF%BB%E5%BF%AB%E8%BE%93"><span class="toc-number">1.7.</span> <span class="toc-text">1.7____快读快输</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-8-%E5%85%B3%E4%BA%8E%E5%8F%96%E6%A8%A1"><span class="toc-number">1.8.</span> <span class="toc-text">1.8____关于取模</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-9-bitset%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">1.9.</span> <span class="toc-text">1.9____bitset基本操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-10-%E5%85%B3%E4%BA%8Efloor%E5%AF%B9%E5%B0%8F%E6%95%B0%E7%9A%84%E5%90%91%E4%B8%8B%E5%8F%96%E6%95%B4"><span class="toc-number">1.10.</span> <span class="toc-text">1.10____关于floor对小数的向下取整</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-11-%E5%85%B3%E4%BA%8Estl%E4%B8%ADend-begin-rbegin-rend"><span class="toc-number">1.11.</span> <span class="toc-text">1.11____关于stl中end(),begin(),rbegin(),rend()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-12-%E5%85%B3%E4%BA%8E%E5%8F%96%E6%A8%A1"><span class="toc-number">1.12.</span> <span class="toc-text">1.12____关于取模</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-13-String-%E4%B8%8E-char-%E8%AF%BB%E5%85%A5"><span class="toc-number">1.13.</span> <span class="toc-text">1.13____String 与 char[ ] 读入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-14-String-%E4%B8%8E-char-%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">1.14.</span> <span class="toc-text">1.14____String 与 char[ ] 的函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E-string%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">1.14.1.</span> <span class="toc-text">关于 string的知识点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C%E8%89%B9%E7%9A%84String%E6%8E%A5%E5%8F%A3%E4%B8%8E%E5%87%BD%E6%95%B0"><span class="toc-number">1.14.2.</span> <span class="toc-text">C艹的String接口与函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#string%E7%9A%84%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0"><span class="toc-number">1.14.3.</span> <span class="toc-text">string的其他函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#char-%E8%BD%AC-int"><span class="toc-number">1.14.4.</span> <span class="toc-text">char 转 int</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-15-%E4%BB%BB%E6%84%8F%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.15.</span> <span class="toc-text">1.15____任意进制转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-16-%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4"><span class="toc-number">1.16.</span> <span class="toc-text">1.16____数据范围</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-17-cin%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA"><span class="toc-number">1.17.</span> <span class="toc-text">1.17____cin格式化输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-18-cout%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA"><span class="toc-number">1.18.</span> <span class="toc-text">1.18____cout格式化输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-19-count-if-%E5%87%BD%E6%95%B0"><span class="toc-number">1.19.</span> <span class="toc-text">1.19____ count_if()函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-20-generate-%E5%87%BD%E6%95%B0"><span class="toc-number">1.20.</span> <span class="toc-text">1.20____generate() 函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-21-lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.21.</span> <span class="toc-text">1.21____lambda表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-22-%E5%86%8D%E8%B0%88%E4%BA%8C%E8%BF%9B%E5%88%B6"><span class="toc-number">1.22.</span> <span class="toc-text">1.22____再谈二进制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-22-1-%E8%BE%93%E5%87%BA%E4%B8%80%E4%B8%AA%E6%95%B0%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6"><span class="toc-number">1.22.0.1.</span> <span class="toc-text">1.22.1____输出一个数的二进制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-22-2-%E5%88%A4%E6%96%AD%E5%A5%87%E6%95%B0%EF%BC%8C%E5%81%B6%E6%95%B0"><span class="toc-number">1.22.0.2.</span> <span class="toc-text">1.22.2____判断奇数，偶数</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E7%AE%97%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">2____算法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91"><span class="toc-number">2.1.</span> <span class="toc-text">2.1____哈夫曼树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E5%85%A8%E6%8E%92%E5%88%97"><span class="toc-number">2.2.</span> <span class="toc-text">2.2____ 全排列</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E5%BF%AB%E9%80%9F%E5%B9%82"><span class="toc-number">2.3.</span> <span class="toc-text">2.3____快速幂</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-%E5%A4%A7%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97%EF%BC%881e9%EF%BC%89"><span class="toc-number">2.4.</span> <span class="toc-text">2.4____大斐波那契数列（1e9）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%9E%9A%E4%B8%BE"><span class="toc-number">2.5.</span> <span class="toc-text">2.5____二进制枚举</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-%E7%A6%BB%E6%95%A3%E5%8C%96"><span class="toc-number">2.6.</span> <span class="toc-text">2.6____离散化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#include-%E5%93%88%E5%B8%8C%E8%A1%A8"><span class="toc-number">2.6.1.</span> <span class="toc-text">#include  &#x2F;&#x2F;&#x2F;哈希表</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-%E5%89%8D%E7%BC%80%E5%92%8C"><span class="toc-number">2.7.</span> <span class="toc-text">2.7____前缀和</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%B1%82%E5%89%8Di%E4%B8%AA%E6%95%B0%E7%9A%84%E5%92%8C"><span class="toc-number">2.7.1.</span> <span class="toc-text">一、求前i个数的和</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%B1%82-l-r-%E5%8C%BA%E9%97%B4%E7%9A%84%E5%92%8C"><span class="toc-number">2.7.2.</span> <span class="toc-text">二、求[ l , r ]区间的和</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-8-%E5%B7%AE%E5%88%86"><span class="toc-number">2.8.</span> <span class="toc-text">2.8____差分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-9-%E4%BA%8C%E5%88%86"><span class="toc-number">2.9.</span> <span class="toc-text">2.9____二分</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%9C%80%E5%A4%A7%E5%8C%96%E6%9C%80%E5%B0%8F%E5%80%BC"><span class="toc-number">2.9.1.</span> <span class="toc-text">1.最大化最小值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%9C%80%E5%A4%A7%E5%8C%96%E5%B9%B3%E5%9D%87%E5%80%BC"><span class="toc-number">2.9.2.</span> <span class="toc-text">2.最大化平均值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-10-%E5%B0%BA%E5%8F%96%E6%B3%95%EF%BC%8CTwo-Pointer-%EF%BC%8C%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95"><span class="toc-number">2.10.</span> <span class="toc-text">2.1.10____尺取法，Two-Pointer ，双指针算法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-11-%E4%B8%89%E5%88%86"><span class="toc-number">2.11.</span> <span class="toc-text">2.1.11____三分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-12-%E6%9E%9A%E4%B8%BE"><span class="toc-number">2.12.</span> <span class="toc-text">2.1.12____枚举</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-13-%E6%97%A5%E6%9C%9F%E9%A2%98"><span class="toc-number">2.13.</span> <span class="toc-text">2.1.13____日期题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E5%88%86%E7%A7%92%E8%AE%A1%E7%AE%97"><span class="toc-number">2.14.</span> <span class="toc-text">时分秒计算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-13-%E6%A8%A1%E6%8B%9F%E9%80%80%E7%81%AB"><span class="toc-number">2.15.</span> <span class="toc-text">2.1.13____模拟退火</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">3.</span> <span class="toc-text">3____数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E5%8D%95%E9%93%BE%E8%A1%A8"><span class="toc-number">3.1.</span> <span class="toc-text">3.1____单链表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86%E4%B8%8E%E5%BB%BA%E6%A0%91"><span class="toc-number">3.2.</span> <span class="toc-text">*3.2____*树的遍历与建树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8E%E5%BA%8F-%E4%B8%AD%E5%BA%8F%E5%BB%BA%E6%A0%91-%E5%85%88%E5%BA%8F-%E4%B8%AD%E5%BA%8F%E5%BB%BA%E6%A0%91"><span class="toc-number">3.3.</span> <span class="toc-text">后序+中序建树  || 先序+中序建树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E5%B9%B6%E6%9F%A5%E9%9B%86"><span class="toc-number">3.4.</span> <span class="toc-text">3.3____并查集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-%E7%BA%BF%E6%AE%B5%E6%A0%91"><span class="toc-number">3.5.</span> <span class="toc-text">3.4____线段树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E7%82%B9%E6%9B%B4%E6%96%B0%EF%BC%8C%E5%8C%BA%E9%97%B4%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.5.1.</span> <span class="toc-text">单点更新，区间查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BA%E9%97%B4%E6%9B%B4%E6%96%B0%EF%BC%8C%E5%8C%BA%E9%97%B4%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.5.2.</span> <span class="toc-text">区间更新，区间查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-1-%E5%8C%BA%E9%97%B4%E6%9F%93%E8%89%B2%E9%97%AE%E9%A2%98"><span class="toc-number">3.5.3.</span> <span class="toc-text">3.4.1____区间染色问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-3-%E6%89%AB%E6%8F%8F%E7%BA%BF"><span class="toc-number">3.5.4.</span> <span class="toc-text">3.4.3____扫描线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-5-%E6%9C%80%E5%A4%A7%E8%BF%9E%E7%BB%AD%E5%8C%BA%E9%97%B4-%E4%B8%8E%E5%8C%BA%E9%97%B4%E6%9C%80%E5%A4%A7%E5%AD%90%E6%AE%B5%E5%92%8C%E5%B7%AE%E4%B8%8D%E5%A4%9A"><span class="toc-number">3.5.5.</span> <span class="toc-text">3.4.5____最大连续区间( 与区间最大子段和差不多 )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-6-DFS%E5%BA%8F%E5%BB%BA%E6%A0%91"><span class="toc-number">3.5.6.</span> <span class="toc-text">3.4.6____DFS序建树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-7-%E5%8A%A8%E6%80%81%E5%BC%80%E7%82%B9"><span class="toc-number">3.5.7.</span> <span class="toc-text">3.4.7____动态开点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-8-%E4%BA%8C%E5%88%86-%E7%BA%BF%E6%AE%B5%E6%A0%91"><span class="toc-number">3.5.8.</span> <span class="toc-text">3.4.8____二分+线段树</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5-%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84"><span class="toc-number">3.6.</span> <span class="toc-text">3.5____树状数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-6-%E5%A0%86"><span class="toc-number">3.7.</span> <span class="toc-text">3.6____堆</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-7-%E9%93%BE%E5%BC%8F%E5%89%8D%E5%90%91%E6%98%9F"><span class="toc-number">3.8.</span> <span class="toc-text">3.7____链式前向星</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%89%8D%E5%90%91%E6%98%9F%EF%BC%9F"><span class="toc-number">3.8.1.</span> <span class="toc-text">什么是前向星？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-8-%E5%8F%AF%E6%8C%81%E7%BB%AD%E5%8C%96%E7%BA%BF%E6%AE%B5%E6%A0%91%EF%BC%88%E4%B8%BB%E5%B8%AD%E6%A0%91%EF%BC%89"><span class="toc-number">3.9.</span> <span class="toc-text">3.8____可持续化线段树（主席树）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-8-1-%E6%9D%83%E5%80%BC%E7%BA%BF%E6%AE%B5%E6%A0%91"><span class="toc-number">3.9.1.</span> <span class="toc-text">3.8.1____权值线段树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-8-2-%E4%B8%BB%E5%B8%AD%E6%A0%91%EF%BC%88%E5%8F%AF%E6%8C%81%E7%BB%AD%E5%8C%96%E7%BA%BF%E6%AE%B5%E6%A0%91%EF%BC%89"><span class="toc-number">3.9.2.</span> <span class="toc-text">3.8.2____主席树（可持续化线段树）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-9-%E5%8F%AF%E6%8C%81%E7%BB%AD%E5%8C%96%E5%AD%97%E5%85%B8%E6%A0%91"><span class="toc-number">3.10.</span> <span class="toc-text">3.9____可持续化字典树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-10-%E6%A0%88"><span class="toc-number">3.11.</span> <span class="toc-text">3.10____栈</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-10-1-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B1%82%E5%80%BC"><span class="toc-number">3.11.1.</span> <span class="toc-text">3.10.1____表达式求值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B1%82%E5%80%BC"><span class="toc-number">3.12.</span> <span class="toc-text">中缀表达式求值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-11-%E5%88%86%E5%9D%97%E6%80%9D%E6%83%B3%EF%BC%88%E6%95%B0%E5%88%97%E5%88%86%E5%9D%97%EF%BC%89"><span class="toc-number">3.13.</span> <span class="toc-text">3.11____分块思想（数列分块）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6280-%E6%95%B0%E5%88%97%E5%88%86%E5%9D%97%E5%85%A5%E9%97%A8-4"><span class="toc-number">4.</span> <span class="toc-text">6280. 数列分块入门 4</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92"><span class="toc-number">5.</span> <span class="toc-text">4____动态规划</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">5.1.</span> <span class="toc-text">4.1____背包问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-1-01%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%E2%80%94%E2%80%94n%E4%B8%AA%E4%B8%9C%E8%A5%BF%E9%87%8C%E9%80%89%E4%BB%BB%E6%84%8F%E4%B8%AA%E5%87%BA%E6%9D%A5"><span class="toc-number">5.1.1.</span> <span class="toc-text">4.1.1____01背包问题——n个东西里选任意个出来</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-2-%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">5.1.2.</span> <span class="toc-text">4.1.2___完全背包问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-3-%E5%A4%9A%E9%87%8D%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-number">5.1.3.</span> <span class="toc-text">4.1.3____多重背包问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E6%9C%80%E9%95%BF%E4%B8%8A%E5%8D%87%E5%AD%90%E5%BA%8F%E5%88%97"><span class="toc-number">5.2.</span> <span class="toc-text">4.2____最长上升子序列</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E7%BB%88%E4%BB%A3%E7%A0%81"><span class="toc-number">5.2.1.</span> <span class="toc-text">最终代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%AD%90%E5%BA%8F%E5%88%97"><span class="toc-number">5.3.</span> <span class="toc-text">4.3____最长公共子序列</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#O-n-2-%E5%81%9A%E6%B3%95"><span class="toc-number">5.4.</span> <span class="toc-text">$ O(n^2) $ 做法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E5%9B%BE%E8%AE%BA"><span class="toc-number">6.</span> <span class="toc-text">5____图论</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1%E5%9B%BE%E4%B8%8A%E6%90%9C%E7%B4%A2"><span class="toc-number">6.1.</span> <span class="toc-text">5.1图上搜索</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-5-%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F"><span class="toc-number">6.2.</span> <span class="toc-text">5.5____拓扑排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-6-Dijkstra"><span class="toc-number">6.3.</span> <span class="toc-text">5.6____Dijkstra</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-7-spfa"><span class="toc-number">6.4.</span> <span class="toc-text">5.7___spfa</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-8-Bellman-ford"><span class="toc-number">6.5.</span> <span class="toc-text">5.8____Bellman-ford</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-9-Floyd"><span class="toc-number">6.6.</span> <span class="toc-text">5.9____Floyd</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-10-Prim"><span class="toc-number">6.7.</span> <span class="toc-text">5.10____Prim</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-11-Kruskal"><span class="toc-number">6.8.</span> <span class="toc-text">5.11____Kruskal</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-12-%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91"><span class="toc-number">6.9.</span> <span class="toc-text">5.12____最小生成树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-13-%E8%B4%9F%E7%8E%AF"><span class="toc-number">6.10.</span> <span class="toc-text">5.13____负环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-14-%E5%B7%AE%E5%88%86%E7%BA%A6%E6%9D%9F"><span class="toc-number">6.11.</span> <span class="toc-text">5.14____差分约束</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-15-%E6%9C%89%E5%90%91%E5%9B%BE%E7%9A%84%E5%BC%BA%E8%BF%9E%E9%80%9A%E5%88%86%E9%87%8F"><span class="toc-number">6.12.</span> <span class="toc-text">5.15____有向图的强连通分量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-16-%E6%97%A0%E5%90%91%E5%9B%BE%E7%9A%84%E5%8F%8C%E8%BF%9E%E9%80%9A%E5%88%86%E9%87%8F"><span class="toc-number">6.13.</span> <span class="toc-text">5.16____无向图的双连通分量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-17-%E4%BA%8C%E5%88%86%E5%9B%BE"><span class="toc-number">6.14.</span> <span class="toc-text">5.17____二分图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-18-%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F"><span class="toc-number">6.15.</span> <span class="toc-text">5.18____拓扑排序</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-%E6%95%B0%E8%AE%BA"><span class="toc-number">7.</span> <span class="toc-text">6____数论</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-%E4%B8%AD%E5%9B%BD%E5%89%A9%E4%BD%99%E5%AE%9A%E7%90%86"><span class="toc-number">7.1.</span> <span class="toc-text">6.1____中国剩余定理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-%E6%AC%A7%E6%8B%89%E5%87%BD%E6%95%B0%E7%BA%BF%E6%80%A7%E7%AD%9B"><span class="toc-number">7.2.</span> <span class="toc-text">6.2____欧拉函数线性筛</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3-%E6%89%A9%E5%B1%95%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E7%AE%97%E6%B3%95"><span class="toc-number">7.3.</span> <span class="toc-text">6.3____扩展欧几里得算法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-4-%E5%88%86%E8%A7%A3%E8%B4%A8%E5%9B%A0%E6%95%B0"><span class="toc-number">7.4.</span> <span class="toc-text">6.4____分解质因数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-5-%E6%B1%82%E7%B4%A0%E6%95%B0"><span class="toc-number">7.5.</span> <span class="toc-text">6.5____求素数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-6-%E6%B1%82%E7%BA%A6%E6%95%B0%E2%80%94%E2%80%94%E9%80%9A%E7%94%A8%E8%AF%95%E9%99%A4%E6%B3%95"><span class="toc-number">7.6.</span> <span class="toc-text">6.6____求约数——通用试除法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-7-%E6%AC%A7%E6%8B%89%E5%87%BD%E6%95%B0"><span class="toc-number">7.7.</span> <span class="toc-text">6.7____欧拉函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-%E6%90%9C%E7%B4%A2"><span class="toc-number">8.</span> <span class="toc-text">7____搜索</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-1-Flood-Fill%E7%AE%97%E6%B3%95"><span class="toc-number">8.1.</span> <span class="toc-text">7.1____Flood Fill算法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-2-%E6%9C%80%E5%B0%8F%E6%AD%A5%E6%95%B0%E6%A8%A1%E5%9E%8B"><span class="toc-number">8.2.</span> <span class="toc-text">7.2____最小步数模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-4-%E5%90%AF%E5%8F%91%E5%BC%8F%E6%90%9C%E7%B4%A2"><span class="toc-number">8.3.</span> <span class="toc-text">7.4____启发式搜索</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">9.</span> <span class="toc-text">8____字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#8-0-%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%85%B3%E7%9A%84%E4%B8%80%E4%BA%9B%E7%AE%97%E6%B3%95"><span class="toc-number">9.1.</span> <span class="toc-text">8.0____与字符串相关的一些算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%B7%E6%8B%93%E5%B1%95%E5%BC%80%EF%BC%88Cantor%EF%BC%89"><span class="toc-number">9.1.1.</span> <span class="toc-text">康拓展开（Cantor）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-1-%E5%89%8D%E7%BC%80%E5%87%BD%E6%95%B0%E4%B8%8EKMP-O-n-m"><span class="toc-number">9.2.</span> <span class="toc-text">8.1____前缀函数与KMP(O(n + m))</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-1-%E5%89%8D%E7%BC%80%E5%87%BD%E6%95%B0"><span class="toc-number">9.2.1.</span> <span class="toc-text">8.1.1____前缀函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-2-KMP%E7%AE%97%E6%B3%95"><span class="toc-number">9.2.2.</span> <span class="toc-text">8.1.2____KMP算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-3-next-%E6%95%B0%E7%BB%84%E5%9C%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%91%A8%E6%9C%9F%E6%80%A7%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">9.2.3.</span> <span class="toc-text">8.1.3____next[]数组在字符串周期性中的应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-4-%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%AD%90%E4%B8%B2%EF%BC%88%E5%B0%8F%E4%B8%B2%EF%BC%8C%E5%A4%9A%E9%9B%86%E5%90%88%EF%BC%89"><span class="toc-number">9.2.4.</span> <span class="toc-text">8.1.4____最长公共子串（小串，多集合）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Corporate-Identity"><span class="toc-number">9.3.</span> <span class="toc-text">Corporate Identity</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-2-Z%E5%87%BD%E6%95%B0%EF%BC%88%E6%89%A9%E5%B1%95KMP%EF%BC%89"><span class="toc-number">9.4.</span> <span class="toc-text">8.2____Z函数（扩展KMP）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-3-%E5%93%88%E5%B8%8C%E8%A1%A8"><span class="toc-number">9.5.</span> <span class="toc-text">8.3____哈希表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-1-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%89%8D%E7%BC%80%E5%93%88%E5%B8%8C%E6%B3%95"><span class="toc-number">9.5.1.</span> <span class="toc-text">8.3.1____字符串前缀哈希法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-4-AC%E8%87%AA%E5%8A%A8%E6%9C%BA"><span class="toc-number">9.6.</span> <span class="toc-text">8.4____AC自动机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-5-Tire%E5%AD%97%E5%85%B8%E6%A0%91"><span class="toc-number">9.7.</span> <span class="toc-text">8.5____Tire字典树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-6-Manacher-%E5%9B%9E%E6%96%87-%EF%BC%88O-N-%EF%BC%89"><span class="toc-number">9.8.</span> <span class="toc-text">8.6____Manacher(回文)（O(N)）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9-%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95"><span class="toc-number">10.</span> <span class="toc-text">9____计算几何</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#9-1-%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80"><span class="toc-number">10.1.</span> <span class="toc-text">9.1____数学基础</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-2-%E6%9D%BF%E5%AD%90"><span class="toc-number">10.2.</span> <span class="toc-text">9.2____板子</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E4%B9%98%E4%B8%8E%E5%BF%AB%E9%80%9F%E5%B9%82"><span class="toc-number">10.2.1.</span> <span class="toc-text">快乘与快速幂</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10-JAVA%E5%9C%A8ACM%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">11.</span> <span class="toc-text">10____JAVA在ACM中的应用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#10-1-Jave%E5%9C%A8%E7%AB%9E%E8%B5%9B%E4%B8%AD%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">11.1.</span> <span class="toc-text">10.1____Jave在竞赛中的基本操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-number">11.2.</span> <span class="toc-text">1.输入输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">11.3.</span> <span class="toc-text">2.定义变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-2-BigInteger%E5%A4%A7%E6%95%B4%E6%95%B0"><span class="toc-number">11.4.</span> <span class="toc-text">10.2____BigInteger大整数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-3-BigDecimal%E5%A4%A7%E6%B5%AE%E7%82%B9%E6%95%B0"><span class="toc-number">11.5.</span> <span class="toc-text">10.3____BigDecimal大浮点数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-3-1-%E6%B5%AE%E7%82%B9%E5%A4%A7%E6%95%B0%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA"><span class="toc-number">11.5.1.</span> <span class="toc-text">10.3.1____浮点大数的格式化输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-3-2-%E6%B5%AE%E7%82%B9%E5%A4%A7%E6%95%B0%E7%9A%84setscale%E6%96%B9%E6%B3%95"><span class="toc-number">11.5.2.</span> <span class="toc-text">10.3.2____浮点大数的setscale方法()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E8%AF%BB%E4%B8%8E%E5%BF%AB%E8%BE%93"><span class="toc-number">11.5.3.</span> <span class="toc-text">快读与快输</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E7%AD%9B%E8%B4%A8%E6%95%B0%EF%BC%8C%E6%AC%A7%E6%8B%89%E5%87%BD%E6%95%B0%EF%BC%8C%E8%8E%AB%E6%AF%94%E4%B9%8C%E6%96%AF%E5%87%BD%E6%95%B0"><span class="toc-number">12.</span> <span class="toc-text">线性筛质数，欧拉函数，莫比乌斯函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E8%A2%AB%E6%95%B4%E9%99%A4%E7%9A%84%E6%9D%A1%E4%BB%B6"><span class="toc-number">12.1.</span> <span class="toc-text">数被整除的条件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DFS%E4%B8%8EBFS"><span class="toc-number">12.2.</span> <span class="toc-text">DFS与BFS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DFS"><span class="toc-number">12.3.</span> <span class="toc-text">DFS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#BFS"><span class="toc-number">12.3.1.</span> <span class="toc-text">BFS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A6%E6%9D%83%E5%B9%B6%E6%9F%A5%E9%9B%86%E4%B8%8E%E7%A7%8D%E7%B1%BB%E5%B9%B6%E6%9F%A5%E9%9B%86"><span class="toc-number">12.3.2.</span> <span class="toc-text">带权并查集与种类并查集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97%E8%A7%A3%E5%86%B3%E5%9B%BA%E5%AE%9A%E5%8C%BA%E9%97%B4%E6%9C%80%E5%A4%A7%E6%9C%80%E5%B0%8F%E9%97%AE%E9%A2%98"><span class="toc-number">12.3.3.</span> <span class="toc-text">单调队列解决固定区间最大最小问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RMQ%E9%97%AE%E9%A2%98%E4%B8%8Est%E6%95%B0%E7%BB%84%E3%80%81%E7%BA%BF%E6%AE%B5%E6%A0%91"><span class="toc-number">12.3.4.</span> <span class="toc-text">RMQ问题与st数组、线段树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E5%BC%8F%E5%89%8D%E5%90%91%E6%98%9F%EF%BC%88-%E8%BF%AA%E6%9D%B0%E6%96%AF%E7%89%B9%E4%B8%8E%E4%BD%9B%E6%B4%9B%E4%BE%9D%E5%BE%B7%E7%AE%97%E6%B3%95%E9%87%8C-%E6%9C%89%E5%85%B6%E4%BB%96%E4%BF%A9%E7%A7%8D%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F%EF%BC%89"><span class="toc-number">12.3.5.</span> <span class="toc-text">链式前向星（ 迪杰斯特与佛洛依德算法里 有其他俩种存储方式）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%98%E6%B3%95%E9%80%86%E5%85%83-%E6%B1%82%E8%A7%A3%EF%BC%88a-b%EF%BC%89mod-p-%E9%97%AE%E9%A2%98"><span class="toc-number">12.3.6.</span> <span class="toc-text">乘法逆元 求解（a&#x2F;b）mod p 问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E9%9B%85%E6%9A%B4%E5%8A%9B%E2%80%94%E2%80%94%E8%8E%AB%E9%98%9F"><span class="toc-number">12.3.7.</span> <span class="toc-text">优雅暴力——莫队</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E6%A0%91%EF%BC%88Trie%E6%A0%91%EF%BC%89"><span class="toc-number">12.3.8.</span> <span class="toc-text">字典树（Trie树）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91"><span class="toc-number">12.3.9.</span> <span class="toc-text">最小生成树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tarjin%E7%AE%97%E6%B3%95"><span class="toc-number">12.3.10.</span> <span class="toc-text">tarjin算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E4%BD%8Ddp"><span class="toc-number">12.3.11.</span> <span class="toc-text">数位dp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8A%B6%E5%8E%8Bdp"><span class="toc-number">12.3.12.</span> <span class="toc-text">状压dp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97"><span class="toc-number">12.3.13.</span> <span class="toc-text">优先队列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#string"><span class="toc-number">12.3.14.</span> <span class="toc-text">string</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%AB%98%E7%B2%BE%E5%BA%A6"><span class="toc-number">13.</span> <span class="toc-text">高精度</span></a></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('https://i.loli.net/2021/08/03/kZaRI3WNvuLfyKc.png')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Hoppz</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>